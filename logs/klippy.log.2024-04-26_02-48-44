===== Config file =====
[board_pins octopus_max_ez_tmc2209]
aliases = 
	
	
	motor_1_step=PC13, motor_1_dir=PC14, motor_1_enable=PE6, motor_1_uart=PG14,
	motor_2_step=PE4, motor_2_dir=PE5, motor_2_enable=PE3, motor_2_uart=PG13,
	motor_3_step=PE1, motor_3_dir=PE0, motor_3_enable=PE2, motor_3_uart=PG12,
	motor_4_step=PB8, motor_4_dir=PB9, motor_4_enable=PB7, motor_4_uart=PG11,
	motor_5_step=PB5, motor_5_dir=PB4, motor_5_enable=PB6, motor_5_uart=PG10,
	motor_6_step=PG15, motor_6_dir=PB3, motor_6_enable=PD5, motor_6_uart=PG9,
	motor_7_step=PD3, motor_7_dir=PD2, motor_7_enable=PD4, motor_7_uart=PD7,
	motor_8_step=PA10, motor_8_dir=PA9, motor_8_enable=PA15, motor_8_uart=PD6,
	motor_9_step=PA8, motor_9_dir=PC7, motor_9_enable=PC9, motor_9_uart=PG8,
	motor_10_step=PG6, motor_10_dir=PC6, motor_10_enable=PC8, motor_10_uart=PG7,
	
	stepper_spi_mosi=PE14, stepper_spi_miso=PE13, stepper_spi_sclk=PE12,
	
	
	heater_e0=PF6, heater_e1=PA3, heater_e2=PF9, heater_e3=PF7, heater_bed=PF5,
	
	
	thermistor_e0=PB0, thermistor_e1=PC5, thermistor_e2=PC4, thermistor_e3=PA7, thermistor_bed=PB1,
	
	
	endstop_motor_1=PF0, endstop_motor_2=PF2, endstop_motor_3=PF4, det_motor_4=PF3, det_motor_5=PF1, det_motor_6=PC15,
	
	
	fan_0=PA6, fan_1=PA5, fan_2=PA4, fan_3=PA3,
	fan_4_pwm=PA1, fan_4_tach=PC3, fan_5_pwm=PF8, fan_5_tach=PC1, fan_6_pwm=PA2, fan_6_tach=PC2,
	
	
	rgb_led_1=PE10, rgb_led_2=PE9,
	
	
	ps_on=PF13, pwr_det=PF12,
	
	
	bltouch_servo=PB14, bltouch_probe=PB15,
	
	
	proximity_probe=PF11,
	
	
	filament_sensor_adc1=PC0, filament_sensor_adc2=PF10,
	
	
	eeprom_scl=PB10, eeprom_sda=PB11,
	
	
	can_rx=PD0, can_tx=PD1,
	
	
	tft_uart_rx=PD9, tft_uart_tx=PD8,
	
	
	usb_dm=PA11, usb_dp=PA12,
	
	
	lcd_d7=PE15, lcd_d6=PD10, lcd_d5=PD11, lcd_d4=PD12, lcd_rs=PD13, lcd_en=PD14, lcd_buzzer=PG2, lcd_enc=PD15,
	lcd_reset=RESET, sd_detect=PG3,
	
	
	tmc_spi_cs=PF14, tmc_spi_mosi=PE14, tmc_spi_miso=PE13, tmc_spi_sclk=PE12,
	
	
	wifi_reset=PB2, wifi_io0=PG0, wifi_io4=PF15, wifi_rx=PE7, wifi_tx=PE8, wifi_cs=PG15, wifi_mosi=PC12, wifi_miso=PC11, wifi_sclk=PC10,

[mcu]
baud = 250000
serial = /dev/btt-octopus-max-ez

[temperature_sensor Octopus_Max]
sensor_type = temperature_mcu
min_temp = 0
max_temp = 100

[mcu rpi]
serial = /tmp/klipper_host_mcu

[temperature_sensor Pi]
sensor_type = temperature_host
min_temp = 0
max_temp = 100

[mcu thermexp1]
serial = /dev/serial/by-id/usb-Klipper_stm32f042x6_260038001743303358333420-if00
restart_method = command

[mcu thermexp2]
serial = /dev/serial/by-id/usb-Klipper_stm32f042x6_250028001743303358333420-if00
restart_method = command

[idle_timeout]
gcode = 
	{% if printer.webhooks.state|lower == 'ready' %}
	{% if printer.pause_resume.is_paused|lower == 'false' %}
	M117 Idle timeout reached
	TURN_OFF_HEATERS
	M84
	{% endif %}
	{% endif %}
timeout = 7200

[skew_correction]

[input_shaper]
shaper_type_x = ei
shaper_freq_x = 101.2
shaper_type_y = mzv
shaper_freq_y = 72.8

[virtual_sdcard]
path = ~/printer_data/gcodes

[display_status]

[pause_resume]

[force_move]
enable_force_move = True

[respond]

[exclude_object]

[gcode_arcs]
resolution = 0.3

[heater_bed]
heater_pin = heater_bed
sensor_type = temperature_combined
sensor_list = temperature_sensor bed_mat, temperature_sensor bed_core
combination_method = mean
maximum_deviation = 999999
min_temp = 0
max_temp = 140
pwm_cycle_time = 0.02
control = pid
pid_kp = 55.540
pid_ki = 1.448
pid_kd = 532.581

[temperature_sensor bed_mat]
sensor_pin = thermistor_bed
sensor_type = Generic 3950
min_temp = 0
max_temp = 150

[temperature_sensor bed_core]
sensor_pin = thermistor_e0
sensor_type = PT1000
pullup_resistor = 2200
min_temp = 0
max_temp = 150

[printer]
kinematics = corexy
max_velocity = 800
max_accel = 12000
minimum_cruise_ratio = 0.5
max_z_velocity = 20
max_z_accel = 150
square_corner_velocity = 5

[ratos_homing]
axes = xyz
z_hop = 15
z_hop_speed = 15
gcode = 
	{% set x_homed = 'x' in printer.toolhead.homed_axes %}
	{% set y_homed = 'y' in printer.toolhead.homed_axes %}
	{% set safe_home_x = printer["gcode_macro RatOS"].safe_home_x %}
	{% set safe_home_y = printer["gcode_macro RatOS"].safe_home_y %}
	{% if safe_home_x is not defined or safe_home_x|lower == 'middle' %}
	{% set safe_home_x = printer.toolhead.axis_maximum.x / 2 %}
	{% endif %}
	{% if safe_home_y is not defined or safe_home_y|lower == 'middle' %}
	{% set safe_home_y = printer.toolhead.axis_maximum.y / 2 %}
	{% endif %}
	{% set z_probe = printer["gcode_macro RatOS"].z_probe|lower %}
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set z_speed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	{% set z_hop = printer.configfile.config.ratos_homing.z_hop|float %}
	{% set z_hop_speed = printer.configfile.config.ratos_homing.z_hop_speed|float * 60 %}
	{% set homing_x = printer["gcode_macro RatOS"].homing_x|lower %}
	{% set homing_y = printer["gcode_macro RatOS"].homing_y|lower %}
	{% set homing = printer["gcode_macro RatOS"].homing|lower %}
	{% set prev_stop_on_error = printer["gcode_macro RatOS"].stowable_probe_stop_on_error %}
	
	
	SET_GCODE_VARIABLE MACRO=RatOS VARIABLE=stowable_probe_stop_on_error VALUE=True
	
	M400
	G90
	
	{% if params.X is defined or params.Y is not defined and params.Z is not defined %}
	RESPOND MSG="Homing X"
	{% if homing_x == 'endstop' or homing == 'endstops' %}
	G28 X
	{% elif homing_x == 'sensorless' or homing == 'sensorless' %}
	HOME_X_SENSORLESS
	{% else %}
	{ action_emergency_stop("expected RatOS variable_homing_x to be 'sensorless' 'endstop' or variable_homing to be 'sensorless' or 'endstops' but found {} and {}".format(homing_x, homing)) }
	{% endif %}
	{% set x_homed = True %}
	G0 X{safe_home_x} F{speed}
	M400
	{% endif %}
	
	{% if params.Y is defined or params.X is not defined and params.Z is not defined %}
	RESPOND MSG="Homing Y"
	{% if homing_y == 'endstop' or homing == 'endstops' %}
	G28 Y
	{% elif homing_y == 'sensorless' or homing == 'sensorless' %}
	HOME_Y_SENSORLESS
	{% else %}
	{ action_emergency_stop("expected RatOS variable_homing_y to be 'sensorless' 'endstop' or variable_homing to be 'sensorless' or 'endstops' but found {} and {}".format(homing_y, homing)) }
	{% endif %}
	{% set y_homed = True %}
	G0 Y{safe_home_y} F{speed}
	M400
	{% endif %}
	
	{% if params.Z is defined or params.Y is not defined and params.X is not defined %}
	RESPOND MSG="Homing Z"
	{% if x_homed == False or y_homed == False %}
	M118 X and Y must be homed before homing Z
	{ action_emergency_stop("X and Y must be homed before homing Z") }
	{% else %}
	{% if z_probe == "stowable" %}
	DEPLOY_PROBE
	G0 X{safe_home_x} Y{safe_home_y} F{speed}
	G28 Z
	G0 Z{z_hop} F{z_hop_speed}
	STOW_PROBE
	{% else %}
	G0 X{safe_home_x} Y{safe_home_y} F{speed}
	G28 Z
	G0 Z{z_hop} F{z_hop_speed}
	{% endif %}
	{% endif %}
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO=RatOS VARIABLE=stowable_probe_stop_on_error VALUE={prev_stop_on_error}

[gcode_macro HOME_X_SENSORLESS]
gcode = 
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set x_driver = printer["gcode_macro RatOS"].driver_type_x|lower ~ " stepper_x" %}
	{% set y_driver = printer["gcode_macro RatOS"].driver_type_y|lower ~ " stepper_y" %}
	{% set safe_home_x = printer["gcode_macro RatOS"].safe_home_x %}
	{% if safe_home_x is not defined or safe_home_x|lower == 'middle' %}
	{% set safe_home_x = printer.toolhead.axis_maximum.x / 2 %}
	{% endif %}
	M204 S1000
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={printer["gcode_macro RatOS"].sensorless_x_current}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={printer["gcode_macro RatOS"].sensorless_x_current}
	G4 P300
	G28 X
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={printer.configfile.config[x_driver].run_current}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={printer.configfile.config[y_driver].run_current}
	G4 P300
	
	M204 S{printer.configfile.config.printer.max_accel}

[gcode_macro HOME_Y_SENSORLESS]
gcode = 
	{% set safe_home_y = printer["gcode_macro RatOS"].safe_home_y %}
	{% set x_driver = printer["gcode_macro RatOS"].driver_type_x|lower ~ " stepper_x" %}
	{% set y_driver = printer["gcode_macro RatOS"].driver_type_y|lower ~ " stepper_y" %}
	{% if safe_home_y is not defined or safe_home_y|lower == 'middle' %}
	{% set safe_home_y = printer.toolhead.axis_maximum.y / 2 %}
	{% endif %}
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	M204 S1000
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={printer["gcode_macro RatOS"].sensorless_y_current}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={printer["gcode_macro RatOS"].sensorless_y_current}
	G4 P300
	G28 Y
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={printer.configfile.config[x_driver].run_current}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={printer.configfile.config[y_driver].run_current}
	G4 P300
	
	M204 S{printer.configfile.config.printer.max_accel}

[gcode_macro MAYBE_HOME]
description = Only home unhomed axis
variable_is_kinematic_position_overriden = False
gcode = 
	{% if printer["gcode_macro MAYBE_HOME"].is_kinematic_position_overriden|lower == 'true' %}
	RESPOND MSG="SET_CENTER_KINEMATIC_POSITION has been abused. Homing all axes. Please refrain from using SET_CENTER_KINEMATIC_POSITION outside of debugging purposes."
	G28
	SET_GCODE_VARIABLE MACRO=MAYBE_HOME VARIABLE=is_kinematic_position_overriden VALUE=False
	{% else %}
	{% set axes = '' %}
	{% set isHomed = true %}
	{% set axesToHome = '' %}
	{% if params.X is defined %}
	{% set axes = axes ~ 'X ' %}
	{% if 'x' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'X ' %}
	{% endif %}
	{% endif %}
	{% if params.Y is defined %}
	{% set axes = axes ~ 'Y ' %}
	{% if 'y' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'Y ' %}
	{% endif %}
	{% endif %}
	{% if params.Z is defined %}
	{% set axes = axes ~ 'Z ' %}
	{% if 'z' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'Z ' %}
	{% endif %}
	{% endif %}
	{% if params.X is not defined and params.Y is not defined and params.Z is not defined %}
	{% set axes = '' %}
	{% if 'x' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'X ' %}
	{% endif %}
	{% if 'y' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'Y ' %}
	{% endif %}
	{% if 'z' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'Z ' %}
	{% endif %}
	{% endif %}
	{% if isHomed is false %}
	M117 Homing {axesToHome}
	RESPOND MSG="Homing {axesToHome}"
	G28 {axesToHome}
	{% else %}
	RESPOND MSG="All requested axes already homed, skipping.."
	{% endif %}
	{% endif %}

[gcode_macro ECHO_RATOS_VARS]
description = Echo RatOS variables to the console.
gcode = 
	{% for var, value in printer["gcode_macro RatOS"].items() %}
	{action_respond_info(var ~ ": " ~ value)}
	{% endfor %}

[gcode_macro PAUSE]
description = Pauses the printer
rename_existing = PAUSE_BASE
variable_extrude = 1.5
gcode = 
	SAVE_GCODE_STATE NAME=PAUSE_state
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set z_speed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 20.0) %}
	{% set z_safe = 20.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	PAUSE_BASE
	G91
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F{z_speed}
	_PARK LOCATION={printer["gcode_macro RatOS"].pause_print_park_in} X={printer["gcode_macro RatOS"].pause_print_park_x}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro RESUME]
description = Resumes the print if the printer is paused.
rename_existing = RESUME_BASE
gcode = 
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	G90
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESTORE_GCODE_STATE NAME=PAUSE_state MOVE=1 MOVE_SPEED={printer["gcode_macro RatOS"].macro_travel_speed|float}
	RESUME_BASE

[gcode_macro CANCEL_PRINT]
description = Cancels the printer
rename_existing = CANCEL_PRINT_BASE
gcode = 
	END_PRINT
	FILDET_DISABLE
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	
	CANCEL_PRINT_BASE
	RESPOND COLOR=error MSG="Print cancelled"
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30

[gcode_macro PRIME_LINE]
description = Prints a primeline, used internally, if configured, as part of the START_PRINT macro.
gcode = 
	SAVE_GCODE_STATE NAME=prime_line_state
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set z_speed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'min' %}
	{% set x_start = 5 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'max' %}
	{% set x_start = printer.toolhead.axis_maximum.x - 5 %}
	{% else %}
	{% set x_start = printer["gcode_macro RatOS"].nozzle_prime_start_x|float %}
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'min' %}
	{% set y_start = 5 %}
	{% set y_factor = 1 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'max' %}
	{% set y_start = printer.toolhead.axis_maximum.y - 5 %}
	{% set y_factor = -1 %}
	{% else %}
	{% set y_start = printer["gcode_macro RatOS"].nozzle_prime_start_y|float %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_y|float < printer.toolhead.axis_maximum.y / 2 %}
	{% set y_factor = 1 %}
	{% else %}
	{% set y_factor = -1 %}
	{% endif %}
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_direction|lower == 'forwards' %}
	{% set y_factor = 1 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_direction|lower == 'backwards' %}
	{% set y_factor = -1 %}
	{% endif %}
	{% set z = printer["gcode_macro RatOS"].start_print_park_z_height|float %}
	
	G90
	
	M82
	M117 Priming nozzle with prime line..
	RESPOND MSG="Priming nozzle with prime line.."
	
	G0 Z{z} F{z_speed}
	
	G1 X{x_start} F{speed}
	G1 Y{y_start} F{speed}
	
	G1 Z0.3 F{z_speed}
	
	G92 E0
	
	G1 Y{y_start + (70 * y_factor)} E16 F1200
	
	G1 Y{y_start + (90 * y_factor)} F{speed}
	RESTORE_GCODE_STATE NAME=prime_line_state

[gcode_macro PRIME_BLOB]
description = Prints a primeblob, used internally, if configured, as part of the START_PRINT macro. Slower than PRIME_LINE but much more effective.
gcode = 
	SAVE_GCODE_STATE NAME=prime_blob_state
	M117 Priming nozzle with prime blob..
	RESPOND MSG="Priming nozzle with prime blob.."
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set z_speed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	{% set fan_speed = printer["gcode_macro RatOS"].nozzle_prime_bridge_fan|float %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'min' %}
	{% set x_start = 5 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'max' %}
	{% set x_start = printer.toolhead.axis_maximum.x - 5 %}
	{% else %}
	{% set x_start = printer["gcode_macro RatOS"].nozzle_prime_start_x|float %}
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'min' %}
	{% set y_start = 5 %}
	{% set y_factor = 1 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'max' %}
	{% set y_start = printer.toolhead.axis_maximum.y - 5 %}
	{% set y_factor = -1 %}
	{% else %}
	{% set y_start = printer["gcode_macro RatOS"].nozzle_prime_start_y|float %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_y|float < printer.toolhead.axis_maximum.y / 2 %}
	{% set y_factor = 1 %}
	{% else %}
	{% set y_factor = -1 %}
	{% endif %}
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_direction|lower == 'forwards' %}
	{% set y_factor = 1 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_direction|lower == 'backwards' %}
	{% set y_factor = -1 %}
	{% endif %}
	{% set z = printer["gcode_macro RatOS"].start_print_park_z_height|float %}
	
	G90
	
	M83
	
	G0 Z{z} F{z_speed}
	
	G1 X{x_start} F{speed}
	G1 Y{y_start + (15 * y_factor)} F{speed}
	
	G1 Z0.5 F{z_speed}
	
	G1 Y{y_start} F{speed}
	
	G1 F60 E20
	
	M106 S{fan_speed}
	
	G1 Z5 F100 E5
	
	G1 F200 Y{y_start + (25 * y_factor)} E1
	
	
	
	G1 F200 Y{y_start + (30 * y_factor)} Z3.8 E0.5
	G1 F200 Y{y_start + (35 * y_factor)} Z2.6 E0.5
	G1 F200 Y{y_start + (40 * y_factor)} Z1.4 E0.5
	G1 F200 Y{y_start + (45 * y_factor)} Z0.2 E0.5
	
	M106 S0
	
	G1 F200 Y{y_start + (50 * y_factor)} Z0.2 E0.6
	
	G1 F{speed} Y{y_start + (100 * y_factor)}
	RESTORE_GCODE_STATE NAME=prime_blob_state

[gcode_macro _PARK]
gcode = 
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	
	{% if params.X != '' %}
	{% if params.X|float >= printer.toolhead.axis_minimum.x + 5 and params.X|float <= printer.toolhead.axis_maximum.x - 5 %}
	{% set safe_x = params.X|float %}
	{% else %}
	{action_respond_info('The requested X co-ordinate is outside the defined axis bounds - using defaults')}
	{% set safe_x = printer.toolhead.axis_maximum.x / 2 %}
	{% endif %}
	{% else %}
	{% set safe_x = printer.toolhead.axis_maximum.x / 2 %}
	{% endif %}
	
	{% if params.LOCATION|default('back')|lower == 'back' %}
	{% set y = printer.toolhead.axis_maximum.y - 5 %}
	{% elif params.LOCATION|lower == 'front' %}
	{% set y = printer.toolhead.axis_minimum.y + 5 %}
	{% elif params.LOCATION|lower == 'center' %}
	{% set y = printer.toolhead.axis_maximum.y / 2 %}
	{% endif %}
	
	G90
	
	G0 X{safe_x} Y{y} F{speed}

[gcode_macro M600]
description = Executes a color change by pausing the printer an unloading the filament.
gcode = 
	PAUSE
	UNLOAD_FILAMENT
	M117 Please load new filament and resume
	RESPOND MSG="Please load new filament and resume"

[gcode_macro UNLOAD_FILAMENT]
description = Unloads the filament. Note: be careful with PETG, make sure you inspect the tip of your filament before reloading to avoid jams.
gcode = 
	SAVE_GCODE_STATE NAME=unload_state
	G91
	{% if params.TEMP is defined or printer.extruder.can_extrude|lower == 'false' %}
	M117 Heating...
	
	M104 S{params.TEMP|default(220, true)}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={params.TEMP|default(220, true)}
	{% endif %}
	{% set unload_speed = printer["gcode_macro RatOS"].filament_unload_speed|float * 60 %}
	{% set unload_length = printer["gcode_macro RatOS"].filament_unload_length|float %}
	M117 Unloading filament...
	
	G0 E10 F300
	
	G0 E-5 F3600
	
	G4 P3000
	
	G0 E5 F3600
	
	G0 E-15 F3600
	
	G0 E-{unload_length} F{unload_speed}
	M117 Filament unloaded!
	RESPOND MSG="Filament unloaded! Please inspect the tip of the filament before reloading."
	RESTORE_GCODE_STATE NAME=unload_state

[gcode_macro LOAD_FILAMENT]
description = Loads new filament. Note: be careful with PETG, make sure you inspect the tip of your filament before loading to avoid jams.
gcode = 
	SAVE_GCODE_STATE NAME=load_state
	G91
	
	{% if params.TEMP is defined or printer.extruder.can_extrude|lower == 'false' %}
	M117 Heating...
	M104 S{params.TEMP|default(220, true)}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={params.TEMP|default(220, true)}
	{% endif %}
	{% set load_speed = printer["gcode_macro RatOS"].filament_load_speed|float * 60 %}
	{% set load_length = printer["gcode_macro RatOS"].filament_load_length|float %}
	M117 Loading filament...
	
	G0 E{load_length} F{load_speed}
	
	G4 P1000
	
	G0 E40 F100
	
	M400
	M117 Filament loaded!
	RESPOND MSG="Filament loaded!"
	RESTORE_GCODE_STATE NAME=load_state

[gcode_macro SET_CENTER_KINEMATIC_POSITION]
description = FOR DEBUGGING PURPOSES ONLY. Sets the internal printer kinematic state to the center of all axes regardless of actual physical position.
gcode = 
	RESPOND MSG="WARNING: ONLY USE SET_CENTER_KINEMATIC_POSITION FOR DEBUGGING PURPOSES. YOU'RE OVERRIDING THE INTERNAL POSITIONING STATE OF THE PRINTER. PROCEED WITH CAUTION AND DO A PROPER G28 WHEN DONE."
	SET_GCODE_VARIABLE MACRO=MAYBE_HOME VARIABLE=is_kinematic_position_overriden VALUE=True
	SET_KINEMATIC_POSITION X={printer.toolhead.axis_maximum.x / 2} Y={printer.toolhead.axis_maximum.y / 2} Z={printer.toolhead.axis_maximum.z / 2}

[gcode_macro START_PRINT]
description = Start print procedure, use this in your Slicer.
gcode = 
	CLEAR_PAUSE
	FILDET_ENABLE
	{% if printer["gcode_macro RatOS"].force_absolute_position|lower == 'true' %}
	G90
	{% endif %}
	SAVE_GCODE_STATE NAME=start_print_state
	
	G21
	
	G90
	
	M82
	_USER_START_PRINT_BEFORE_HOMING
	{% if printer["gcode_macro RatOS"].z_probe|lower == 'stowable' %}
	STOWABLE_PROBE_BEGIN_BATCH
	{% endif %}
	
	MAYBE_HOME
	{% if params.CHAMBER_TEMP is defined %}
	_START_PRINT_HEAT_CHAMBER CHAMBER_TEMP={params.CHAMBER_TEMP} BED_TEMP={printer["gcode_macro RatOS"].start_print_heat_chamber_bed_temp}
	_USER_START_PRINT_HEAT_CHAMBER CHAMBER_TEMP={params.CHAMBER_TEMP} BED_TEMP={printer["gcode_macro RatOS"].start_print_heat_chamber_bed_temp}
	{% endif %}
	M117 Heating bed...
	RESPOND MSG="Heating bed..."
	
	M190 S{params.BED_TEMP|default(printer.heater_bed.target, true) }
	
	_USER_START_PRINT_AFTER_HEATING_BED
	
	_START_PRINT_AFTER_HEATING_BED
	
	_USER_START_PRINT_BED_MESH
	
	_START_PRINT_BED_MESH X0={params.X0} X1={params.X1} Y0={params.Y0} Y1={params.Y1}
	{% if printer["gcode_macro RatOS"].z_probe|lower == 'stowable' %}
	STOWABLE_PROBE_END_BATCH
	{% endif %}
	
	M104 S{params.EXTRUDER_TEMP|default(printer.extruder.target, true) }
	
	_USER_START_PRINT_PARK
	
	_START_PRINT_PARK
	
	M117 Heating Extruder...
	RESPOND MSG="Heating Extruder..."
	M109 S{params.EXTRUDER_TEMP|default(printer.extruder.target, true) }
	
	_USER_START_PRINT_AFTER_HEATING_EXTRUDER
	
	_START_PRINT_AFTER_HEATING_EXTRUDER
	M117 Printing...
	RESPOND MSG="Printing..."
	RESTORE_GCODE_STATE NAME=start_print_state
	
	{% if printer["gcode_macro RatOS"].relative_extrusion|lower == 'true' %}
	M83
	{% else %}
	M82
	{% endif %}
	G92 E0

[gcode_macro _USER_START_PRINT_BEFORE_HOMING]
gcode = 

[gcode_macro _START_PRINT_AFTER_HEATING_BED]
gcode = 
	{% if printer["gcode_macro RatOS"].preheat_extruder|lower == 'true' %}
	{% set min_temp = printer["gcode_macro RatOS"].preheat_extruder_temp|float %}
	{% set max_temp = printer["gcode_macro RatOS"].preheat_extruder_temp|float + 5 %}
	M117 Pre-heating extruder...
	RESPOND MSG="Pre-heating extruder..."
	
	
	M104 S{min_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={min_temp} MAXIMUM={max_temp}
	{% endif %}
	M117 Adjusting Z tilt...
	RESPOND MSG="Adjusting Z tilt..."
	
	Z_TILT_ADJUST
	M117 Rehoming Z after Z tilt adjustment...
	RESPOND MSG="Rehoming Z after Z tilt adjustment..."
	
	G28 Z

[gcode_macro Z_TILT_ADJUST]
rename_existing = Z_TILT_ADJUST_ORIG
gcode = 
	{% if printer["gcode_macro RatOS"].z_probe == 'stowable' %}
	DEPLOY_PROBE
	{% endif %}
	Z_TILT_ADJUST_ORIG
	{% if printer["gcode_macro RatOS"].z_probe == 'stowable' %}
	STOW_PROBE
	{% endif %}

[gcode_macro _USER_START_PRINT_AFTER_HEATING_BED]
gcode = 
	{% if printer["gcode_macro RatOS"].bed_soak|lower == 'true' %}
	G4 P{printer["gcode_macro RatOS"].bed_soak_time}
	{% endif %}

[gcode_macro _START_PRINT_BED_MESH]
gcode = 
	{% set default_profile = printer["gcode_macro RatOS"].bed_mesh_profile|default('ratos') %}
	{% if printer["gcode_macro RatOS"].calibrate_bed_mesh|lower == 'true' %}
	BED_MESH_CLEAR
	{% if printer["gcode_macro RatOS"].adaptive_mesh|lower == 'true' %}
	CALIBRATE_ADAPTIVE_MESH PROFILE={default_profile} X0={params.X0} X1={params.X1} Y0={params.Y0} Y1={params.Y1}
	{% else %}
	BED_MESH_CALIBRATE PROFILE={default_profile}
	{% endif %}
	BED_MESH_PROFILE LOAD={default_profile}
	{% elif printer["gcode_macro RatOS"].bed_mesh_profile is defined %}
	BED_MESH_CLEAR
	BED_MESH_PROFILE LOAD={printer["gcode_macro RatOS"].bed_mesh_profile}
	{% endif %}

[gcode_macro _USER_START_PRINT_BED_MESH]
gcode = 

[gcode_macro _START_PRINT_PARK]
gcode = 
	{% set z = printer["gcode_macro RatOS"].start_print_park_z_height|float %}
	{% set zSpeed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	_PARK LOCATION={printer["gcode_macro RatOS"].start_print_park_in} X={printer["gcode_macro RatOS"].start_print_park_x}
	G0 Z{z} F{zSpeed}

[gcode_macro _USER_START_PRINT_PARK]
gcode = 

[gcode_macro _START_PRINT_AFTER_HEATING_EXTRUDER]
gcode = 
	{% set has_offset = printer["gcode_macro RatOS"].probe_for_priming_result|float(9999.9) != 9999.9 %}
	{% if has_offset %}
	ADD_PRIME_PROBE_TO_OFFSET
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_priming|lower == 'primeline' %}
	PRIME_LINE
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_priming|lower == 'primeblob' %}
	PRIME_BLOB
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_priming|lower == 'linepurge' %}
	LINE_PURGE
	{% endif %}
	{% if has_offset %}
	SUBTRACT_PRIME_PROBE_FROM_OFFSET
	{% endif %}
	{% if printer["gcode_macro RatOS"].skew_profile is defined %}
	SKEW_PROFILE LOAD={printer["gcode_macro RatOS"].skew_profile}
	{% endif %}

[gcode_macro _USER_START_PRINT_AFTER_HEATING_EXTRUDER]
gcode = 

[gcode_macro _START_PRINT_HEAT_CHAMBER]
description = Uses the extruder sensor to wait for chamber temp. Override the _START_PRINT_HEAT_CHAMBER macro to implement heated chamber handling.
gcode = 
	{% if params.CHAMBER_TEMP is defined and params.BED_TEMP is defined and params.CHAMBER_TEMP|int > 0 %}
	{% set z = printer["gcode_macro RatOS"].start_print_park_z_height|float %}
	{% set zSpeed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	G0 Z{z} F{zSpeed}
	M84
	M117 Heating chamber...
	RESPOND MSG="Heating chamber..."
	M140 S{params.BED_TEMP}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={params.CHAMBER_TEMP}
	MAYBE_HOME
	{% endif %}

[gcode_macro _USER_START_PRINT_HEAT_CHAMBER]
description = Uses the extruder sensor to wait for chamber temp. Override the _START_PRINT_HEAT_CHAMBER macro to implement heated chamber handling.
gcode = 

[gcode_macro END_PRINT]
description = End print procedure, use this in your Slicer.
gcode = 
	FILDET_DISABLE
	SAVE_GCODE_STATE NAME=end_print_state
	_USER_END_PRINT_BEFORE_HEATERS_OFF
	_END_PRINT_BEFORE_HEATERS_OFF
	TURN_OFF_HEATERS
	_USER_END_PRINT_AFTER_HEATERS_OFF
	_END_PRINT_AFTER_HEATERS_OFF
	_USER_END_PRINT_PARK
	_END_PRINT_PARK
	
	{% if printer["gcode_macro RatOS"].skew_profile is defined %}
	SET_SKEW CLEAR=1
	{% endif %}
	
	M84
	
	M107
	
	BED_MESH_CLEAR
	BED_MESH_PROFILE REMOVE="ratos"
	M117 Done :)
	RESTORE_GCODE_STATE NAME=end_print_state
	RESPOND COLOR=success MSG="Print done"
	PRINT_DONE
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30

[gcode_macro _END_PRINT_BEFORE_HEATERS_OFF]
gcode = 
	RESPOND MSG="Cleaning up..."

[gcode_macro _USER_END_PRINT_BEFORE_HEATERS_OFF]
gcode = 

[gcode_macro _END_PRINT_AFTER_HEATERS_OFF]
gcode = 
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% set z_hop = printer["gcode_macro RatOS"].end_print_park_z_hop|float %}
	{% if act_z < (max_z - z_hop) %}
	{% set z_safe = z_hop %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	G91
	
	G1 E-2 F3600
	
	G0 Z{z_safe} F3600
	
	G1 E-2 F3600
	
	G90

[gcode_macro _USER_END_PRINT_AFTER_HEATERS_OFF]
gcode = 

[gcode_macro _END_PRINT_PARK]
gcode = 
	_PARK LOCATION={printer["gcode_macro RatOS"].end_print_park_in} X={printer["gcode_macro RatOS"].end_print_park_x}

[gcode_macro _USER_END_PRINT_PARK]
gcode = 

[gcode_macro SAVE_PROBE_RESULT]
gcode = 
	{% set last_z = printer.probe.last_z_result %}
	SET_GCODE_VARIABLE MACRO=RatOS VARIABLE={params.VARIABLE|default('last_z')} VALUE={last_z}

[gcode_macro PROBE_FOR_PRIMING]
gcode = 
	{% if printer["gcode_macro RatOS"].nozzle_priming|lower != 'false' %}
	SAVE_GCODE_STATE NAME=probe_for_priming_state
	RESPOND MSG="Probing the prime location.."
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set z_speed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'min' %}
	{% set x_start = 5 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'max' %}
	{% set x_start = printer.toolhead.axis_maximum.x - 5 %}
	{% else %}
	{% set x_start = printer["gcode_macro RatOS"].nozzle_prime_start_x|float %}
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'min' %}
	{% set y_start = 5 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'max' %}
	{% set y_start = printer.toolhead.axis_maximum.y - 5 %}
	{% else %}
	{% set y_start = printer["gcode_macro RatOS"].nozzle_prime_start_y|float %}
	{% endif %}
	{% set z = printer.configfile.settings.bed_mesh.horizontal_move_z|float %}
	
	{% set mesh_config = printer.configfile.config.bed_mesh %}
	
	
	{% if printer.configfile.settings.bltouch is defined %}
	{% set x_offset = printer.configfile.settings.bltouch.x_offset|float %}
	{% set y_offset = printer.configfile.settings.bltouch.y_offset|float %}
	{% elif printer.configfile.settings.probe is defined %}
	{% set x_offset = printer.configfile.settings.probe.x_offset|float %}
	{% set y_offset = printer.configfile.settings.probe.y_offset|float %}
	{% elif printer.configfile.settings.beacon is defined %}
	{% set x_offset = printer.configfile.settings.beacon.x_offset|float %}
	{% set y_offset = printer.configfile.settings.beacon.y_offset|float %}
	{% else %}
	{ action_raise_error("No probe or bltouch section found. Adaptive priming only works with [probe] or [bltouch].") }
	{% endif %}
	
	
	{% set min_x = mesh_config.mesh_min.split(",")[0]|float - x_offset %}
	{% set min_y = mesh_config.mesh_min.split(",")[1]|float - y_offset %}
	{% set max_x = mesh_config.mesh_max.split(",")[0]|float - x_offset %}
	{% set max_y = mesh_config.mesh_max.split(",")[1]|float - y_offset %}
	
	
	{% set x_start = [[x_start, max_x]|min, min_x]|max %}
	{% set y_start = [[y_start, max_y]|min, min_y]|max %}
	
	RESPOND MSG="PROBE_FOR_PRIMING: Probing the prime location at X: {x_start} Y: {y_start}"
	
	
	G90
	
	M83
	
	G0 Z{z} F{z_speed}
	
	G1 X{x_start} Y{y_start} F{speed}
	PROBE_CURRENT_POSITION
	SAVE_PROBE_RESULT VARIABLE=probe_for_priming_result
	
	RESTORE_GCODE_STATE NAME=probe_for_priming_state
	{% endif %}

[gcode_macro RESET_PRIME_PROBE_STATE]
gcode = 
	SET_GCODE_VARIABLE MACRO=RatOS VARIABLE=probe_for_priming_result VALUE=None

[gcode_macro PROBE_CURRENT_POSITION]
gcode = 
	SAVE_GCODE_STATE NAME=probe_current_position_state
	{% if printer["gcode_macro RatOS"].z_probe|lower == 'stowable' %}
	ASSERT_PROBE_DEPLOYED
	{% endif %}
	PROBE
	RESTORE_GCODE_STATE NAME=probe_current_position_state MOVE=1 MOVE_SPEED={printer["gcode_macro RatOS"].macro_z_speed|float}

[gcode_macro ADD_PRIME_PROBE_TO_OFFSET]
gcode = 
	{% set last_z = printer["gcode_macro RatOS"].probe_for_priming_result|float(9999.9) %}
	{% if printer.configfile.settings.bltouch is defined %}
	{% set z_offset = printer.configfile.settings.bltouch.z_offset|float %}
	{% elif printer.configfile.settings.probe is defined %}
	{% set z_offset = printer.configfile.settings.probe.z_offset|float %}
	{% else %}
	{ action_raise_error("No probe or bltouch section found. Adaptive priming only works with [probe] or [bltouch].") }
	{% endif %}
	{% if last_z == 9999.9 %}
	{ action_raise_error("No probe result found for prime area. This is likely a bug.") }
	{% endif %}
	{% set adjustment = last_z - z_offset %}
	{% set adjustment_threshold = printer["gcode_macro RatOS"].adaptive_prime_offset_threshold|float %}
	{% if adjustment < adjustment_threshold %}
	{ action_raise_error("Abnormal probe offset detected. Needed offset of {adjustment} is below the offset threshold of -1mm. Please verify the probe is over the bed when probing for priming. If it isn't, you should adjust you min/max bed_mesh settings so the probe is always over the print area.") }
	{% endif %}
	RESPOND MSG="ADD_PRIME_PROBE_TO_OFFSET: adjusting z offset by {adjustment}"
	SET_GCODE_OFFSET Z_ADJUST={adjustment} MOVE=1

[gcode_macro SUBTRACT_PRIME_PROBE_FROM_OFFSET]
gcode = 
	{% set last_z = printer["gcode_macro RatOS"].probe_for_priming_result|float(9999.9) %}
	{% if printer.configfile.settings.bltouch is defined %}
	{% set z_offset = printer.configfile.settings.bltouch.z_offset|float %}
	{% elif printer.configfile.settings.probe is defined %}
	{% set z_offset = printer.configfile.settings.probe.z_offset|float %}
	{% else %}
	{ action_raise_error("No probe or bltouch section found. Adaptive priming only works with [probe] or [bltouch].") }
	{% endif %}
	{% if last_z == 9999.9 %}
	{ action_raise_error("No probe result found for prime area. This is likely a bug.") }
	{% endif %}
	RESPOND MSG="SUBTRACT_PRIME_PROBE_FROM_OFFSET: adjusting z offset by {z_offset - last_z}"
	SET_GCODE_OFFSET Z_ADJUST={z_offset - last_z} MOVE=1

[gcode_macro CALIBRATE_ADAPTIVE_MESH]
gcode = 
	
	{% set default_profile = params.PROFILE %}
	
	
	{% set x0 = params.X0|default(-1)|float %}
	{% set y0 = params.Y0|default(-1)|float %}
	{% set x1 = params.X1|default(-1)|float %}
	{% set y1 = params.Y1|default(-1)|float %}
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: Recieved coordinates X0={x0} Y0={y0} X1={x1} Y1={y1}"
	
	{% if x0 >= x1 or y0 >= y1 %}
	
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: Invalid coordinates received. Please check your slicer settings. Falling back to full bed mesh."
	BED_MESH_CALIBRATE PROFILE={default_profile}
	{% else %}
	
	{% set mesh_config = printer.configfile.config.bed_mesh %}
	
	
	{% set min_x = mesh_config.mesh_min.split(",")[0]|float %}
	{% set min_y = mesh_config.mesh_min.split(",")[1]|float %}
	{% set max_x = mesh_config.mesh_max.split(",")[0]|float %}
	{% set max_y = mesh_config.mesh_max.split(",")[1]|float %}
	
	
	{% set mesh_x0 = [[x0, max_x]|min, min_x]|max %}
	{% set mesh_y0 = [[y0, max_y]|min, min_y]|max %}
	{% set mesh_x1 = [[x1, max_x]|min, min_x]|max %}
	{% set mesh_y1 = [[y1, max_y]|min, min_y]|max %}
	
	{% if mesh_x0 == min_x and mesh_y0 == min_y and mesh_x1 == max_x and mesh_y1 == max_y %}
	
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: Print is using the full bed, falling back to full bed mesh."
	BED_MESH_CALIBRATE PROFILE={default_profile}
	{% else %}
	{% if printer["gcode_macro RatOS"].z_probe|lower == 'stowable' %}
	DEPLOY_PROBE
	{% endif %}
	
	{% set probe_count_x = mesh_config.probe_count.split(",")[0]|int %}
	{% if mesh_config.probe_count.split(",")|length == 2 %}
	{% set probe_count_y = mesh_config.probe_count.split(",")[1]|int %}
	{% else %}
	{% set probe_count_y = mesh_config.probe_count.split(",")[0]|int %}
	{% endif %}
	
	
	{% set probe_x_step = (max_x - min_x) / probe_count_x %}
	{% set probe_y_step = (max_y - min_y) / probe_count_y %}
	
	
	{% set mesh_count_x = ([(mesh_x1 - mesh_x0) / probe_x_step, 3]|max)|int %}
	{% set mesh_count_y = ([(mesh_y1 - mesh_y0) / probe_y_step, 3]|max)|int %}
	{% set min_mesh_count = [mesh_count_x, mesh_count_y]|min %}
	{% set max_mesh_count = [mesh_count_x, mesh_count_y]|max %}
	
	
	{% set algorithm = mesh_config.algorithm %}
	{% if algorithm|lower == 'lagrange' and max_mesh_count > 6 %}
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: cannot exceed a probe_count of 6 when using lagrange interpolation. Falling back to bicubic interpolation."
	{% set algorithm = 'bicubic' %}
	{% endif %}
	{% if algorithm|lower == 'bicubic' and min_mesh_count < 4 %}
	{% if max_mesh_count > 6 %}
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: invalid probe_count option when using bicubic interpolation. Combination of 3 points on one axis with more than 6 on another is not permitted. Forcing minimum mesh count to be 4."
	{% set min_mesh_count = 4 %}
	{% else %}
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: bicubic interpolation with a probe_count of less than 4 points detected. Forcing lagrange interpolation."
	{% set algorithm = 'lagrange' %}
	{% endif %}
	{% endif %}
	
	{% set mesh_count_x = ([min_mesh_count, mesh_count_x]|max)|int %}
	{% set mesh_count_x = ([max_mesh_count, mesh_count_x]|min)|int %}
	{% set mesh_count_y = ([min_mesh_count, mesh_count_y]|max)|int %}
	{% set mesh_count_y = ([max_mesh_count, mesh_count_y]|min)|int %}
	
	{% set should_prime = printer["gcode_macro RatOS"].nozzle_priming == 'primeline' or printer["gcode_macro RatOS"].nozzle_priming == 'primeblob' %}
	{% if printer.configfile.settings.beacon is defined %}
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: adaptive priming is currently not supported for Beacon. Disabling priming.."
	SET_GCODE_VARIABLE MACRO=RatOS VARIABLE=nozzle_priming VALUE=False
	{% set should_prime = False %}
	{% endif %}
	
	{% set prime_first = printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == "min" or printer["gcode_macro RatOS"].nozzle_prime_start_y|float(printer.toolhead.axis_maximum.y) < printer.toolhead.axis_maximum.y / 2 %}
	
	{% if should_prime and prime_first %}
	PROBE_FOR_PRIMING
	{% endif %}
	
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: mesh coordinates X0={mesh_x0} Y0={mesh_y0} X1={mesh_x1} Y1={mesh_y1}"
	BED_MESH_CALIBRATE PROFILE={default_profile} algorithm={algorithm} mesh_min={mesh_x0},{mesh_y0} mesh_max={mesh_x1},{mesh_y1} probe_count={mesh_count_x},{mesh_count_y}
	
	{% if should_prime and not prime_first %}
	PROBE_FOR_PRIMING
	{% endif %}
	{% if printer["gcode_macro RatOS"].z_probe|lower == 'stowable' %}
	STOW_PROBE
	{% endif %}
	
	{% endif %}
	{% endif %}

[gcode_macro LINE_PURGE]
description = A purge macro that adapts to be near your actual printed objects
gcode = 
	
	{% set travel_speed = (printer.toolhead.max_velocity) * 60 | float %}
	{% set cross_section = printer.configfile.settings.extruder.max_extrude_cross_section | float %}
	
	
	{% if printer.firmware_retraction is defined %}
	{% set RETRACT = G10 | string %}
	{% set UNRETRACT = G11 | string %}
	{% else %}
	{% set RETRACT = 'G1 E-.5 F2100' | string %}
	{% set UNRETRACT = 'G1 E.5 F2100' | string %}
	{% endif %}
	
	{% set verbose_enable = printer["gcode_macro RatOS"].verbose_enable | abs %}
	{% set purge_height = printer["gcode_macro RatOS"].purge_height | float %}
	{% set tip_distance = printer["gcode_macro RatOS"].tip_distance | float %}
	{% set purge_margin = printer["gcode_macro RatOS"].purge_margin | float %}
	{% set purge_amount = printer["gcode_macro RatOS"].purge_amount | float %}
	{% set flow_rate = printer["gcode_macro RatOS"].flow_rate | float %}
	
	
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set purge_x_min = (all_points | map(attribute=0) | min | default(0)) %}
	{% set purge_x_max = (all_points | map(attribute=0) | max | default(0)) %}
	{% set purge_y_min = (all_points | map(attribute=1) | min | default(0)) %}
	{% set purge_y_max = (all_points | map(attribute=1) | max | default(0)) %}
	
	{% set purge_x_center = ([((purge_x_max + purge_x_min) / 2) - (purge_amount / 2), 0] | max) %}
	{% set purge_y_center = ([((purge_y_max + purge_y_min) / 2) - (purge_amount / 2), 0] | max) %}
	
	{% set purge_x_origin = ([purge_x_min - purge_margin, 0] | max) %}
	{% set purge_y_origin = ([purge_y_min - purge_margin, 0] | max) %}
	
	
	{% set purge_move_speed = (flow_rate / 5.0) * 60 | float %}
	{% if cross_section < 5 %}
	{action_respond_info("[Extruder] max_extrude_cross_section is insufficient for purge, please set it to 5 or greater. Purge skipped.")}
	{% else %}
	{% if verbose_enable == True %}
	{action_respond_info("Moving filament tip {}mms".format(
	(tip_distance),
	)) }
	{% endif %}
	{% if printer.firmware_retraction is defined %}
	{action_respond_info("KAMP purge is using firmware retraction.")}
	{% else %}
	{action_respond_info("KAMP purge is not using firmware retraction, it is recommended to configure it.")}
	{% endif %}
	{% if purge_y_origin > 0 %}
	{action_respond_info("KAMP purge starting at {}, {} and purging {}mm of filament, requested flow rate is {}mm3/s.".format(
	(purge_x_center),
	(purge_y_origin),
	(purge_amount),
	(flow_rate),
	)) }
	{% else %}
	{action_respond_info("KAMP purge starting at {}, {} and purging {}mm of filament, requested flow rate is {}mm3/s.".format(
	(purge_x_origin),
	(purge_y_center),
	(purge_amount),
	(flow_rate),
	)) }
	{% endif %}
	
	SAVE_GCODE_STATE NAME=Prepurge_State
	
	{% if purge_y_origin > 0 %}
	G92 E0
	G0 F{travel_speed}
	G90
	G0 X{purge_x_center} Y{purge_y_origin}
	G0 Z{purge_height}
	M83
	G1 E{tip_distance} F{purge_move_speed}
	G1 X{purge_x_center + purge_amount} E{purge_amount} F{purge_move_speed}
	{RETRACT}
	G0 X{purge_x_center + purge_amount + 10} F{travel_speed}
	G92 E0
	M82
	G0 Z{purge_height * 2} F{travel_speed}
	{% else %}
	G92 E0
	G0 F{travel_speed}
	G90
	G0 X{purge_x_origin} Y{purge_y_center}
	G0 Z{purge_height}
	M83
	G1 E{tip_distance} F{purge_move_speed}
	G1 Y{purge_y_center + purge_amount} E{purge_amount} F{purge_move_speed}
	{RETRACT}
	G0 Y{purge_y_center + purge_amount + 10} F{travel_speed}
	G92 E0
	M82
	G0 Z{purge_height * 2} F{travel_speed}
	{% endif %}
	RESTORE_GCODE_STATE NAME=Prepurge_State
	{% endif %}

[gcode_shell_command generate_shaper_graph_x]
command = /home/pi/printer_data/config/RatOS/scripts/generate-shaper-graph-x.sh
timeout = 60.
verbose = True

[gcode_shell_command generate_shaper_graph_y]
command = /home/pi/printer_data/config/RatOS/scripts/generate-shaper-graph-y.sh
timeout = 60.
verbose = True

[gcode_shell_command generate_belt_tension_graph]
command = /home/pi/printer_data/config/RatOS/scripts/generate-belt-tension-graph.sh
timeout = 90.
verbose = True

[gcode_shell_command compile_binaries]
command = /home/pi/printer_data/config/RatOS/scripts/compile-binaries.sh
timeout = 600.

[gcode_shell_command change_hostname]
command = /home/pi/printer_data/config/RatOS/scripts/change-hostname.sh
timeout = 10.

[gcode_macro GENERATE_SHAPER_GRAPHS]
description = Genarates input shaper resonances graphs for analysis. Uses the AXIS parameter for if you only want to do one axis at a time, (eg. GENERATE_SHAPER_GRAPHS AXIS=X)
gcode = 
	{% if params.AXIS is defined %}
	{% if params.AXIS|lower == 'x' %}
	MAYBE_HOME
	TEST_RESONANCES AXIS=X
	RUN_SHELL_COMMAND CMD=generate_shaper_graph_x
	RESPOND MSG="Input shaper graph generated for the X axis. You'll find it in the input_shaper folder in the machine tab!"
	{% elif params.AXIS|lower == 'y' %}
	MAYBE_HOME
	TEST_RESONANCES AXIS=Y
	RUN_SHELL_COMMAND CMD=generate_shaper_graph_y
	RESPOND MSG="Input shaper graph generated for the Y axis. You'll find it in the input_shaper folder in the machine tab!"
	{% else %}
	{action_raise_error("Unknown axis specified. Expected X or Y.")}
	{% endif %}
	{% else %}
	MAYBE_HOME
	TEST_RESONANCES AXIS=X
	TEST_RESONANCES AXIS=Y
	RUN_SHELL_COMMAND CMD=generate_shaper_graph_x
	RUN_SHELL_COMMAND CMD=generate_shaper_graph_y
	RESPOND MSG="Input shaper graphs generated for X and Y. You'll find them in the input_shaper folder in the machine tab!"
	{% endif %}

[gcode_macro MEASURE_COREXY_BELT_TENSION]
description = Generates resonance graph used to ensure belts are equally tensioned.
gcode = 
	TEST_RESONANCES AXIS=1,1  OUTPUT=raw_data NAME=belt-tension-upper
	TEST_RESONANCES AXIS=1,-1 OUTPUT=raw_data NAME=belt-tension-lower
	RUN_SHELL_COMMAND CMD=generate_belt_tension_graph
	RESPOND MSG="Belt tension graphs generated. You'll find them in the input_shaper folder in the machine tab!"

[gcode_macro COMPILE_FIRMWARE]
description = Compiles firmware with currently installed klipper version for all supported RatOS boards. Note: this may take up to 10 minutes.
gcode = 
	RESPOND MSG="Compiling binaries.. This can take up to 10 minutes. Please do not turn off your Raspberry Pi!"
	RUN_SHELL_COMMAND CMD=compile_binaries
	RESPOND MSG="Firmware binaries compiled successfully! You can find them in the firmware_binaries folder in the machine tab!"

[gcode_macro CHANGE_HOSTNAME]
description = Change the hostname of your Raspberry Pi.
gcode = 
	{% if params.HOSTNAME is not defined %}
	RESPOND MSG='You have to specify a new hostname with the HOSTNAME parameter. Ex: CHANGE_HOSTNAME HOSTNAME="MY_NEW_HOSTNAME"'
	RESPOND MSG="Please note: RFCs mandate that a hostname's labels may contain only the ASCII letters 'a' through 'z' (case-insensitive), the digits '0' through '9', and the hyphen. Hostname labels cannot begin or end with a hyphen. No other symbols, punctuation characters, or blank spaces are permitted."
	{% else %}
	RUN_SHELL_COMMAND CMD=change_hostname PARAMS={params.HOSTNAME}
	{% endif %}

[stepper_z]
endstop_pin = probe:z_virtual_endstop
step_pin = motor_1_step
dir_pin = motor_1_dir
enable_pin = !motor_1_enable
rotation_distance = 4
microsteps = 64
position_min = -5
homing_speed = 10
position_max = 200

[tmc2209 stepper_z]
uart_pin = motor_1_uart
run_current = 1.6
stealthchop_threshold = 0
interpolate = False
hold_current = 0.4

[stepper_z1]
step_pin = motor_2_step
dir_pin = motor_2_dir
enable_pin = !motor_2_enable
rotation_distance = 4
microsteps = 64

[tmc2209 stepper_z1]
uart_pin = motor_2_uart
run_current = 1.6
stealthchop_threshold = 0
interpolate = False
hold_current = 0.4

[stepper_z2]
step_pin = motor_3_step
dir_pin = motor_3_dir
enable_pin = !motor_3_enable
rotation_distance = 4
microsteps = 64

[tmc2209 stepper_z2]
uart_pin = motor_3_uart
run_current = 1.6
stealthchop_threshold = 0
interpolate = False
hold_current = 0.4

[stepper_x]
step_pin = motor_4_step
dir_pin = !motor_4_dir
enable_pin = !motor_4_enable
rotation_distance = 40
microsteps = 64
homing_speed = 30
homing_retract_dist = 5.0
full_steps_per_rotation = 200
position_max = 200
position_endstop = 0
endstop_pin = ^endstop_motor_1

[tmc5160 stepper_x]
cs_pin = motor_4_uart
spi_software_mosi_pin = stepper_spi_mosi
spi_software_miso_pin = stepper_spi_miso
spi_software_sclk_pin = stepper_spi_sclk
run_current = 1.768
stealthchop_threshold = 0
interpolate = False
hold_current = 0.442

[stepper_x1]
step_pin = motor_5_step
dir_pin = motor_5_dir
enable_pin = !motor_5_enable
rotation_distance = 40
microsteps = 64
full_steps_per_rotation = 200

[tmc5160 stepper_x1]
cs_pin = motor_5_uart
spi_software_mosi_pin = stepper_spi_mosi
spi_software_miso_pin = stepper_spi_miso
spi_software_sclk_pin = stepper_spi_sclk
run_current = 1.768
stealthchop_threshold = 0
interpolate = False
hold_current = 0.442

[stepper_y]
step_pin = motor_6_step
dir_pin = !motor_6_dir
enable_pin = !motor_6_enable
rotation_distance = 40
microsteps = 64
full_steps_per_rotation = 200
position_max = 200
position_endstop = 200
homing_speed = 30
homing_retract_dist = 5.0
endstop_pin = ^endstop_motor_2
homing_positive_dir = true
position_min = 19

[tmc5160 stepper_y]
cs_pin = motor_6_uart
spi_software_mosi_pin = stepper_spi_mosi
spi_software_miso_pin = stepper_spi_miso
spi_software_sclk_pin = stepper_spi_sclk
run_current = 1.768
stealthchop_threshold = 0
interpolate = False
hold_current = 0.442

[stepper_y1]
step_pin = motor_7_step
dir_pin = motor_7_dir
enable_pin = !motor_7_enable
rotation_distance = 40
microsteps = 64
full_steps_per_rotation = 200

[tmc5160 stepper_y1]
cs_pin = motor_7_uart
spi_software_mosi_pin = stepper_spi_mosi
spi_software_miso_pin = stepper_spi_miso
spi_software_sclk_pin = stepper_spi_sclk
run_current = 1.768
stealthchop_threshold = 0
interpolate = False
hold_current = 0.442

[bed_mesh]
speed = 10
horizontal_move_z = 5
mesh_min = 10, 8.45
mesh_max = 170, 185.45
probe_count = 10,10
fade_start = 1.0
fade_end = 10.0
mesh_pps = 2,2
algorithm = bicubic
bicubic_tension = .2

[z_tilt]
speed = 50
z_positions = 
	0,0
	100,200
	200,0
points = 
	60,22
	135,190
	190,22
horizontal_move_z = 20
retries = 20
retry_tolerance = 0.02

[gcode_macro enable_stepper]
gcode = 
	SET_STEPPER_ENABLE STEPPER=stepper_x ENABLE=1
	SET_STEPPER_ENABLE STEPPER=stepper_y ENABLE=1
	SET_STEPPER_ENABLE STEPPER=stepper_x1 ENABLE=1
	SET_STEPPER_ENABLE STEPPER=stepper_y1 ENABLE=1

[gcode_macro disable_steppers]
gcode = 
	m84

[gcode_macro STEPPER_BUZZ_X]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_x

[gcode_macro STEPPER_BUZZ_Y]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_y

[gcode_macro STEPPER_BUZZ_X1]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_x1

[gcode_macro STEPPER_BUZZ_Y1]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_y1

[gcode_macro STEPPER_BUZZ_Z]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_z

[gcode_macro STEPPER_BUZZ_Z1]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_z1

[gcode_macro STEPPER_BUZZ_Z2]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_z2

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	
	
	
	
	G0 X{x_min+10} Y{y_min+10} Z{bound + 20} F{speed*60}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min+10} Y{y_min+10} F{speed*60}
	G0 X{x_max-30} Y{y_max-30} F{speed*60}
	G0 X{x_min+10} Y{y_min+10} F{speed*60}
	G0 X{x_max-30} Y{y_max-30} F{speed*60}
	G0 X{x_min+10} Y{y_min+10} F{speed*60}
	G0 X{x_max-30} Y{y_max-30} F{speed*60}
	
	
	G0 X{x_min+10} Y{y_min+10} F{speed*60}
	G0 X{x_min+10} Y{y_max-30} F{speed*60}
	G0 X{x_max-30} Y{y_max-30} F{speed*60}
	G0 X{x_max-30} Y{y_min+10} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} MINIMUM_CRUISE_RATIO={printer.configfile.settings.printer.minimum_cruise_ratio}
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED
	G0 X115 Y115 Z30

[bltouch]
sensor_pin = ^bltouch_probe
control_pin = bltouch_servo
speed = 7
pin_move_time = 0.675
sample_retract_dist = 10
pin_up_reports_not_triggered = True
pin_up_touch_mode_reports_triggered = True
x_offset = -30
y_offset = -14.550
z_offset = 3.825

[gcode_macro RatOS]
variable_z_probe = "static"
variable_homing_x = "endstop"
variable_homing_y = "endstop"
variable_homing = "endstops"
description = RatOS variable storage macro, will echo variables to the console when run.
variable_relative_extrusion = False
variable_force_absolute_position = False
variable_preheat_extruder = True
variable_preheat_extruder_temp = 150
variable_calibrate_bed_mesh = True
variable_bed_soak = False
variable_bed_soak_time = 60000
variable_nozzle_priming = "linepurge"
variable_verbose_enable = True
variable_purge_height = 0.8
variable_tip_distance = 0.4
variable_purge_margin = 20
variable_purge_amount = 30
variable_flow_rate = 10
variable_filament_unload_length = 130
variable_filament_unload_speed = 5
variable_filament_load_length = 100
variable_filament_load_speed = 10
variable_start_print_park_in = "back"
variable_start_print_park_z_height = 50
variable_end_print_park_in = "back"
variable_pause_print_park_in = "back"
variable_macro_travel_speed = 150
variable_macro_z_speed = 15
variable_end_print_park_z_hop = 20
variable_safe_home_x = "middle"
variable_safe_home_y = "middle"
variable_stowable_probe_stop_on_error = False
variable_adaptive_mesh = False
gcode = 
	ECHO_RATOS_VARS

[extruder]
rotation_distance = 5.57
full_steps_per_rotation = 200
filament_diameter = 1.750
max_extrude_only_velocity = 120
max_extrude_only_accel = 800
pressure_advance_smooth_time = 0.02
step_pin = motor_8_step
dir_pin = !motor_8_dir
enable_pin = !motor_8_enable
microsteps = 64
max_extrude_only_distance = 200
nozzle_diameter = 0.4
heater_pin = heater_e0
sensor_type = PT1000
pullup_resistor = 2200
sensor_pin = thermistor_e1
min_extrude_temp = 170
min_temp = 0
max_temp = 300
pressure_advance = 0.025
max_extrude_cross_section = 5
control = pid
pid_kp = 30.620
pid_ki = 1.926
pid_kd = 121.714

[tmc2209 extruder]
uart_pin = motor_8_uart
run_current = 0.5
stealthchop_threshold = 0
driver_tbl = 1
driver_toff = 3
driver_hend = 9
driver_hstrt = 7
interpolate = False
hold_current = 0.125

[firmware_retraction]
retract_speed = 120
unretract_extra_length = 0
unretract_speed = 120
retract_length = 0.5

[filament_switch_sensor filament_switch]
switch_pin = ^filament_sensor_adc2
pause_on_runout = false
runout_gcode = 
	PAUSE
	RESPOND COLOR=warning MSG="Filament ran out"
insert_gcode = 

[delayed_gcode DISABLEFILAMENTSENSOR]
initial_duration = 1
gcode = 
	SET_FILAMENT_SENSOR SENSOR=filament_switch ENABLE=0

[gcode_macro FILDET_ENABLE]
description = Enable smart filament sensor
gcode = 
	M117 ENABLING the Smart Filament Sensor
	RESPOND COLOR=info MSG="ENABLING the Smart Filament Sensor"
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_switch ENABLE=1

[gcode_macro FILDET_DISABLE]
description = Disable smart filament sensor
gcode = 
	M117 DISABLING the Smart Filament Sensor
	RESPOND COLOR=info MSG="DISABLING the Smart Filament Sensor"
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_switch ENABLE=0

[fan]
pin = fan_4_pwm
tachometer_pin = ^fan_4_tach
tachometer_poll_interval = 0.0005
cycle_time = 0.01

[heater_fan toolhead]
pin = fan_0
shutdown_speed = 1.0
kick_start_time = 5
heater = extruder
heater_temp = 49
fan_speed = 1.0

[temperature_fan Electronics_bay]
pin = fan_6_pwm
max_power = 1
off_below = 0
tachometer_pin = ^fan_6_tach
tachometer_poll_interval = 0.0005
sensor_type = temperature_combined
sensor_list = temperature_sensor 2209_M1, temperature_sensor 2209_M2, temperature_sensor 2209_M3, temperature_sensor 5160_M4, temperature_sensor 5160_M5, temperature_sensor 5160_M6, temperature_sensor 5160_M7, temperature_sensor 2209_M8
combination_method = max
maximum_deviation = 999.9
control = watermark
min_temp = 0
max_temp = 80
max_delta = 2
target_temp = 38.0
max_speed = 1.0
min_speed = 0.3
gcode_id = Electronics_bay

[temperature_sensor 2209_M1]
sensor_type = Generic 3950
sensor_pin = thermexp1:PA2
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc2209_M1

[temperature_sensor 2209_M2]
sensor_type = Generic 3950
sensor_pin = thermexp1:PA5
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc2209_M2

[temperature_sensor 2209_M3]
sensor_type = Generic 3950
sensor_pin = thermexp1:PA6
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc2209_M3

[temperature_sensor 5160_M4]
sensor_type = Generic 3950
sensor_pin = thermexp1:PB1
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc5160_M4

[temperature_sensor 5160_M5]
sensor_type = Generic 3950
sensor_pin = thermexp1:PA1
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc5160_M5

[temperature_sensor 5160_M6]
sensor_type = Generic 3950
sensor_pin = thermexp1:PA3
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc5160_M6

[temperature_sensor 5160_M7]
sensor_type = Generic 3950
sensor_pin = thermexp2:PA2
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc5160_M7

[temperature_sensor 2209_M8]
sensor_type = Generic 3950
sensor_pin = thermexp2:PA5
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc2209_M8

[autotune_tmc stepper_x]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 48

[autotune_tmc stepper_x1]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 48

[autotune_tmc stepper_y]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 48

[autotune_tmc stepper_y1]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 48

[autotune_tmc stepper_z]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 24

[autotune_tmc stepper_z1]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 24

[autotune_tmc stepper_z2]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 24

[output_pin status_led]
pin = heater_e3
value = 0
shutdown_value = 0

[gcode_button top]
pin = ^det_motor_6
press_gcode = 
release_gcode = 
	{% if printer.print_stats.state == "printing" %}
	PAUSE
	RESPOND COLOR=info MSG="Print paused"
	SET_PIN PIN=status_led VALUE=1
	{% elif printer.print_stats.state == "paused" %}
	RESUME
	RESPOND COLOR=info MSG="Print resumed"
	SET_PIN PIN=status_led VALUE=0
	{% else %}
	RESPOND COLOR=error MSG="Cannot pause or resume: no print in progress"
	{% endif %}

[gcode_button bottom]
pin = ^det_motor_5
press_gcode = 
release_gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2

[gcode_macro _POWER_OFF_PRINTER]
gcode = 
	{action_call_remote_method(
	"set_device_power", device="printer", state="off"
	)}

[delayed_gcode POWER_OFF_PRINTER_CHECK]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	{% if printer.extruder.temperature < 50.0 and printer.heater_bed.temperature < 50.0 %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	RESPOND COLOR=info MSG="Powering printer off"
	G4 P3000
	_POWER_OFF_PRINTER
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% endif %}
	{% else %}
	{% if printer.idle_timeout.state == "Printing" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% else %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% endif %}
	{% endif %}
	{% endif %}
	{% endif %}

[gcode_macro RESPOND]
rename_existing = BASE_RESPOND
gcode = 
	{% set colors = ('primary', 'secondary', 'accent', 'info', 'success', 'error', 'warning') %}
	
	{% if params.MSG is defined %}
	{% set msg = 'MSG="'+ params.MSG + '"'|string %}
	{% endif %}
	
	{% if params.COLOR is defined %}
	{% set color = params.COLOR|lower %}
	
	{% if color in colors %}
	{% set msg = 'MSG="<span class=' + color + '--text>' + params.MSG + '</span>"'|string %}
	
	{% else %}
	BASE_RESPOND TYPE=error MSG="RESPOND COLOR '{color}' is invalid. Must be one of 'primary', 'secondary', 'accent', 'info', 'success', 'warning' or 'error'"
	{% endif %}
	
	{% endif %}
	BASE_RESPOND {msg}

[output_pin beeper]
pin = heater_e2
value = 0
shutdown_value = 0
pwm = True
cycle_time = 0.0005

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	SET_PIN PIN=beeper VALUE=0.5 CYCLE_TIME={ 1.0/S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=beeper VALUE=0

[gcode_macro PRINT_DONE]
gcode = 
	M300 P110 S523
	M300 P110 S466
	M300 P221 S392
	M300 P221 S523
	M300 P221 S349
	M300 P221 S523
	M300 P221 S466
	M300 P221 S523
	M300 P882 S349
	M300 P441 S392
	M300 P221 S392
	M300 P221 S466
	M300 P221 S523
	M300 P110 S523
	M300 P110 S466
	M300 P221 S392
	M300 P221 S523
	M300 P221 S349
	M300 P221 S523
	M300 P221 S466
	M300 P221 S523
	M300 P882 S349
	M300 P441 S392
	M300 P221 S392
	M300 P221 S466
	M300 P882 S523

[temperature_sensor Stepper_back_left]
sensor_type = Generic 3950
sensor_pin = thermexp2:PA6
min_temp = 0
max_temp = 100
pullup_resistor = 4700
gcode_id = Stepper_back_left

[temperature_sensor Stepper_back_right]
sensor_type = Generic 3950
sensor_pin = thermexp2:PB1
min_temp = 0
max_temp = 100
pullup_resistor = 4700
gcode_id = Stepper_back_right

[temperature_sensor Stepper_front_left]
sensor_type = Generic 3950
sensor_pin = thermexp2:PA1
min_temp = 0
max_temp = 100
pullup_resistor = 4700
gcode_id = Stepper_front_left

[temperature_sensor Stepper_front_right]
sensor_type = Generic 3950
sensor_pin = thermexp2:PA3
min_temp = 0
max_temp = 100
pullup_resistor = 4700
gcode_id = Stepper_front_right
=======================
Args: ['/home/pi/klipper/klippy/klippy.py', '/home/pi/printer_data/config/printer.cfg', '-l', '/home/pi/printer_data/logs/klippy.log', '-I', '/home/pi/printer_data/comms/klippy.serial', '-a', '/home/pi/printer_data/comms/klippy.sock']
Git version: 'v0.12.0-171-g2f6e94c9-dirty'
Untracked files: klippy/extras/autotune_tmc.py, klippy/extras/beacon.py, klippy/extras/gcode_shell_command.py, klippy/extras/linear_movement_vibrations.py, klippy/extras/motor_constants.py, klippy/extras/ratos_homing.py
Branch: master
Remote: origin
Tracked URL: https://github.com/Klipper3d/klipper.git
CPU: 4 core ?
Python: '3.9.2 (default, Mar 12 2021, 04:06:34) \n[GCC 10.2.1 20210110]'
webhooks client 4122222136: {'program': 'Moonraker', 'version': 'v0.8.0-327-g9447494'}
=============== Log rollover at Fri Apr 26 02:44:13 2024 ===============
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
MCU error during connect
Traceback (most recent call last):
  File "/home/pi/klipper/klippy/mcu.py", line 791, in _mcu_identify
    self._serial.connect_uart(self._serialport, self._baud, rts)
  File "/home/pi/klipper/klippy/serialhdl.py", line 182, in connect_uart
    self._error("Unable to connect")
  File "/home/pi/klipper/klippy/serialhdl.py", line 61, in _error
    raise error(self.warn_prefix + (msg % params))
serialhdl.error: mcu 'mcu': Unable to connect

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/klipper/klippy/klippy.py", line 176, in _connect
    self.send_event("klippy:mcu_identify")
  File "/home/pi/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/pi/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/pi/klipper/klippy/mcu.py", line 796, in _mcu_identify
    raise error(str(e))
mcu.error: mcu 'mcu': Unable to connect
Build file /home/pi/klipper/klippy/../.config(1713): Wed Apr 24 06:01:40 2024
========= Last MCU build config =========
CONFIG_LOW_LEVEL_OPTIONS=y
CONFIG_MACH_AVR=y
# CONFIG_MACH_ATSAM is not set
# CONFIG_MACH_ATSAMD is not set
# CONFIG_MACH_LPC176X is not set
# CONFIG_MACH_STM32 is not set
# CONFIG_MACH_HC32F460 is not set
# CONFIG_MACH_RP2040 is not set
# CONFIG_MACH_PRU is not set
# CONFIG_MACH_AR100 is not set
# CONFIG_MACH_LINUX is not set
# CONFIG_MACH_SIMU is not set
CONFIG_AVR_SELECT=y
CONFIG_BOARD_DIRECTORY="avr"
CONFIG_MACH_atmega2560=y
# CONFIG_MACH_atmega1280 is not set
# CONFIG_MACH_at90usb1286 is not set
# CONFIG_MACH_at90usb646 is not set
# CONFIG_MACH_atmega32u4 is not set
# CONFIG_MACH_atmega1284p is not set
# CONFIG_MACH_atmega644p is not set
# CONFIG_MACH_atmega328p is not set
# CONFIG_MACH_atmega328 is not set
# CONFIG_MACH_atmega168 is not set
CONFIG_MCU="atmega2560"
CONFIG_AVRDUDE_PROTOCOL="wiring"
CONFIG_AVR_FREQ_16000000=y
# CONFIG_AVR_FREQ_8000000 is not set
CONFIG_CLOCK_FREQ=16000000
CONFIG_AVR_CLKPR=-1
CONFIG_AVR_STACK_SIZE=256
CONFIG_AVR_WATCHDOG=y
CONFIG_SERIAL=y
CONFIG_AVR_SERIAL_UART0=y
# CONFIG_AVR_SERIAL_UART1 is not set
# CONFIG_AVR_SERIAL_UART2 is not set
# CONFIG_AVR_SERIAL_UART3 is not set
CONFIG_SERIAL_BAUD_U2X=y
CONFIG_SERIAL_PORT=0
CONFIG_SERIAL_BAUD=250000
CONFIG_USB_VENDOR_ID=0x1d50
CONFIG_USB_DEVICE_ID=0x614e
CONFIG_USB_SERIAL_NUMBER="12345"
CONFIG_WANT_GPIO_BITBANGING=y
CONFIG_WANT_DISPLAYS=y
CONFIG_WANT_SENSORS=y
CONFIG_WANT_LIS2DW=y
CONFIG_WANT_LDC1612=y
CONFIG_WANT_SOFTWARE_I2C=y
CONFIG_WANT_SOFTWARE_SPI=y
CONFIG_NEED_SENSOR_BULK=y
CONFIG_CANBUS_FREQUENCY=1000000
CONFIG_INITIAL_PINS=""
CONFIG_HAVE_GPIO=y
CONFIG_HAVE_GPIO_ADC=y
CONFIG_HAVE_GPIO_SPI=y
CONFIG_HAVE_GPIO_I2C=y
CONFIG_HAVE_GPIO_HARD_PWM=y
CONFIG_HAVE_STRICT_TIMING=y
CONFIG_INLINE_STEPPER_HACK=y
=======================
Build file /home/pi/klipper/klippy/../out/klipper.dict(7664): Wed Apr 24 06:01:48 2024
Last MCU build version: v0.12.0-171-g2f6e94c9
Last MCU build tools: gcc: (GCC) 5.4.0 binutils: (GNU Binutils) 2.26.20160125
Last MCU build config: ADC_MAX=1023 BUS_PINS_spi=PB3,PB2,PB1 BUS_PINS_twi=PD0,PD1 CLOCK_FREQ=16000000 MCU=atmega2560 PWM_MAX=255 RECEIVE_WINDOW=192 RESERVE_PINS_serial=PE0,PE1 SERIAL_BAUD=250000 STATS_SUMSQ_BASE=256
Build file /home/pi/klipper/klippy/../out/klipper.elf(302096): Wed Apr 24 06:01:52 2024
Attempting MCU 'mcu' reset
Unhandled exception during post run
Traceback (most recent call last):
  File "/home/pi/klippy-env/lib/python3.9/site-packages/serial/serialposix.py", line 265, in open
    self.fd = os.open(self.portstr, os.O_RDWR | os.O_NOCTTY | os.O_NONBLOCK)
FileNotFoundError: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/pi/klipper/klippy/klippy.py", line 234, in run
    self.send_event("klippy:firmware_restart")
  File "/home/pi/klipper/klippy/klippy.py", line 263, in send_event
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/pi/klipper/klippy/klippy.py", line 263, in <listcomp>
    return [cb(*params) for cb in self.event_handlers.get(event, [])]
  File "/home/pi/klipper/klippy/mcu.py", line 953, in _firmware_restart
    self._restart_arduino()
  File "/home/pi/klipper/klippy/mcu.py", line 913, in _restart_arduino
    serialhdl.arduino_reset(self._serialport, self._reactor)
  File "/home/pi/klipper/klippy/serialhdl.py", line 379, in arduino_reset
    ser = serial.Serial(serialport, 2400, timeout=0, exclusive=True)
  File "/home/pi/klippy-env/lib/python3.9/site-packages/serial/serialutil.py", line 240, in __init__
    self.open()
  File "/home/pi/klippy-env/lib/python3.9/site-packages/serial/serialposix.py", line 268, in open
    raise SerialException(msg.errno, "could not open port {}: {}".format(self._port, msg))
serial.serialutil.SerialException: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
Restarting printer
Start printer at Fri Apr 26 02:45:37 2024 (1714095937.6 125.7)
===== Config file =====
[board_pins octopus_max_ez_tmc2209]
aliases = 
	
	
	motor_1_step=PC13, motor_1_dir=PC14, motor_1_enable=PE6, motor_1_uart=PG14,
	motor_2_step=PE4, motor_2_dir=PE5, motor_2_enable=PE3, motor_2_uart=PG13,
	motor_3_step=PE1, motor_3_dir=PE0, motor_3_enable=PE2, motor_3_uart=PG12,
	motor_4_step=PB8, motor_4_dir=PB9, motor_4_enable=PB7, motor_4_uart=PG11,
	motor_5_step=PB5, motor_5_dir=PB4, motor_5_enable=PB6, motor_5_uart=PG10,
	motor_6_step=PG15, motor_6_dir=PB3, motor_6_enable=PD5, motor_6_uart=PG9,
	motor_7_step=PD3, motor_7_dir=PD2, motor_7_enable=PD4, motor_7_uart=PD7,
	motor_8_step=PA10, motor_8_dir=PA9, motor_8_enable=PA15, motor_8_uart=PD6,
	motor_9_step=PA8, motor_9_dir=PC7, motor_9_enable=PC9, motor_9_uart=PG8,
	motor_10_step=PG6, motor_10_dir=PC6, motor_10_enable=PC8, motor_10_uart=PG7,
	
	stepper_spi_mosi=PE14, stepper_spi_miso=PE13, stepper_spi_sclk=PE12,
	
	
	heater_e0=PF6, heater_e1=PA3, heater_e2=PF9, heater_e3=PF7, heater_bed=PF5,
	
	
	thermistor_e0=PB0, thermistor_e1=PC5, thermistor_e2=PC4, thermistor_e3=PA7, thermistor_bed=PB1,
	
	
	endstop_motor_1=PF0, endstop_motor_2=PF2, endstop_motor_3=PF4, det_motor_4=PF3, det_motor_5=PF1, det_motor_6=PC15,
	
	
	fan_0=PA6, fan_1=PA5, fan_2=PA4, fan_3=PA3,
	fan_4_pwm=PA1, fan_4_tach=PC3, fan_5_pwm=PF8, fan_5_tach=PC1, fan_6_pwm=PA2, fan_6_tach=PC2,
	
	
	rgb_led_1=PE10, rgb_led_2=PE9,
	
	
	ps_on=PF13, pwr_det=PF12,
	
	
	bltouch_servo=PB14, bltouch_probe=PB15,
	
	
	proximity_probe=PF11,
	
	
	filament_sensor_adc1=PC0, filament_sensor_adc2=PF10,
	
	
	eeprom_scl=PB10, eeprom_sda=PB11,
	
	
	can_rx=PD0, can_tx=PD1,
	
	
	tft_uart_rx=PD9, tft_uart_tx=PD8,
	
	
	usb_dm=PA11, usb_dp=PA12,
	
	
	lcd_d7=PE15, lcd_d6=PD10, lcd_d5=PD11, lcd_d4=PD12, lcd_rs=PD13, lcd_en=PD14, lcd_buzzer=PG2, lcd_enc=PD15,
	lcd_reset=RESET, sd_detect=PG3,
	
	
	tmc_spi_cs=PF14, tmc_spi_mosi=PE14, tmc_spi_miso=PE13, tmc_spi_sclk=PE12,
	
	
	wifi_reset=PB2, wifi_io0=PG0, wifi_io4=PF15, wifi_rx=PE7, wifi_tx=PE8, wifi_cs=PG15, wifi_mosi=PC12, wifi_miso=PC11, wifi_sclk=PC10,

[mcu]
baud = 250000
serial = /dev/btt-octopus-max-ez

[temperature_sensor Octopus_Max]
sensor_type = temperature_mcu
min_temp = 0
max_temp = 100

[mcu rpi]
serial = /tmp/klipper_host_mcu

[temperature_sensor Pi]
sensor_type = temperature_host
min_temp = 0
max_temp = 100

[mcu thermexp1]
serial = /dev/serial/by-id/usb-Klipper_stm32f042x6_260038001743303358333420-if00
restart_method = command

[mcu thermexp2]
serial = /dev/serial/by-id/usb-Klipper_stm32f042x6_250028001743303358333420-if00
restart_method = command

[idle_timeout]
gcode = 
	{% if printer.webhooks.state|lower == 'ready' %}
	{% if printer.pause_resume.is_paused|lower == 'false' %}
	M117 Idle timeout reached
	TURN_OFF_HEATERS
	M84
	{% endif %}
	{% endif %}
timeout = 7200

[skew_correction]

[input_shaper]
shaper_type_x = ei
shaper_freq_x = 101.2
shaper_type_y = mzv
shaper_freq_y = 72.8

[virtual_sdcard]
path = ~/printer_data/gcodes

[display_status]

[pause_resume]

[force_move]
enable_force_move = True

[respond]

[exclude_object]

[gcode_arcs]
resolution = 0.3

[heater_bed]
heater_pin = heater_bed
sensor_type = temperature_combined
sensor_list = temperature_sensor bed_mat, temperature_sensor bed_core
combination_method = mean
maximum_deviation = 999999
min_temp = 0
max_temp = 140
pwm_cycle_time = 0.02
control = pid
pid_kp = 55.540
pid_ki = 1.448
pid_kd = 532.581

[temperature_sensor bed_mat]
sensor_pin = thermistor_bed
sensor_type = Generic 3950
min_temp = 0
max_temp = 150

[temperature_sensor bed_core]
sensor_pin = thermistor_e0
sensor_type = PT1000
pullup_resistor = 2200
min_temp = 0
max_temp = 150

[printer]
kinematics = corexy
max_velocity = 800
max_accel = 12000
minimum_cruise_ratio = 0.5
max_z_velocity = 20
max_z_accel = 150
square_corner_velocity = 5

[ratos_homing]
axes = xyz
z_hop = 15
z_hop_speed = 15
gcode = 
	{% set x_homed = 'x' in printer.toolhead.homed_axes %}
	{% set y_homed = 'y' in printer.toolhead.homed_axes %}
	{% set safe_home_x = printer["gcode_macro RatOS"].safe_home_x %}
	{% set safe_home_y = printer["gcode_macro RatOS"].safe_home_y %}
	{% if safe_home_x is not defined or safe_home_x|lower == 'middle' %}
	{% set safe_home_x = printer.toolhead.axis_maximum.x / 2 %}
	{% endif %}
	{% if safe_home_y is not defined or safe_home_y|lower == 'middle' %}
	{% set safe_home_y = printer.toolhead.axis_maximum.y / 2 %}
	{% endif %}
	{% set z_probe = printer["gcode_macro RatOS"].z_probe|lower %}
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set z_speed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	{% set z_hop = printer.configfile.config.ratos_homing.z_hop|float %}
	{% set z_hop_speed = printer.configfile.config.ratos_homing.z_hop_speed|float * 60 %}
	{% set homing_x = printer["gcode_macro RatOS"].homing_x|lower %}
	{% set homing_y = printer["gcode_macro RatOS"].homing_y|lower %}
	{% set homing = printer["gcode_macro RatOS"].homing|lower %}
	{% set prev_stop_on_error = printer["gcode_macro RatOS"].stowable_probe_stop_on_error %}
	
	
	SET_GCODE_VARIABLE MACRO=RatOS VARIABLE=stowable_probe_stop_on_error VALUE=True
	
	M400
	G90
	
	{% if params.X is defined or params.Y is not defined and params.Z is not defined %}
	RESPOND MSG="Homing X"
	{% if homing_x == 'endstop' or homing == 'endstops' %}
	G28 X
	{% elif homing_x == 'sensorless' or homing == 'sensorless' %}
	HOME_X_SENSORLESS
	{% else %}
	{ action_emergency_stop("expected RatOS variable_homing_x to be 'sensorless' 'endstop' or variable_homing to be 'sensorless' or 'endstops' but found {} and {}".format(homing_x, homing)) }
	{% endif %}
	{% set x_homed = True %}
	G0 X{safe_home_x} F{speed}
	M400
	{% endif %}
	
	{% if params.Y is defined or params.X is not defined and params.Z is not defined %}
	RESPOND MSG="Homing Y"
	{% if homing_y == 'endstop' or homing == 'endstops' %}
	G28 Y
	{% elif homing_y == 'sensorless' or homing == 'sensorless' %}
	HOME_Y_SENSORLESS
	{% else %}
	{ action_emergency_stop("expected RatOS variable_homing_y to be 'sensorless' 'endstop' or variable_homing to be 'sensorless' or 'endstops' but found {} and {}".format(homing_y, homing)) }
	{% endif %}
	{% set y_homed = True %}
	G0 Y{safe_home_y} F{speed}
	M400
	{% endif %}
	
	{% if params.Z is defined or params.Y is not defined and params.X is not defined %}
	RESPOND MSG="Homing Z"
	{% if x_homed == False or y_homed == False %}
	M118 X and Y must be homed before homing Z
	{ action_emergency_stop("X and Y must be homed before homing Z") }
	{% else %}
	{% if z_probe == "stowable" %}
	DEPLOY_PROBE
	G0 X{safe_home_x} Y{safe_home_y} F{speed}
	G28 Z
	G0 Z{z_hop} F{z_hop_speed}
	STOW_PROBE
	{% else %}
	G0 X{safe_home_x} Y{safe_home_y} F{speed}
	G28 Z
	G0 Z{z_hop} F{z_hop_speed}
	{% endif %}
	{% endif %}
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO=RatOS VARIABLE=stowable_probe_stop_on_error VALUE={prev_stop_on_error}

[gcode_macro HOME_X_SENSORLESS]
gcode = 
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set x_driver = printer["gcode_macro RatOS"].driver_type_x|lower ~ " stepper_x" %}
	{% set y_driver = printer["gcode_macro RatOS"].driver_type_y|lower ~ " stepper_y" %}
	{% set safe_home_x = printer["gcode_macro RatOS"].safe_home_x %}
	{% if safe_home_x is not defined or safe_home_x|lower == 'middle' %}
	{% set safe_home_x = printer.toolhead.axis_maximum.x / 2 %}
	{% endif %}
	M204 S1000
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={printer["gcode_macro RatOS"].sensorless_x_current}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={printer["gcode_macro RatOS"].sensorless_x_current}
	G4 P300
	G28 X
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={printer.configfile.config[x_driver].run_current}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={printer.configfile.config[y_driver].run_current}
	G4 P300
	
	M204 S{printer.configfile.config.printer.max_accel}

[gcode_macro HOME_Y_SENSORLESS]
gcode = 
	{% set safe_home_y = printer["gcode_macro RatOS"].safe_home_y %}
	{% set x_driver = printer["gcode_macro RatOS"].driver_type_x|lower ~ " stepper_x" %}
	{% set y_driver = printer["gcode_macro RatOS"].driver_type_y|lower ~ " stepper_y" %}
	{% if safe_home_y is not defined or safe_home_y|lower == 'middle' %}
	{% set safe_home_y = printer.toolhead.axis_maximum.y / 2 %}
	{% endif %}
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	M204 S1000
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={printer["gcode_macro RatOS"].sensorless_y_current}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={printer["gcode_macro RatOS"].sensorless_y_current}
	G4 P300
	G28 Y
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={printer.configfile.config[x_driver].run_current}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={printer.configfile.config[y_driver].run_current}
	G4 P300
	
	M204 S{printer.configfile.config.printer.max_accel}

[gcode_macro MAYBE_HOME]
description = Only home unhomed axis
variable_is_kinematic_position_overriden = False
gcode = 
	{% if printer["gcode_macro MAYBE_HOME"].is_kinematic_position_overriden|lower == 'true' %}
	RESPOND MSG="SET_CENTER_KINEMATIC_POSITION has been abused. Homing all axes. Please refrain from using SET_CENTER_KINEMATIC_POSITION outside of debugging purposes."
	G28
	SET_GCODE_VARIABLE MACRO=MAYBE_HOME VARIABLE=is_kinematic_position_overriden VALUE=False
	{% else %}
	{% set axes = '' %}
	{% set isHomed = true %}
	{% set axesToHome = '' %}
	{% if params.X is defined %}
	{% set axes = axes ~ 'X ' %}
	{% if 'x' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'X ' %}
	{% endif %}
	{% endif %}
	{% if params.Y is defined %}
	{% set axes = axes ~ 'Y ' %}
	{% if 'y' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'Y ' %}
	{% endif %}
	{% endif %}
	{% if params.Z is defined %}
	{% set axes = axes ~ 'Z ' %}
	{% if 'z' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'Z ' %}
	{% endif %}
	{% endif %}
	{% if params.X is not defined and params.Y is not defined and params.Z is not defined %}
	{% set axes = '' %}
	{% if 'x' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'X ' %}
	{% endif %}
	{% if 'y' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'Y ' %}
	{% endif %}
	{% if 'z' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'Z ' %}
	{% endif %}
	{% endif %}
	{% if isHomed is false %}
	M117 Homing {axesToHome}
	RESPOND MSG="Homing {axesToHome}"
	G28 {axesToHome}
	{% else %}
	RESPOND MSG="All requested axes already homed, skipping.."
	{% endif %}
	{% endif %}

[gcode_macro ECHO_RATOS_VARS]
description = Echo RatOS variables to the console.
gcode = 
	{% for var, value in printer["gcode_macro RatOS"].items() %}
	{action_respond_info(var ~ ": " ~ value)}
	{% endfor %}

[gcode_macro PAUSE]
description = Pauses the printer
rename_existing = PAUSE_BASE
variable_extrude = 1.5
gcode = 
	SAVE_GCODE_STATE NAME=PAUSE_state
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set z_speed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 20.0) %}
	{% set z_safe = 20.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	PAUSE_BASE
	G91
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F{z_speed}
	_PARK LOCATION={printer["gcode_macro RatOS"].pause_print_park_in} X={printer["gcode_macro RatOS"].pause_print_park_x}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro RESUME]
description = Resumes the print if the printer is paused.
rename_existing = RESUME_BASE
gcode = 
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	G90
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESTORE_GCODE_STATE NAME=PAUSE_state MOVE=1 MOVE_SPEED={printer["gcode_macro RatOS"].macro_travel_speed|float}
	RESUME_BASE

[gcode_macro CANCEL_PRINT]
description = Cancels the printer
rename_existing = CANCEL_PRINT_BASE
gcode = 
	END_PRINT
	FILDET_DISABLE
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	
	CANCEL_PRINT_BASE
	RESPOND COLOR=error MSG="Print cancelled"
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30

[gcode_macro PRIME_LINE]
description = Prints a primeline, used internally, if configured, as part of the START_PRINT macro.
gcode = 
	SAVE_GCODE_STATE NAME=prime_line_state
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set z_speed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'min' %}
	{% set x_start = 5 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'max' %}
	{% set x_start = printer.toolhead.axis_maximum.x - 5 %}
	{% else %}
	{% set x_start = printer["gcode_macro RatOS"].nozzle_prime_start_x|float %}
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'min' %}
	{% set y_start = 5 %}
	{% set y_factor = 1 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'max' %}
	{% set y_start = printer.toolhead.axis_maximum.y - 5 %}
	{% set y_factor = -1 %}
	{% else %}
	{% set y_start = printer["gcode_macro RatOS"].nozzle_prime_start_y|float %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_y|float < printer.toolhead.axis_maximum.y / 2 %}
	{% set y_factor = 1 %}
	{% else %}
	{% set y_factor = -1 %}
	{% endif %}
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_direction|lower == 'forwards' %}
	{% set y_factor = 1 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_direction|lower == 'backwards' %}
	{% set y_factor = -1 %}
	{% endif %}
	{% set z = printer["gcode_macro RatOS"].start_print_park_z_height|float %}
	
	G90
	
	M82
	M117 Priming nozzle with prime line..
	RESPOND MSG="Priming nozzle with prime line.."
	
	G0 Z{z} F{z_speed}
	
	G1 X{x_start} F{speed}
	G1 Y{y_start} F{speed}
	
	G1 Z0.3 F{z_speed}
	
	G92 E0
	
	G1 Y{y_start + (70 * y_factor)} E16 F1200
	
	G1 Y{y_start + (90 * y_factor)} F{speed}
	RESTORE_GCODE_STATE NAME=prime_line_state

[gcode_macro PRIME_BLOB]
description = Prints a primeblob, used internally, if configured, as part of the START_PRINT macro. Slower than PRIME_LINE but much more effective.
gcode = 
	SAVE_GCODE_STATE NAME=prime_blob_state
	M117 Priming nozzle with prime blob..
	RESPOND MSG="Priming nozzle with prime blob.."
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set z_speed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	{% set fan_speed = printer["gcode_macro RatOS"].nozzle_prime_bridge_fan|float %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'min' %}
	{% set x_start = 5 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'max' %}
	{% set x_start = printer.toolhead.axis_maximum.x - 5 %}
	{% else %}
	{% set x_start = printer["gcode_macro RatOS"].nozzle_prime_start_x|float %}
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'min' %}
	{% set y_start = 5 %}
	{% set y_factor = 1 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'max' %}
	{% set y_start = printer.toolhead.axis_maximum.y - 5 %}
	{% set y_factor = -1 %}
	{% else %}
	{% set y_start = printer["gcode_macro RatOS"].nozzle_prime_start_y|float %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_y|float < printer.toolhead.axis_maximum.y / 2 %}
	{% set y_factor = 1 %}
	{% else %}
	{% set y_factor = -1 %}
	{% endif %}
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_direction|lower == 'forwards' %}
	{% set y_factor = 1 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_direction|lower == 'backwards' %}
	{% set y_factor = -1 %}
	{% endif %}
	{% set z = printer["gcode_macro RatOS"].start_print_park_z_height|float %}
	
	G90
	
	M83
	
	G0 Z{z} F{z_speed}
	
	G1 X{x_start} F{speed}
	G1 Y{y_start + (15 * y_factor)} F{speed}
	
	G1 Z0.5 F{z_speed}
	
	G1 Y{y_start} F{speed}
	
	G1 F60 E20
	
	M106 S{fan_speed}
	
	G1 Z5 F100 E5
	
	G1 F200 Y{y_start + (25 * y_factor)} E1
	
	
	
	G1 F200 Y{y_start + (30 * y_factor)} Z3.8 E0.5
	G1 F200 Y{y_start + (35 * y_factor)} Z2.6 E0.5
	G1 F200 Y{y_start + (40 * y_factor)} Z1.4 E0.5
	G1 F200 Y{y_start + (45 * y_factor)} Z0.2 E0.5
	
	M106 S0
	
	G1 F200 Y{y_start + (50 * y_factor)} Z0.2 E0.6
	
	G1 F{speed} Y{y_start + (100 * y_factor)}
	RESTORE_GCODE_STATE NAME=prime_blob_state

[gcode_macro _PARK]
gcode = 
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	
	{% if params.X != '' %}
	{% if params.X|float >= printer.toolhead.axis_minimum.x + 5 and params.X|float <= printer.toolhead.axis_maximum.x - 5 %}
	{% set safe_x = params.X|float %}
	{% else %}
	{action_respond_info('The requested X co-ordinate is outside the defined axis bounds - using defaults')}
	{% set safe_x = printer.toolhead.axis_maximum.x / 2 %}
	{% endif %}
	{% else %}
	{% set safe_x = printer.toolhead.axis_maximum.x / 2 %}
	{% endif %}
	
	{% if params.LOCATION|default('back')|lower == 'back' %}
	{% set y = printer.toolhead.axis_maximum.y - 5 %}
	{% elif params.LOCATION|lower == 'front' %}
	{% set y = printer.toolhead.axis_minimum.y + 5 %}
	{% elif params.LOCATION|lower == 'center' %}
	{% set y = printer.toolhead.axis_maximum.y / 2 %}
	{% endif %}
	
	G90
	
	G0 X{safe_x} Y{y} F{speed}

[gcode_macro M600]
description = Executes a color change by pausing the printer an unloading the filament.
gcode = 
	PAUSE
	UNLOAD_FILAMENT
	M117 Please load new filament and resume
	RESPOND MSG="Please load new filament and resume"

[gcode_macro UNLOAD_FILAMENT]
description = Unloads the filament. Note: be careful with PETG, make sure you inspect the tip of your filament before reloading to avoid jams.
gcode = 
	SAVE_GCODE_STATE NAME=unload_state
	G91
	{% if params.TEMP is defined or printer.extruder.can_extrude|lower == 'false' %}
	M117 Heating...
	
	M104 S{params.TEMP|default(220, true)}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={params.TEMP|default(220, true)}
	{% endif %}
	{% set unload_speed = printer["gcode_macro RatOS"].filament_unload_speed|float * 60 %}
	{% set unload_length = printer["gcode_macro RatOS"].filament_unload_length|float %}
	M117 Unloading filament...
	
	G0 E10 F300
	
	G0 E-5 F3600
	
	G4 P3000
	
	G0 E5 F3600
	
	G0 E-15 F3600
	
	G0 E-{unload_length} F{unload_speed}
	M117 Filament unloaded!
	RESPOND MSG="Filament unloaded! Please inspect the tip of the filament before reloading."
	RESTORE_GCODE_STATE NAME=unload_state

[gcode_macro LOAD_FILAMENT]
description = Loads new filament. Note: be careful with PETG, make sure you inspect the tip of your filament before loading to avoid jams.
gcode = 
	SAVE_GCODE_STATE NAME=load_state
	G91
	
	{% if params.TEMP is defined or printer.extruder.can_extrude|lower == 'false' %}
	M117 Heating...
	M104 S{params.TEMP|default(220, true)}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={params.TEMP|default(220, true)}
	{% endif %}
	{% set load_speed = printer["gcode_macro RatOS"].filament_load_speed|float * 60 %}
	{% set load_length = printer["gcode_macro RatOS"].filament_load_length|float %}
	M117 Loading filament...
	
	G0 E{load_length} F{load_speed}
	
	G4 P1000
	
	G0 E40 F100
	
	M400
	M117 Filament loaded!
	RESPOND MSG="Filament loaded!"
	RESTORE_GCODE_STATE NAME=load_state

[gcode_macro SET_CENTER_KINEMATIC_POSITION]
description = FOR DEBUGGING PURPOSES ONLY. Sets the internal printer kinematic state to the center of all axes regardless of actual physical position.
gcode = 
	RESPOND MSG="WARNING: ONLY USE SET_CENTER_KINEMATIC_POSITION FOR DEBUGGING PURPOSES. YOU'RE OVERRIDING THE INTERNAL POSITIONING STATE OF THE PRINTER. PROCEED WITH CAUTION AND DO A PROPER G28 WHEN DONE."
	SET_GCODE_VARIABLE MACRO=MAYBE_HOME VARIABLE=is_kinematic_position_overriden VALUE=True
	SET_KINEMATIC_POSITION X={printer.toolhead.axis_maximum.x / 2} Y={printer.toolhead.axis_maximum.y / 2} Z={printer.toolhead.axis_maximum.z / 2}

[gcode_macro START_PRINT]
description = Start print procedure, use this in your Slicer.
gcode = 
	CLEAR_PAUSE
	FILDET_ENABLE
	{% if printer["gcode_macro RatOS"].force_absolute_position|lower == 'true' %}
	G90
	{% endif %}
	SAVE_GCODE_STATE NAME=start_print_state
	
	G21
	
	G90
	
	M82
	_USER_START_PRINT_BEFORE_HOMING
	{% if printer["gcode_macro RatOS"].z_probe|lower == 'stowable' %}
	STOWABLE_PROBE_BEGIN_BATCH
	{% endif %}
	
	MAYBE_HOME
	{% if params.CHAMBER_TEMP is defined %}
	_START_PRINT_HEAT_CHAMBER CHAMBER_TEMP={params.CHAMBER_TEMP} BED_TEMP={printer["gcode_macro RatOS"].start_print_heat_chamber_bed_temp}
	_USER_START_PRINT_HEAT_CHAMBER CHAMBER_TEMP={params.CHAMBER_TEMP} BED_TEMP={printer["gcode_macro RatOS"].start_print_heat_chamber_bed_temp}
	{% endif %}
	M117 Heating bed...
	RESPOND MSG="Heating bed..."
	
	M190 S{params.BED_TEMP|default(printer.heater_bed.target, true) }
	
	_USER_START_PRINT_AFTER_HEATING_BED
	
	_START_PRINT_AFTER_HEATING_BED
	
	_USER_START_PRINT_BED_MESH
	
	_START_PRINT_BED_MESH X0={params.X0} X1={params.X1} Y0={params.Y0} Y1={params.Y1}
	{% if printer["gcode_macro RatOS"].z_probe|lower == 'stowable' %}
	STOWABLE_PROBE_END_BATCH
	{% endif %}
	
	M104 S{params.EXTRUDER_TEMP|default(printer.extruder.target, true) }
	
	_USER_START_PRINT_PARK
	
	_START_PRINT_PARK
	
	M117 Heating Extruder...
	RESPOND MSG="Heating Extruder..."
	M109 S{params.EXTRUDER_TEMP|default(printer.extruder.target, true) }
	
	_USER_START_PRINT_AFTER_HEATING_EXTRUDER
	
	_START_PRINT_AFTER_HEATING_EXTRUDER
	M117 Printing...
	RESPOND MSG="Printing..."
	RESTORE_GCODE_STATE NAME=start_print_state
	
	{% if printer["gcode_macro RatOS"].relative_extrusion|lower == 'true' %}
	M83
	{% else %}
	M82
	{% endif %}
	G92 E0

[gcode_macro _USER_START_PRINT_BEFORE_HOMING]
gcode = 

[gcode_macro _START_PRINT_AFTER_HEATING_BED]
gcode = 
	{% if printer["gcode_macro RatOS"].preheat_extruder|lower == 'true' %}
	{% set min_temp = printer["gcode_macro RatOS"].preheat_extruder_temp|float %}
	{% set max_temp = printer["gcode_macro RatOS"].preheat_extruder_temp|float + 5 %}
	M117 Pre-heating extruder...
	RESPOND MSG="Pre-heating extruder..."
	
	
	M104 S{min_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={min_temp} MAXIMUM={max_temp}
	{% endif %}
	M117 Adjusting Z tilt...
	RESPOND MSG="Adjusting Z tilt..."
	
	Z_TILT_ADJUST
	M117 Rehoming Z after Z tilt adjustment...
	RESPOND MSG="Rehoming Z after Z tilt adjustment..."
	
	G28 Z

[gcode_macro Z_TILT_ADJUST]
rename_existing = Z_TILT_ADJUST_ORIG
gcode = 
	{% if printer["gcode_macro RatOS"].z_probe == 'stowable' %}
	DEPLOY_PROBE
	{% endif %}
	Z_TILT_ADJUST_ORIG
	{% if printer["gcode_macro RatOS"].z_probe == 'stowable' %}
	STOW_PROBE
	{% endif %}

[gcode_macro _USER_START_PRINT_AFTER_HEATING_BED]
gcode = 
	{% if printer["gcode_macro RatOS"].bed_soak|lower == 'true' %}
	G4 P{printer["gcode_macro RatOS"].bed_soak_time}
	{% endif %}

[gcode_macro _START_PRINT_BED_MESH]
gcode = 
	{% set default_profile = printer["gcode_macro RatOS"].bed_mesh_profile|default('ratos') %}
	{% if printer["gcode_macro RatOS"].calibrate_bed_mesh|lower == 'true' %}
	BED_MESH_CLEAR
	{% if printer["gcode_macro RatOS"].adaptive_mesh|lower == 'true' %}
	CALIBRATE_ADAPTIVE_MESH PROFILE={default_profile} X0={params.X0} X1={params.X1} Y0={params.Y0} Y1={params.Y1}
	{% else %}
	BED_MESH_CALIBRATE PROFILE={default_profile}
	{% endif %}
	BED_MESH_PROFILE LOAD={default_profile}
	{% elif printer["gcode_macro RatOS"].bed_mesh_profile is defined %}
	BED_MESH_CLEAR
	BED_MESH_PROFILE LOAD={printer["gcode_macro RatOS"].bed_mesh_profile}
	{% endif %}

[gcode_macro _USER_START_PRINT_BED_MESH]
gcode = 

[gcode_macro _START_PRINT_PARK]
gcode = 
	{% set z = printer["gcode_macro RatOS"].start_print_park_z_height|float %}
	{% set zSpeed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	_PARK LOCATION={printer["gcode_macro RatOS"].start_print_park_in} X={printer["gcode_macro RatOS"].start_print_park_x}
	G0 Z{z} F{zSpeed}

[gcode_macro _USER_START_PRINT_PARK]
gcode = 

[gcode_macro _START_PRINT_AFTER_HEATING_EXTRUDER]
gcode = 
	{% set has_offset = printer["gcode_macro RatOS"].probe_for_priming_result|float(9999.9) != 9999.9 %}
	{% if has_offset %}
	ADD_PRIME_PROBE_TO_OFFSET
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_priming|lower == 'primeline' %}
	PRIME_LINE
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_priming|lower == 'primeblob' %}
	PRIME_BLOB
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_priming|lower == 'linepurge' %}
	LINE_PURGE
	{% endif %}
	{% if has_offset %}
	SUBTRACT_PRIME_PROBE_FROM_OFFSET
	{% endif %}
	{% if printer["gcode_macro RatOS"].skew_profile is defined %}
	SKEW_PROFILE LOAD={printer["gcode_macro RatOS"].skew_profile}
	{% endif %}

[gcode_macro _USER_START_PRINT_AFTER_HEATING_EXTRUDER]
gcode = 

[gcode_macro _START_PRINT_HEAT_CHAMBER]
description = Uses the extruder sensor to wait for chamber temp. Override the _START_PRINT_HEAT_CHAMBER macro to implement heated chamber handling.
gcode = 
	{% if params.CHAMBER_TEMP is defined and params.BED_TEMP is defined and params.CHAMBER_TEMP|int > 0 %}
	{% set z = printer["gcode_macro RatOS"].start_print_park_z_height|float %}
	{% set zSpeed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	G0 Z{z} F{zSpeed}
	M84
	M117 Heating chamber...
	RESPOND MSG="Heating chamber..."
	M140 S{params.BED_TEMP}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={params.CHAMBER_TEMP}
	MAYBE_HOME
	{% endif %}

[gcode_macro _USER_START_PRINT_HEAT_CHAMBER]
description = Uses the extruder sensor to wait for chamber temp. Override the _START_PRINT_HEAT_CHAMBER macro to implement heated chamber handling.
gcode = 

[gcode_macro END_PRINT]
description = End print procedure, use this in your Slicer.
gcode = 
	FILDET_DISABLE
	SAVE_GCODE_STATE NAME=end_print_state
	_USER_END_PRINT_BEFORE_HEATERS_OFF
	_END_PRINT_BEFORE_HEATERS_OFF
	TURN_OFF_HEATERS
	_USER_END_PRINT_AFTER_HEATERS_OFF
	_END_PRINT_AFTER_HEATERS_OFF
	_USER_END_PRINT_PARK
	_END_PRINT_PARK
	
	{% if printer["gcode_macro RatOS"].skew_profile is defined %}
	SET_SKEW CLEAR=1
	{% endif %}
	
	M84
	
	M107
	
	BED_MESH_CLEAR
	BED_MESH_PROFILE REMOVE="ratos"
	M117 Done :)
	RESTORE_GCODE_STATE NAME=end_print_state
	RESPOND COLOR=success MSG="Print done"
	PRINT_DONE
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30

[gcode_macro _END_PRINT_BEFORE_HEATERS_OFF]
gcode = 
	RESPOND MSG="Cleaning up..."

[gcode_macro _USER_END_PRINT_BEFORE_HEATERS_OFF]
gcode = 

[gcode_macro _END_PRINT_AFTER_HEATERS_OFF]
gcode = 
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% set z_hop = printer["gcode_macro RatOS"].end_print_park_z_hop|float %}
	{% if act_z < (max_z - z_hop) %}
	{% set z_safe = z_hop %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	G91
	
	G1 E-2 F3600
	
	G0 Z{z_safe} F3600
	
	G1 E-2 F3600
	
	G90

[gcode_macro _USER_END_PRINT_AFTER_HEATERS_OFF]
gcode = 

[gcode_macro _END_PRINT_PARK]
gcode = 
	_PARK LOCATION={printer["gcode_macro RatOS"].end_print_park_in} X={printer["gcode_macro RatOS"].end_print_park_x}

[gcode_macro _USER_END_PRINT_PARK]
gcode = 

[gcode_macro SAVE_PROBE_RESULT]
gcode = 
	{% set last_z = printer.probe.last_z_result %}
	SET_GCODE_VARIABLE MACRO=RatOS VARIABLE={params.VARIABLE|default('last_z')} VALUE={last_z}

[gcode_macro PROBE_FOR_PRIMING]
gcode = 
	{% if printer["gcode_macro RatOS"].nozzle_priming|lower != 'false' %}
	SAVE_GCODE_STATE NAME=probe_for_priming_state
	RESPOND MSG="Probing the prime location.."
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set z_speed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'min' %}
	{% set x_start = 5 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'max' %}
	{% set x_start = printer.toolhead.axis_maximum.x - 5 %}
	{% else %}
	{% set x_start = printer["gcode_macro RatOS"].nozzle_prime_start_x|float %}
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'min' %}
	{% set y_start = 5 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'max' %}
	{% set y_start = printer.toolhead.axis_maximum.y - 5 %}
	{% else %}
	{% set y_start = printer["gcode_macro RatOS"].nozzle_prime_start_y|float %}
	{% endif %}
	{% set z = printer.configfile.settings.bed_mesh.horizontal_move_z|float %}
	
	{% set mesh_config = printer.configfile.config.bed_mesh %}
	
	
	{% if printer.configfile.settings.bltouch is defined %}
	{% set x_offset = printer.configfile.settings.bltouch.x_offset|float %}
	{% set y_offset = printer.configfile.settings.bltouch.y_offset|float %}
	{% elif printer.configfile.settings.probe is defined %}
	{% set x_offset = printer.configfile.settings.probe.x_offset|float %}
	{% set y_offset = printer.configfile.settings.probe.y_offset|float %}
	{% elif printer.configfile.settings.beacon is defined %}
	{% set x_offset = printer.configfile.settings.beacon.x_offset|float %}
	{% set y_offset = printer.configfile.settings.beacon.y_offset|float %}
	{% else %}
	{ action_raise_error("No probe or bltouch section found. Adaptive priming only works with [probe] or [bltouch].") }
	{% endif %}
	
	
	{% set min_x = mesh_config.mesh_min.split(",")[0]|float - x_offset %}
	{% set min_y = mesh_config.mesh_min.split(",")[1]|float - y_offset %}
	{% set max_x = mesh_config.mesh_max.split(",")[0]|float - x_offset %}
	{% set max_y = mesh_config.mesh_max.split(",")[1]|float - y_offset %}
	
	
	{% set x_start = [[x_start, max_x]|min, min_x]|max %}
	{% set y_start = [[y_start, max_y]|min, min_y]|max %}
	
	RESPOND MSG="PROBE_FOR_PRIMING: Probing the prime location at X: {x_start} Y: {y_start}"
	
	
	G90
	
	M83
	
	G0 Z{z} F{z_speed}
	
	G1 X{x_start} Y{y_start} F{speed}
	PROBE_CURRENT_POSITION
	SAVE_PROBE_RESULT VARIABLE=probe_for_priming_result
	
	RESTORE_GCODE_STATE NAME=probe_for_priming_state
	{% endif %}

[gcode_macro RESET_PRIME_PROBE_STATE]
gcode = 
	SET_GCODE_VARIABLE MACRO=RatOS VARIABLE=probe_for_priming_result VALUE=None

[gcode_macro PROBE_CURRENT_POSITION]
gcode = 
	SAVE_GCODE_STATE NAME=probe_current_position_state
	{% if printer["gcode_macro RatOS"].z_probe|lower == 'stowable' %}
	ASSERT_PROBE_DEPLOYED
	{% endif %}
	PROBE
	RESTORE_GCODE_STATE NAME=probe_current_position_state MOVE=1 MOVE_SPEED={printer["gcode_macro RatOS"].macro_z_speed|float}

[gcode_macro ADD_PRIME_PROBE_TO_OFFSET]
gcode = 
	{% set last_z = printer["gcode_macro RatOS"].probe_for_priming_result|float(9999.9) %}
	{% if printer.configfile.settings.bltouch is defined %}
	{% set z_offset = printer.configfile.settings.bltouch.z_offset|float %}
	{% elif printer.configfile.settings.probe is defined %}
	{% set z_offset = printer.configfile.settings.probe.z_offset|float %}
	{% else %}
	{ action_raise_error("No probe or bltouch section found. Adaptive priming only works with [probe] or [bltouch].") }
	{% endif %}
	{% if last_z == 9999.9 %}
	{ action_raise_error("No probe result found for prime area. This is likely a bug.") }
	{% endif %}
	{% set adjustment = last_z - z_offset %}
	{% set adjustment_threshold = printer["gcode_macro RatOS"].adaptive_prime_offset_threshold|float %}
	{% if adjustment < adjustment_threshold %}
	{ action_raise_error("Abnormal probe offset detected. Needed offset of {adjustment} is below the offset threshold of -1mm. Please verify the probe is over the bed when probing for priming. If it isn't, you should adjust you min/max bed_mesh settings so the probe is always over the print area.") }
	{% endif %}
	RESPOND MSG="ADD_PRIME_PROBE_TO_OFFSET: adjusting z offset by {adjustment}"
	SET_GCODE_OFFSET Z_ADJUST={adjustment} MOVE=1

[gcode_macro SUBTRACT_PRIME_PROBE_FROM_OFFSET]
gcode = 
	{% set last_z = printer["gcode_macro RatOS"].probe_for_priming_result|float(9999.9) %}
	{% if printer.configfile.settings.bltouch is defined %}
	{% set z_offset = printer.configfile.settings.bltouch.z_offset|float %}
	{% elif printer.configfile.settings.probe is defined %}
	{% set z_offset = printer.configfile.settings.probe.z_offset|float %}
	{% else %}
	{ action_raise_error("No probe or bltouch section found. Adaptive priming only works with [probe] or [bltouch].") }
	{% endif %}
	{% if last_z == 9999.9 %}
	{ action_raise_error("No probe result found for prime area. This is likely a bug.") }
	{% endif %}
	RESPOND MSG="SUBTRACT_PRIME_PROBE_FROM_OFFSET: adjusting z offset by {z_offset - last_z}"
	SET_GCODE_OFFSET Z_ADJUST={z_offset - last_z} MOVE=1

[gcode_macro CALIBRATE_ADAPTIVE_MESH]
gcode = 
	
	{% set default_profile = params.PROFILE %}
	
	
	{% set x0 = params.X0|default(-1)|float %}
	{% set y0 = params.Y0|default(-1)|float %}
	{% set x1 = params.X1|default(-1)|float %}
	{% set y1 = params.Y1|default(-1)|float %}
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: Recieved coordinates X0={x0} Y0={y0} X1={x1} Y1={y1}"
	
	{% if x0 >= x1 or y0 >= y1 %}
	
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: Invalid coordinates received. Please check your slicer settings. Falling back to full bed mesh."
	BED_MESH_CALIBRATE PROFILE={default_profile}
	{% else %}
	
	{% set mesh_config = printer.configfile.config.bed_mesh %}
	
	
	{% set min_x = mesh_config.mesh_min.split(",")[0]|float %}
	{% set min_y = mesh_config.mesh_min.split(",")[1]|float %}
	{% set max_x = mesh_config.mesh_max.split(",")[0]|float %}
	{% set max_y = mesh_config.mesh_max.split(",")[1]|float %}
	
	
	{% set mesh_x0 = [[x0, max_x]|min, min_x]|max %}
	{% set mesh_y0 = [[y0, max_y]|min, min_y]|max %}
	{% set mesh_x1 = [[x1, max_x]|min, min_x]|max %}
	{% set mesh_y1 = [[y1, max_y]|min, min_y]|max %}
	
	{% if mesh_x0 == min_x and mesh_y0 == min_y and mesh_x1 == max_x and mesh_y1 == max_y %}
	
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: Print is using the full bed, falling back to full bed mesh."
	BED_MESH_CALIBRATE PROFILE={default_profile}
	{% else %}
	{% if printer["gcode_macro RatOS"].z_probe|lower == 'stowable' %}
	DEPLOY_PROBE
	{% endif %}
	
	{% set probe_count_x = mesh_config.probe_count.split(",")[0]|int %}
	{% if mesh_config.probe_count.split(",")|length == 2 %}
	{% set probe_count_y = mesh_config.probe_count.split(",")[1]|int %}
	{% else %}
	{% set probe_count_y = mesh_config.probe_count.split(",")[0]|int %}
	{% endif %}
	
	
	{% set probe_x_step = (max_x - min_x) / probe_count_x %}
	{% set probe_y_step = (max_y - min_y) / probe_count_y %}
	
	
	{% set mesh_count_x = ([(mesh_x1 - mesh_x0) / probe_x_step, 3]|max)|int %}
	{% set mesh_count_y = ([(mesh_y1 - mesh_y0) / probe_y_step, 3]|max)|int %}
	{% set min_mesh_count = [mesh_count_x, mesh_count_y]|min %}
	{% set max_mesh_count = [mesh_count_x, mesh_count_y]|max %}
	
	
	{% set algorithm = mesh_config.algorithm %}
	{% if algorithm|lower == 'lagrange' and max_mesh_count > 6 %}
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: cannot exceed a probe_count of 6 when using lagrange interpolation. Falling back to bicubic interpolation."
	{% set algorithm = 'bicubic' %}
	{% endif %}
	{% if algorithm|lower == 'bicubic' and min_mesh_count < 4 %}
	{% if max_mesh_count > 6 %}
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: invalid probe_count option when using bicubic interpolation. Combination of 3 points on one axis with more than 6 on another is not permitted. Forcing minimum mesh count to be 4."
	{% set min_mesh_count = 4 %}
	{% else %}
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: bicubic interpolation with a probe_count of less than 4 points detected. Forcing lagrange interpolation."
	{% set algorithm = 'lagrange' %}
	{% endif %}
	{% endif %}
	
	{% set mesh_count_x = ([min_mesh_count, mesh_count_x]|max)|int %}
	{% set mesh_count_x = ([max_mesh_count, mesh_count_x]|min)|int %}
	{% set mesh_count_y = ([min_mesh_count, mesh_count_y]|max)|int %}
	{% set mesh_count_y = ([max_mesh_count, mesh_count_y]|min)|int %}
	
	{% set should_prime = printer["gcode_macro RatOS"].nozzle_priming == 'primeline' or printer["gcode_macro RatOS"].nozzle_priming == 'primeblob' %}
	{% if printer.configfile.settings.beacon is defined %}
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: adaptive priming is currently not supported for Beacon. Disabling priming.."
	SET_GCODE_VARIABLE MACRO=RatOS VARIABLE=nozzle_priming VALUE=False
	{% set should_prime = False %}
	{% endif %}
	
	{% set prime_first = printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == "min" or printer["gcode_macro RatOS"].nozzle_prime_start_y|float(printer.toolhead.axis_maximum.y) < printer.toolhead.axis_maximum.y / 2 %}
	
	{% if should_prime and prime_first %}
	PROBE_FOR_PRIMING
	{% endif %}
	
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: mesh coordinates X0={mesh_x0} Y0={mesh_y0} X1={mesh_x1} Y1={mesh_y1}"
	BED_MESH_CALIBRATE PROFILE={default_profile} algorithm={algorithm} mesh_min={mesh_x0},{mesh_y0} mesh_max={mesh_x1},{mesh_y1} probe_count={mesh_count_x},{mesh_count_y}
	
	{% if should_prime and not prime_first %}
	PROBE_FOR_PRIMING
	{% endif %}
	{% if printer["gcode_macro RatOS"].z_probe|lower == 'stowable' %}
	STOW_PROBE
	{% endif %}
	
	{% endif %}
	{% endif %}

[gcode_macro LINE_PURGE]
description = A purge macro that adapts to be near your actual printed objects
gcode = 
	
	{% set travel_speed = (printer.toolhead.max_velocity) * 60 | float %}
	{% set cross_section = printer.configfile.settings.extruder.max_extrude_cross_section | float %}
	
	
	{% if printer.firmware_retraction is defined %}
	{% set RETRACT = G10 | string %}
	{% set UNRETRACT = G11 | string %}
	{% else %}
	{% set RETRACT = 'G1 E-.5 F2100' | string %}
	{% set UNRETRACT = 'G1 E.5 F2100' | string %}
	{% endif %}
	
	{% set verbose_enable = printer["gcode_macro RatOS"].verbose_enable | abs %}
	{% set purge_height = printer["gcode_macro RatOS"].purge_height | float %}
	{% set tip_distance = printer["gcode_macro RatOS"].tip_distance | float %}
	{% set purge_margin = printer["gcode_macro RatOS"].purge_margin | float %}
	{% set purge_amount = printer["gcode_macro RatOS"].purge_amount | float %}
	{% set flow_rate = printer["gcode_macro RatOS"].flow_rate | float %}
	
	
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set purge_x_min = (all_points | map(attribute=0) | min | default(0)) %}
	{% set purge_x_max = (all_points | map(attribute=0) | max | default(0)) %}
	{% set purge_y_min = (all_points | map(attribute=1) | min | default(0)) %}
	{% set purge_y_max = (all_points | map(attribute=1) | max | default(0)) %}
	
	{% set purge_x_center = ([((purge_x_max + purge_x_min) / 2) - (purge_amount / 2), 0] | max) %}
	{% set purge_y_center = ([((purge_y_max + purge_y_min) / 2) - (purge_amount / 2), 0] | max) %}
	
	{% set purge_x_origin = ([purge_x_min - purge_margin, 0] | max) %}
	{% set purge_y_origin = ([purge_y_min - purge_margin, 0] | max) %}
	
	
	{% set purge_move_speed = (flow_rate / 5.0) * 60 | float %}
	{% if cross_section < 5 %}
	{action_respond_info("[Extruder] max_extrude_cross_section is insufficient for purge, please set it to 5 or greater. Purge skipped.")}
	{% else %}
	{% if verbose_enable == True %}
	{action_respond_info("Moving filament tip {}mms".format(
	(tip_distance),
	)) }
	{% endif %}
	{% if printer.firmware_retraction is defined %}
	{action_respond_info("KAMP purge is using firmware retraction.")}
	{% else %}
	{action_respond_info("KAMP purge is not using firmware retraction, it is recommended to configure it.")}
	{% endif %}
	{% if purge_y_origin > 0 %}
	{action_respond_info("KAMP purge starting at {}, {} and purging {}mm of filament, requested flow rate is {}mm3/s.".format(
	(purge_x_center),
	(purge_y_origin),
	(purge_amount),
	(flow_rate),
	)) }
	{% else %}
	{action_respond_info("KAMP purge starting at {}, {} and purging {}mm of filament, requested flow rate is {}mm3/s.".format(
	(purge_x_origin),
	(purge_y_center),
	(purge_amount),
	(flow_rate),
	)) }
	{% endif %}
	
	SAVE_GCODE_STATE NAME=Prepurge_State
	
	{% if purge_y_origin > 0 %}
	G92 E0
	G0 F{travel_speed}
	G90
	G0 X{purge_x_center} Y{purge_y_origin}
	G0 Z{purge_height}
	M83
	G1 E{tip_distance} F{purge_move_speed}
	G1 X{purge_x_center + purge_amount} E{purge_amount} F{purge_move_speed}
	{RETRACT}
	G0 X{purge_x_center + purge_amount + 10} F{travel_speed}
	G92 E0
	M82
	G0 Z{purge_height * 2} F{travel_speed}
	{% else %}
	G92 E0
	G0 F{travel_speed}
	G90
	G0 X{purge_x_origin} Y{purge_y_center}
	G0 Z{purge_height}
	M83
	G1 E{tip_distance} F{purge_move_speed}
	G1 Y{purge_y_center + purge_amount} E{purge_amount} F{purge_move_speed}
	{RETRACT}
	G0 Y{purge_y_center + purge_amount + 10} F{travel_speed}
	G92 E0
	M82
	G0 Z{purge_height * 2} F{travel_speed}
	{% endif %}
	RESTORE_GCODE_STATE NAME=Prepurge_State
	{% endif %}

[gcode_shell_command generate_shaper_graph_x]
command = /home/pi/printer_data/config/RatOS/scripts/generate-shaper-graph-x.sh
timeout = 60.
verbose = True

[gcode_shell_command generate_shaper_graph_y]
command = /home/pi/printer_data/config/RatOS/scripts/generate-shaper-graph-y.sh
timeout = 60.
verbose = True

[gcode_shell_command generate_belt_tension_graph]
command = /home/pi/printer_data/config/RatOS/scripts/generate-belt-tension-graph.sh
timeout = 90.
verbose = True

[gcode_shell_command compile_binaries]
command = /home/pi/printer_data/config/RatOS/scripts/compile-binaries.sh
timeout = 600.

[gcode_shell_command change_hostname]
command = /home/pi/printer_data/config/RatOS/scripts/change-hostname.sh
timeout = 10.

[gcode_macro GENERATE_SHAPER_GRAPHS]
description = Genarates input shaper resonances graphs for analysis. Uses the AXIS parameter for if you only want to do one axis at a time, (eg. GENERATE_SHAPER_GRAPHS AXIS=X)
gcode = 
	{% if params.AXIS is defined %}
	{% if params.AXIS|lower == 'x' %}
	MAYBE_HOME
	TEST_RESONANCES AXIS=X
	RUN_SHELL_COMMAND CMD=generate_shaper_graph_x
	RESPOND MSG="Input shaper graph generated for the X axis. You'll find it in the input_shaper folder in the machine tab!"
	{% elif params.AXIS|lower == 'y' %}
	MAYBE_HOME
	TEST_RESONANCES AXIS=Y
	RUN_SHELL_COMMAND CMD=generate_shaper_graph_y
	RESPOND MSG="Input shaper graph generated for the Y axis. You'll find it in the input_shaper folder in the machine tab!"
	{% else %}
	{action_raise_error("Unknown axis specified. Expected X or Y.")}
	{% endif %}
	{% else %}
	MAYBE_HOME
	TEST_RESONANCES AXIS=X
	TEST_RESONANCES AXIS=Y
	RUN_SHELL_COMMAND CMD=generate_shaper_graph_x
	RUN_SHELL_COMMAND CMD=generate_shaper_graph_y
	RESPOND MSG="Input shaper graphs generated for X and Y. You'll find them in the input_shaper folder in the machine tab!"
	{% endif %}

[gcode_macro MEASURE_COREXY_BELT_TENSION]
description = Generates resonance graph used to ensure belts are equally tensioned.
gcode = 
	TEST_RESONANCES AXIS=1,1  OUTPUT=raw_data NAME=belt-tension-upper
	TEST_RESONANCES AXIS=1,-1 OUTPUT=raw_data NAME=belt-tension-lower
	RUN_SHELL_COMMAND CMD=generate_belt_tension_graph
	RESPOND MSG="Belt tension graphs generated. You'll find them in the input_shaper folder in the machine tab!"

[gcode_macro COMPILE_FIRMWARE]
description = Compiles firmware with currently installed klipper version for all supported RatOS boards. Note: this may take up to 10 minutes.
gcode = 
	RESPOND MSG="Compiling binaries.. This can take up to 10 minutes. Please do not turn off your Raspberry Pi!"
	RUN_SHELL_COMMAND CMD=compile_binaries
	RESPOND MSG="Firmware binaries compiled successfully! You can find them in the firmware_binaries folder in the machine tab!"

[gcode_macro CHANGE_HOSTNAME]
description = Change the hostname of your Raspberry Pi.
gcode = 
	{% if params.HOSTNAME is not defined %}
	RESPOND MSG='You have to specify a new hostname with the HOSTNAME parameter. Ex: CHANGE_HOSTNAME HOSTNAME="MY_NEW_HOSTNAME"'
	RESPOND MSG="Please note: RFCs mandate that a hostname's labels may contain only the ASCII letters 'a' through 'z' (case-insensitive), the digits '0' through '9', and the hyphen. Hostname labels cannot begin or end with a hyphen. No other symbols, punctuation characters, or blank spaces are permitted."
	{% else %}
	RUN_SHELL_COMMAND CMD=change_hostname PARAMS={params.HOSTNAME}
	{% endif %}

[stepper_z]
endstop_pin = probe:z_virtual_endstop
step_pin = motor_1_step
dir_pin = motor_1_dir
enable_pin = !motor_1_enable
rotation_distance = 4
microsteps = 64
position_min = -5
homing_speed = 10
position_max = 200

[tmc2209 stepper_z]
uart_pin = motor_1_uart
run_current = 1.6
stealthchop_threshold = 0
interpolate = False
hold_current = 0.4

[stepper_z1]
step_pin = motor_2_step
dir_pin = motor_2_dir
enable_pin = !motor_2_enable
rotation_distance = 4
microsteps = 64

[tmc2209 stepper_z1]
uart_pin = motor_2_uart
run_current = 1.6
stealthchop_threshold = 0
interpolate = False
hold_current = 0.4

[stepper_z2]
step_pin = motor_3_step
dir_pin = motor_3_dir
enable_pin = !motor_3_enable
rotation_distance = 4
microsteps = 64

[tmc2209 stepper_z2]
uart_pin = motor_3_uart
run_current = 1.6
stealthchop_threshold = 0
interpolate = False
hold_current = 0.4

[stepper_x]
step_pin = motor_4_step
dir_pin = !motor_4_dir
enable_pin = !motor_4_enable
rotation_distance = 40
microsteps = 64
homing_speed = 30
homing_retract_dist = 5.0
full_steps_per_rotation = 200
position_max = 200
position_endstop = 0
endstop_pin = ^endstop_motor_1

[tmc5160 stepper_x]
cs_pin = motor_4_uart
spi_software_mosi_pin = stepper_spi_mosi
spi_software_miso_pin = stepper_spi_miso
spi_software_sclk_pin = stepper_spi_sclk
run_current = 1.768
stealthchop_threshold = 0
interpolate = False
hold_current = 0.442

[stepper_x1]
step_pin = motor_5_step
dir_pin = motor_5_dir
enable_pin = !motor_5_enable
rotation_distance = 40
microsteps = 64
full_steps_per_rotation = 200

[tmc5160 stepper_x1]
cs_pin = motor_5_uart
spi_software_mosi_pin = stepper_spi_mosi
spi_software_miso_pin = stepper_spi_miso
spi_software_sclk_pin = stepper_spi_sclk
run_current = 1.768
stealthchop_threshold = 0
interpolate = False
hold_current = 0.442

[stepper_y]
step_pin = motor_6_step
dir_pin = !motor_6_dir
enable_pin = !motor_6_enable
rotation_distance = 40
microsteps = 64
full_steps_per_rotation = 200
position_max = 200
position_endstop = 200
homing_speed = 30
homing_retract_dist = 5.0
endstop_pin = ^endstop_motor_2
homing_positive_dir = true
position_min = 19

[tmc5160 stepper_y]
cs_pin = motor_6_uart
spi_software_mosi_pin = stepper_spi_mosi
spi_software_miso_pin = stepper_spi_miso
spi_software_sclk_pin = stepper_spi_sclk
run_current = 1.768
stealthchop_threshold = 0
interpolate = False
hold_current = 0.442

[stepper_y1]
step_pin = motor_7_step
dir_pin = motor_7_dir
enable_pin = !motor_7_enable
rotation_distance = 40
microsteps = 64
full_steps_per_rotation = 200

[tmc5160 stepper_y1]
cs_pin = motor_7_uart
spi_software_mosi_pin = stepper_spi_mosi
spi_software_miso_pin = stepper_spi_miso
spi_software_sclk_pin = stepper_spi_sclk
run_current = 1.768
stealthchop_threshold = 0
interpolate = False
hold_current = 0.442

[bed_mesh]
speed = 10
horizontal_move_z = 5
mesh_min = 10, 8.45
mesh_max = 170, 185.45
probe_count = 10,10
fade_start = 1.0
fade_end = 10.0
mesh_pps = 2,2
algorithm = bicubic
bicubic_tension = .2

[z_tilt]
speed = 50
z_positions = 
	0,0
	100,200
	200,0
points = 
	60,22
	135,190
	190,22
horizontal_move_z = 20
retries = 20
retry_tolerance = 0.02

[gcode_macro enable_stepper]
gcode = 
	SET_STEPPER_ENABLE STEPPER=stepper_x ENABLE=1
	SET_STEPPER_ENABLE STEPPER=stepper_y ENABLE=1
	SET_STEPPER_ENABLE STEPPER=stepper_x1 ENABLE=1
	SET_STEPPER_ENABLE STEPPER=stepper_y1 ENABLE=1

[gcode_macro disable_steppers]
gcode = 
	m84

[gcode_macro STEPPER_BUZZ_X]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_x

[gcode_macro STEPPER_BUZZ_Y]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_y

[gcode_macro STEPPER_BUZZ_X1]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_x1

[gcode_macro STEPPER_BUZZ_Y1]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_y1

[gcode_macro STEPPER_BUZZ_Z]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_z

[gcode_macro STEPPER_BUZZ_Z1]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_z1

[gcode_macro STEPPER_BUZZ_Z2]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_z2

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	
	
	
	
	G0 X{x_min+10} Y{y_min+10} Z{bound + 20} F{speed*60}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min+10} Y{y_min+10} F{speed*60}
	G0 X{x_max-30} Y{y_max-30} F{speed*60}
	G0 X{x_min+10} Y{y_min+10} F{speed*60}
	G0 X{x_max-30} Y{y_max-30} F{speed*60}
	G0 X{x_min+10} Y{y_min+10} F{speed*60}
	G0 X{x_max-30} Y{y_max-30} F{speed*60}
	
	
	G0 X{x_min+10} Y{y_min+10} F{speed*60}
	G0 X{x_min+10} Y{y_max-30} F{speed*60}
	G0 X{x_max-30} Y{y_max-30} F{speed*60}
	G0 X{x_max-30} Y{y_min+10} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} MINIMUM_CRUISE_RATIO={printer.configfile.settings.printer.minimum_cruise_ratio}
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED
	G0 X115 Y115 Z30

[bltouch]
sensor_pin = ^bltouch_probe
control_pin = bltouch_servo
speed = 7
pin_move_time = 0.675
sample_retract_dist = 10
pin_up_reports_not_triggered = True
pin_up_touch_mode_reports_triggered = True
x_offset = -30
y_offset = -14.550
z_offset = 3.825

[gcode_macro RatOS]
variable_z_probe = "static"
variable_homing_x = "endstop"
variable_homing_y = "endstop"
variable_homing = "endstops"
description = RatOS variable storage macro, will echo variables to the console when run.
variable_relative_extrusion = False
variable_force_absolute_position = False
variable_preheat_extruder = True
variable_preheat_extruder_temp = 150
variable_calibrate_bed_mesh = True
variable_bed_soak = False
variable_bed_soak_time = 60000
variable_nozzle_priming = "linepurge"
variable_verbose_enable = True
variable_purge_height = 0.8
variable_tip_distance = 0.4
variable_purge_margin = 20
variable_purge_amount = 30
variable_flow_rate = 10
variable_filament_unload_length = 130
variable_filament_unload_speed = 5
variable_filament_load_length = 100
variable_filament_load_speed = 10
variable_start_print_park_in = "back"
variable_start_print_park_z_height = 50
variable_end_print_park_in = "back"
variable_pause_print_park_in = "back"
variable_macro_travel_speed = 150
variable_macro_z_speed = 15
variable_end_print_park_z_hop = 20
variable_safe_home_x = "middle"
variable_safe_home_y = "middle"
variable_stowable_probe_stop_on_error = False
variable_adaptive_mesh = False
gcode = 
	ECHO_RATOS_VARS

[extruder]
rotation_distance = 5.57
full_steps_per_rotation = 200
filament_diameter = 1.750
max_extrude_only_velocity = 120
max_extrude_only_accel = 800
pressure_advance_smooth_time = 0.02
step_pin = motor_8_step
dir_pin = !motor_8_dir
enable_pin = !motor_8_enable
microsteps = 64
max_extrude_only_distance = 200
nozzle_diameter = 0.4
heater_pin = heater_e0
sensor_type = PT1000
pullup_resistor = 2200
sensor_pin = thermistor_e1
min_extrude_temp = 170
min_temp = 0
max_temp = 300
pressure_advance = 0.025
max_extrude_cross_section = 5
control = pid
pid_kp = 30.620
pid_ki = 1.926
pid_kd = 121.714

[tmc2209 extruder]
uart_pin = motor_8_uart
run_current = 0.5
stealthchop_threshold = 0
driver_tbl = 1
driver_toff = 3
driver_hend = 9
driver_hstrt = 7
interpolate = False
hold_current = 0.125

[firmware_retraction]
retract_speed = 120
unretract_extra_length = 0
unretract_speed = 120
retract_length = 0.5

[filament_switch_sensor filament_switch]
switch_pin = ^filament_sensor_adc2
pause_on_runout = false
runout_gcode = 
	PAUSE
	RESPOND COLOR=warning MSG="Filament ran out"
insert_gcode = 

[delayed_gcode DISABLEFILAMENTSENSOR]
initial_duration = 1
gcode = 
	SET_FILAMENT_SENSOR SENSOR=filament_switch ENABLE=0

[gcode_macro FILDET_ENABLE]
description = Enable smart filament sensor
gcode = 
	M117 ENABLING the Smart Filament Sensor
	RESPOND COLOR=info MSG="ENABLING the Smart Filament Sensor"
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_switch ENABLE=1

[gcode_macro FILDET_DISABLE]
description = Disable smart filament sensor
gcode = 
	M117 DISABLING the Smart Filament Sensor
	RESPOND COLOR=info MSG="DISABLING the Smart Filament Sensor"
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_switch ENABLE=0

[fan]
pin = fan_4_pwm
tachometer_pin = ^fan_4_tach
tachometer_poll_interval = 0.0005
cycle_time = 0.01

[heater_fan toolhead]
pin = fan_0
shutdown_speed = 1.0
kick_start_time = 5
heater = extruder
heater_temp = 49
fan_speed = 1.0

[temperature_fan Electronics_bay]
pin = fan_6_pwm
max_power = 1
off_below = 0
tachometer_pin = ^fan_6_tach
tachometer_poll_interval = 0.0005
sensor_type = temperature_combined
sensor_list = temperature_sensor 2209_M1, temperature_sensor 2209_M2, temperature_sensor 2209_M3, temperature_sensor 5160_M4, temperature_sensor 5160_M5, temperature_sensor 5160_M6, temperature_sensor 5160_M7, temperature_sensor 2209_M8
combination_method = max
maximum_deviation = 999.9
control = watermark
min_temp = 0
max_temp = 80
max_delta = 2
target_temp = 38.0
max_speed = 1.0
min_speed = 0.3
gcode_id = Electronics_bay

[temperature_sensor 2209_M1]
sensor_type = Generic 3950
sensor_pin = thermexp1:PA2
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc2209_M1

[temperature_sensor 2209_M2]
sensor_type = Generic 3950
sensor_pin = thermexp1:PA5
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc2209_M2

[temperature_sensor 2209_M3]
sensor_type = Generic 3950
sensor_pin = thermexp1:PA6
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc2209_M3

[temperature_sensor 5160_M4]
sensor_type = Generic 3950
sensor_pin = thermexp1:PB1
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc5160_M4

[temperature_sensor 5160_M5]
sensor_type = Generic 3950
sensor_pin = thermexp1:PA1
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc5160_M5

[temperature_sensor 5160_M6]
sensor_type = Generic 3950
sensor_pin = thermexp1:PA3
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc5160_M6

[temperature_sensor 5160_M7]
sensor_type = Generic 3950
sensor_pin = thermexp2:PA2
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc5160_M7

[temperature_sensor 2209_M8]
sensor_type = Generic 3950
sensor_pin = thermexp2:PA5
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc2209_M8

[autotune_tmc stepper_x]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 48

[autotune_tmc stepper_x1]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 48

[autotune_tmc stepper_y]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 48

[autotune_tmc stepper_y1]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 48

[autotune_tmc stepper_z]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 24

[autotune_tmc stepper_z1]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 24

[autotune_tmc stepper_z2]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 24

[output_pin status_led]
pin = heater_e3
value = 0
shutdown_value = 0

[gcode_button top]
pin = ^det_motor_6
press_gcode = 
release_gcode = 
	{% if printer.print_stats.state == "printing" %}
	PAUSE
	RESPOND COLOR=info MSG="Print paused"
	SET_PIN PIN=status_led VALUE=1
	{% elif printer.print_stats.state == "paused" %}
	RESUME
	RESPOND COLOR=info MSG="Print resumed"
	SET_PIN PIN=status_led VALUE=0
	{% else %}
	RESPOND COLOR=error MSG="Cannot pause or resume: no print in progress"
	{% endif %}

[gcode_button bottom]
pin = ^det_motor_5
press_gcode = 
release_gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2

[gcode_macro _POWER_OFF_PRINTER]
gcode = 
	{action_call_remote_method(
	"set_device_power", device="printer", state="off"
	)}

[delayed_gcode POWER_OFF_PRINTER_CHECK]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	{% if printer.extruder.temperature < 50.0 and printer.heater_bed.temperature < 50.0 %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	RESPOND COLOR=info MSG="Powering printer off"
	G4 P3000
	_POWER_OFF_PRINTER
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% endif %}
	{% else %}
	{% if printer.idle_timeout.state == "Printing" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% else %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% endif %}
	{% endif %}
	{% endif %}
	{% endif %}

[gcode_macro RESPOND]
rename_existing = BASE_RESPOND
gcode = 
	{% set colors = ('primary', 'secondary', 'accent', 'info', 'success', 'error', 'warning') %}
	
	{% if params.MSG is defined %}
	{% set msg = 'MSG="'+ params.MSG + '"'|string %}
	{% endif %}
	
	{% if params.COLOR is defined %}
	{% set color = params.COLOR|lower %}
	
	{% if color in colors %}
	{% set msg = 'MSG="<span class=' + color + '--text>' + params.MSG + '</span>"'|string %}
	
	{% else %}
	BASE_RESPOND TYPE=error MSG="RESPOND COLOR '{color}' is invalid. Must be one of 'primary', 'secondary', 'accent', 'info', 'success', 'warning' or 'error'"
	{% endif %}
	
	{% endif %}
	BASE_RESPOND {msg}

[output_pin beeper]
pin = heater_e2
value = 0
shutdown_value = 0
pwm = True
cycle_time = 0.0005

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	SET_PIN PIN=beeper VALUE=0.5 CYCLE_TIME={ 1.0/S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=beeper VALUE=0

[gcode_macro PRINT_DONE]
gcode = 
	M300 P110 S523
	M300 P110 S466
	M300 P221 S392
	M300 P221 S523
	M300 P221 S349
	M300 P221 S523
	M300 P221 S466
	M300 P221 S523
	M300 P882 S349
	M300 P441 S392
	M300 P221 S392
	M300 P221 S466
	M300 P221 S523
	M300 P110 S523
	M300 P110 S466
	M300 P221 S392
	M300 P221 S523
	M300 P221 S349
	M300 P221 S523
	M300 P221 S466
	M300 P221 S523
	M300 P882 S349
	M300 P441 S392
	M300 P221 S392
	M300 P221 S466
	M300 P882 S523

[temperature_sensor Stepper_back_left]
sensor_type = Generic 3950
sensor_pin = thermexp2:PA6
min_temp = 0
max_temp = 100
pullup_resistor = 4700
gcode_id = Stepper_back_left

[temperature_sensor Stepper_back_right]
sensor_type = Generic 3950
sensor_pin = thermexp2:PB1
min_temp = 0
max_temp = 100
pullup_resistor = 4700
gcode_id = Stepper_back_right

[temperature_sensor Stepper_front_left]
sensor_type = Generic 3950
sensor_pin = thermexp2:PA1
min_temp = 0
max_temp = 100
pullup_resistor = 4700
gcode_id = Stepper_front_left

[temperature_sensor Stepper_front_right]
sensor_type = Generic 3950
sensor_pin = thermexp2:PA3
min_temp = 0
max_temp = 100
pullup_resistor = 4700
gcode_id = Stepper_front_right

[gcode_macro TEST_STEPPER_TEMPS]
gcode = 
	G28
	TEST_SPEED SPEED=300 ACCEL=5000 ITERATIONS=50
=======================
Extruder max_extrude_ratio=2.078758
mcu 'mcu': Starting serial connect
mcu 'mcu': Unable to open serial port: [Errno 2] could not open port /dev/btt-octopus-max-ez: [Errno 2] No such file or directory: '/dev/btt-octopus-max-ez'
webhooks client 4121618944: New connection
webhooks client 4121618944: Client info {'program': 'Moonraker', 'version': 'v0.8.0-327-g9447494'}
Loaded MCU 'mcu' 112 commands (v0.12.0-171-g2f6e94c9 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.34-4+rpi1+14) 2.34)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c3_PA8_PC9=PA8,PC9 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3a=PC11,PC12,PC10 BUS_PINS_spi4=PE13,PE14,PE12 BUS_PINS_spi5=PF8,PF9,PF7 BUS_PINS_spi5a=PH7,PF11,PH6 BUS_PINS_spi6=PG12,PG14,PG13 CLOCK_FREQ=400000000 MCU=stm32h723xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PH0,PH1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'rpi': Starting connect
Loaded MCU 'rpi' 118 commands (v0.12.0-171-g2f6e94c9 / gcc: (Raspbian 10.2.1-6+rpi1) 10.2.1 20210110 binutils: (GNU Binutils for Raspbian) 2.35.2)
MCU 'rpi' config: ADC_MAX=4095 CLOCK_FREQ=50000000 MCU=linux PCA9685_MAX=4096 PWM_MAX=32768 STATS_SUMSQ_BASE=256
mcu 'thermexp1': Starting serial connect
Loaded MCU 'thermexp1' 92 commands (v0.12.0-171-g2f6e94c9 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.34-4+rpi1+14) 2.34)
MCU 'thermexp1' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c1_PF1_PF0=PF1,PF0 BUS_PINS_i2c1a=PF1,PF0 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 CLOCK_FREQ=48000000 MCU=stm32f042x6 RESERVE_PINS_USB=PA11,PA12 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'thermexp2': Starting serial connect
Loaded MCU 'thermexp2' 92 commands (v0.12.0-171-g2f6e94c9 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.34-4+rpi1+14) 2.34)
MCU 'thermexp2' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c1_PF1_PF0=PF1,PF0 BUS_PINS_i2c1a=PF1,PF0 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 CLOCK_FREQ=48000000 MCU=stm32f042x6 RESERVE_PINS_USB=PA11,PA12 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu_temperature 'mcu' nominal base=-273.952569 slope=1618.577075
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Sending MCU 'rpi' printer configuration...
Configured MCU 'rpi' (1024 moves)
Sending MCU 'thermexp1' printer configuration...
Configured MCU 'thermexp1' (1024 moves)
Sending MCU 'thermexp2' printer configuration...
Configured MCU 'thermexp2' (1024 moves)
Starting heater checks for heater_bed
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (40.0, 23.0)    | (10.0, 8.4)
  1   | (57.8, 23.0)    | (27.8, 8.4)
  2   | (75.5, 23.0)    | (45.5, 8.4)
  3   | (93.3, 23.0)    | (63.3, 8.4)
  4   | (111.1, 23.0)   | (81.1, 8.4)
  5   | (128.8, 23.0)   | (98.8, 8.4)
  6   | (146.6, 23.0)   | (116.6, 8.4)
  7   | (164.4, 23.0)   | (134.4, 8.4)
  8   | (182.2, 23.0)   | (152.2, 8.4)
  9   | (199.9, 23.0)   | (169.9, 8.4)
  10  | (199.9, 42.7)   | (169.9, 28.1)
  11  | (182.2, 42.7)   | (152.2, 28.1)
  12  | (164.4, 42.7)   | (134.4, 28.1)
  13  | (146.6, 42.7)   | (116.6, 28.1)
  14  | (128.9, 42.7)   | (98.9, 28.1)
  15  | (111.1, 42.7)   | (81.1, 28.1)
  16  | (93.3, 42.7)    | (63.3, 28.1)
  17  | (75.5, 42.7)    | (45.5, 28.1)
  18  | (57.8, 42.7)    | (27.8, 28.1)
  19  | (40.0, 42.7)    | (10.0, 28.1)
  20  | (40.0, 62.3)    | (10.0, 47.8)
  21  | (57.8, 62.3)    | (27.8, 47.8)
  22  | (75.5, 62.3)    | (45.5, 47.8)
  23  | (93.3, 62.3)    | (63.3, 47.8)
  24  | (111.1, 62.3)   | (81.1, 47.8)
  25  | (128.8, 62.3)   | (98.8, 47.8)
  26  | (146.6, 62.3)   | (116.6, 47.8)
  27  | (164.4, 62.3)   | (134.4, 47.8)
  28  | (182.2, 62.3)   | (152.2, 47.8)
  29  | (199.9, 62.3)   | (169.9, 47.8)
  30  | (199.9, 82.0)   | (169.9, 67.4)
  31  | (182.2, 82.0)   | (152.2, 67.4)
  32  | (164.4, 82.0)   | (134.4, 67.4)
  33  | (146.6, 82.0)   | (116.6, 67.4)
  34  | (128.9, 82.0)   | (98.9, 67.4)
  35  | (111.1, 82.0)   | (81.1, 67.4)
  36  | (93.3, 82.0)    | (63.3, 67.4)
  37  | (75.5, 82.0)    | (45.5, 67.4)
  38  | (57.8, 82.0)    | (27.8, 67.4)
  39  | (40.0, 82.0)    | (10.0, 67.4)
  40  | (40.0, 101.6)   | (10.0, 87.1)
  41  | (57.8, 101.6)   | (27.8, 87.1)
  42  | (75.5, 101.6)   | (45.5, 87.1)
  43  | (93.3, 101.6)   | (63.3, 87.1)
  44  | (111.1, 101.6)  | (81.1, 87.1)
  45  | (128.8, 101.6)  | (98.8, 87.1)
  46  | (146.6, 101.6)  | (116.6, 87.1)
  47  | (164.4, 101.6)  | (134.4, 87.1)
  48  | (182.2, 101.6)  | (152.2, 87.1)
  49  | (199.9, 101.6)  | (169.9, 87.1)
  50  | (199.9, 121.3)  | (169.9, 106.7)
  51  | (182.2, 121.3)  | (152.2, 106.7)
  52  | (164.4, 121.3)  | (134.4, 106.7)
  53  | (146.6, 121.3)  | (116.6, 106.7)
  54  | (128.9, 121.3)  | (98.9, 106.7)
  55  | (111.1, 121.3)  | (81.1, 106.7)
  56  | (93.3, 121.3)   | (63.3, 106.7)
  57  | (75.5, 121.3)   | (45.5, 106.7)
  58  | (57.8, 121.3)   | (27.8, 106.7)
  59  | (40.0, 121.3)   | (10.0, 106.7)
  60  | (40.0, 141.0)   | (10.0, 126.4)
  61  | (57.8, 141.0)   | (27.8, 126.4)
  62  | (75.5, 141.0)   | (45.5, 126.4)
  63  | (93.3, 141.0)   | (63.3, 126.4)
  64  | (111.1, 141.0)  | (81.1, 126.4)
  65  | (128.8, 141.0)  | (98.8, 126.4)
  66  | (146.6, 141.0)  | (116.6, 126.4)
  67  | (164.4, 141.0)  | (134.4, 126.4)
  68  | (182.2, 141.0)  | (152.2, 126.4)
  69  | (199.9, 141.0)  | (169.9, 126.4)
  70  | (199.9, 160.6)  | (169.9, 146.1)
  71  | (182.2, 160.6)  | (152.2, 146.1)
  72  | (164.4, 160.6)  | (134.4, 146.1)
  73  | (146.6, 160.6)  | (116.6, 146.1)
  74  | (128.9, 160.6)  | (98.9, 146.1)
  75  | (111.1, 160.6)  | (81.1, 146.1)
  76  | (93.3, 160.6)   | (63.3, 146.1)
  77  | (75.5, 160.6)   | (45.5, 146.1)
  78  | (57.8, 160.6)   | (27.8, 146.1)
  79  | (40.0, 160.6)   | (10.0, 146.1)
  80  | (40.0, 180.3)   | (10.0, 165.7)
  81  | (57.8, 180.3)   | (27.8, 165.7)
  82  | (75.5, 180.3)   | (45.5, 165.7)
  83  | (93.3, 180.3)   | (63.3, 165.7)
  84  | (111.1, 180.3)  | (81.1, 165.7)
  85  | (128.8, 180.3)  | (98.8, 165.7)
  86  | (146.6, 180.3)  | (116.6, 165.7)
  87  | (164.4, 180.3)  | (134.4, 165.7)
  88  | (182.2, 180.3)  | (152.2, 165.7)
  89  | (199.9, 180.3)  | (169.9, 165.7)
  90  | (199.9, 199.9)  | (169.9, 185.4)
  91  | (182.2, 199.9)  | (152.2, 185.4)
  92  | (164.4, 199.9)  | (134.4, 185.4)
  93  | (146.6, 199.9)  | (116.6, 185.4)
  94  | (128.9, 199.9)  | (98.9, 185.4)
  95  | (111.1, 199.9)  | (81.1, 185.4)
  96  | (93.3, 199.9)   | (63.3, 185.4)
  97  | (75.5, 199.9)   | (45.5, 185.4)
  98  | (57.8, 199.9)   | (27.8, 185.4)
  99  | (40.0, 199.9)   | (10.0, 185.4)
Starting heater checks for extruder
autotune_tmc set stepper_x pwm_freq=2
autotune_tmc stepper_x ncycles=219 pfdcycles=73
autotune_tmc set stepper_x tpfd=1
autotune_tmc set stepper_x tbl=1
autotune_tmc set stepper_x toff=1
autotune_tmc seting hysteresis based on 48.0 V
dcoilblank = 0.160000, dcoilsd = 0.015156
hysteresis = 42, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set stepper_x hstrt=7
autotune_tmc set stepper_x hend=9
autotune_tmc using max PWM speed 445.633841
autotune_tmc set stepper_x pwm_autoscale=True
autotune_tmc set stepper_x pwm_autograd=True
autotune_tmc set stepper_x pwm_grad=4
autotune_tmc set stepper_x pwm_ofs=10
autotune_tmc set stepper_x pwm_reg=15
autotune_tmc set stepper_x pwm_lim=4
autotune_tmc set stepper_x tpwmthrs=1048575
autotune_tmc set stepper_x en_pwm_mode=False
autotune_tmc set stepper_x tcoolthrs=391(24.0)
autotune_tmc set stepper_x sgt=1
autotune_tmc set stepper_x small_hysteresis=False
autotune_tmc set stepper_x semin=2
autotune_tmc set stepper_x semax=2
autotune_tmc set stepper_x seup=3
autotune_tmc set stepper_x sedn=2
autotune_tmc set stepper_x seimin=0
autotune_tmc set stepper_x sfilt=0
autotune_tmc set stepper_x iholddelay=12
autotune_tmc set stepper_x vhighfs=False
autotune_tmc set stepper_x vhighchm=False
autotune_tmc set stepper_x multistep_filt=True
autotune_tmc set stepper_x1 pwm_freq=2
autotune_tmc stepper_x1 ncycles=219 pfdcycles=73
autotune_tmc set stepper_x1 tpfd=1
autotune_tmc set stepper_x1 tbl=1
autotune_tmc set stepper_x1 toff=1
autotune_tmc seting hysteresis based on 48.0 V
dcoilblank = 0.160000, dcoilsd = 0.015156
hysteresis = 42, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set stepper_x1 hstrt=7
autotune_tmc set stepper_x1 hend=9
autotune_tmc using max PWM speed 445.633841
autotune_tmc set stepper_x1 pwm_autoscale=True
autotune_tmc set stepper_x1 pwm_autograd=True
autotune_tmc set stepper_x1 pwm_grad=4
autotune_tmc set stepper_x1 pwm_ofs=10
autotune_tmc set stepper_x1 pwm_reg=15
autotune_tmc set stepper_x1 pwm_lim=4
autotune_tmc set stepper_x1 tpwmthrs=1048575
autotune_tmc set stepper_x1 en_pwm_mode=False
autotune_tmc set stepper_x1 tcoolthrs=391(24.0)
autotune_tmc set stepper_x1 sgt=1
autotune_tmc set stepper_x1 small_hysteresis=False
autotune_tmc set stepper_x1 semin=2
autotune_tmc set stepper_x1 semax=2
autotune_tmc set stepper_x1 seup=3
autotune_tmc set stepper_x1 sedn=2
autotune_tmc set stepper_x1 seimin=0
autotune_tmc set stepper_x1 sfilt=0
autotune_tmc set stepper_x1 iholddelay=12
autotune_tmc set stepper_x1 vhighfs=False
autotune_tmc set stepper_x1 vhighchm=False
autotune_tmc set stepper_x1 multistep_filt=True
autotune_tmc set stepper_y pwm_freq=2
autotune_tmc stepper_y ncycles=219 pfdcycles=73
autotune_tmc set stepper_y tpfd=1
autotune_tmc set stepper_y tbl=1
autotune_tmc set stepper_y toff=1
autotune_tmc seting hysteresis based on 48.0 V
dcoilblank = 0.160000, dcoilsd = 0.015156
hysteresis = 42, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set stepper_y hstrt=7
autotune_tmc set stepper_y hend=9
autotune_tmc using max PWM speed 445.633841
autotune_tmc set stepper_y pwm_autoscale=True
autotune_tmc set stepper_y pwm_autograd=True
autotune_tmc set stepper_y pwm_grad=4
autotune_tmc set stepper_y pwm_ofs=10
autotune_tmc set stepper_y pwm_reg=15
autotune_tmc set stepper_y pwm_lim=4
autotune_tmc set stepper_y tpwmthrs=1048575
autotune_tmc set stepper_y en_pwm_mode=False
autotune_tmc set stepper_y tcoolthrs=391(24.0)
autotune_tmc set stepper_y sgt=1
autotune_tmc set stepper_y small_hysteresis=False
autotune_tmc set stepper_y semin=2
autotune_tmc set stepper_y semax=2
autotune_tmc set stepper_y seup=3
autotune_tmc set stepper_y sedn=2
autotune_tmc set stepper_y seimin=0
autotune_tmc set stepper_y sfilt=0
autotune_tmc set stepper_y iholddelay=12
autotune_tmc set stepper_y vhighfs=False
autotune_tmc set stepper_y vhighchm=False
autotune_tmc set stepper_y multistep_filt=True
autotune_tmc set stepper_y1 pwm_freq=2
autotune_tmc stepper_y1 ncycles=219 pfdcycles=73
autotune_tmc set stepper_y1 tpfd=1
autotune_tmc set stepper_y1 tbl=1
autotune_tmc set stepper_y1 toff=1
autotune_tmc seting hysteresis based on 48.0 V
dcoilblank = 0.160000, dcoilsd = 0.015156
hysteresis = 42, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set stepper_y1 hstrt=7
autotune_tmc set stepper_y1 hend=9
autotune_tmc using max PWM speed 445.633841
autotune_tmc set stepper_y1 pwm_autoscale=True
autotune_tmc set stepper_y1 pwm_autograd=True
autotune_tmc set stepper_y1 pwm_grad=4
autotune_tmc set stepper_y1 pwm_ofs=10
autotune_tmc set stepper_y1 pwm_reg=15
autotune_tmc set stepper_y1 pwm_lim=4
autotune_tmc set stepper_y1 tpwmthrs=1048575
autotune_tmc set stepper_y1 en_pwm_mode=False
autotune_tmc set stepper_y1 tcoolthrs=391(24.0)
autotune_tmc set stepper_y1 sgt=1
autotune_tmc set stepper_y1 small_hysteresis=False
autotune_tmc set stepper_y1 semin=2
autotune_tmc set stepper_y1 semax=2
autotune_tmc set stepper_y1 seup=3
autotune_tmc set stepper_y1 sedn=2
autotune_tmc set stepper_y1 seimin=0
autotune_tmc set stepper_y1 sfilt=0
autotune_tmc set stepper_y1 iholddelay=12
autotune_tmc set stepper_y1 vhighfs=False
autotune_tmc set stepper_y1 vhighchm=False
autotune_tmc set stepper_y1 multistep_filt=True
autotune_tmc set stepper_z pwm_freq=2
autotune_tmc stepper_z ncycles=219 pfdcycles=73
autotune_tmc set stepper_z tbl=1
autotune_tmc set stepper_z toff=1
autotune_tmc seting hysteresis based on 24.0 V
dcoilblank = 0.080000, dcoilsd = 0.013495
hysteresis = 22, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set stepper_z hstrt=7
autotune_tmc set stepper_z hend=9
autotune_tmc set stepper_z sgthrs=40
autotune_tmc using max PWM speed 43.108253
autotune_tmc set stepper_z pwm_autoscale=True
autotune_tmc set stepper_z pwm_autograd=True
autotune_tmc set stepper_z pwm_grad=7
autotune_tmc set stepper_z pwm_ofs=18
autotune_tmc set stepper_z pwm_reg=15
autotune_tmc set stepper_z pwm_lim=4
autotune_tmc set stepper_z tpwmthrs=1048575
autotune_tmc set stepper_z en_spreadcycle=True
autotune_tmc set stepper_z tcoolthrs=391(2.4)
autotune_tmc set stepper_z semin=2
autotune_tmc set stepper_z semax=2
autotune_tmc set stepper_z seup=3
autotune_tmc set stepper_z sedn=2
autotune_tmc set stepper_z seimin=0
autotune_tmc set stepper_z iholddelay=12
autotune_tmc set stepper_z multistep_filt=True
autotune_tmc set stepper_z1 pwm_freq=2
autotune_tmc stepper_z1 ncycles=219 pfdcycles=73
autotune_tmc set stepper_z1 tbl=1
autotune_tmc set stepper_z1 toff=1
autotune_tmc seting hysteresis based on 24.0 V
dcoilblank = 0.080000, dcoilsd = 0.013495
hysteresis = 22, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set stepper_z1 hstrt=7
autotune_tmc set stepper_z1 hend=9
autotune_tmc set stepper_z1 sgthrs=40
autotune_tmc using max PWM speed 43.108253
autotune_tmc set stepper_z1 pwm_autoscale=True
autotune_tmc set stepper_z1 pwm_autograd=True
autotune_tmc set stepper_z1 pwm_grad=7
autotune_tmc set stepper_z1 pwm_ofs=18
autotune_tmc set stepper_z1 pwm_reg=15
autotune_tmc set stepper_z1 pwm_lim=4
autotune_tmc set stepper_z1 tpwmthrs=1048575
autotune_tmc set stepper_z1 en_spreadcycle=True
autotune_tmc set stepper_z1 tcoolthrs=391(2.4)
autotune_tmc set stepper_z1 semin=2
autotune_tmc set stepper_z1 semax=2
autotune_tmc set stepper_z1 seup=3
autotune_tmc set stepper_z1 sedn=2
autotune_tmc set stepper_z1 seimin=0
autotune_tmc set stepper_z1 iholddelay=12
autotune_tmc set stepper_z1 multistep_filt=True
autotune_tmc set stepper_z2 pwm_freq=2
autotune_tmc stepper_z2 ncycles=219 pfdcycles=73
autotune_tmc set stepper_z2 tbl=1
autotune_tmc set stepper_z2 toff=1
autotune_tmc seting hysteresis based on 24.0 V
dcoilblank = 0.080000, dcoilsd = 0.013495
hysteresis = 22, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set stepper_z2 hstrt=7
autotune_tmc set stepper_z2 hend=9
autotune_tmc set stepper_z2 sgthrs=40
autotune_tmc using max PWM speed 43.108253
autotune_tmc set stepper_z2 pwm_autoscale=True
autotune_tmc set stepper_z2 pwm_autograd=True
autotune_tmc set stepper_z2 pwm_grad=7
autotune_tmc set stepper_z2 pwm_ofs=18
autotune_tmc set stepper_z2 pwm_reg=15
autotune_tmc set stepper_z2 pwm_lim=4
autotune_tmc set stepper_z2 tpwmthrs=1048575
autotune_tmc set stepper_z2 en_spreadcycle=True
autotune_tmc set stepper_z2 tcoolthrs=391(2.4)
autotune_tmc set stepper_z2 semin=2
autotune_tmc set stepper_z2 semax=2
autotune_tmc set stepper_z2 seup=3
autotune_tmc set stepper_z2 sedn=2
autotune_tmc set stepper_z2 seimin=0
autotune_tmc set stepper_z2 iholddelay=12
autotune_tmc set stepper_z2 multistep_filt=True
Stats 136.2: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9367 bytes_read=12335 bytes_retransmit=9 bytes_invalid=0 send_seq=647 receive_seq=647 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400014992 rpi: mcu_awake=0.005 mcu_task_avg=0.000038 mcu_task_stddev=0.000026 bytes_write=843 bytes_read=4964 bytes_retransmit=0 bytes_invalid=0 send_seq=115 receive_seq=115 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49998926 adj=49994120 thermexp1: mcu_awake=0.011 mcu_task_avg=0.000027 mcu_task_stddev=0.000038 bytes_write=893 bytes_read=3886 bytes_retransmit=9 bytes_invalid=0 send_seq=108 receive_seq=108 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47977035 adj=47975416 thermexp2: mcu_awake=0.011 mcu_task_avg=0.000027 mcu_task_stddev=0.000038 bytes_write=887 bytes_read=3870 bytes_retransmit=9 bytes_invalid=0 send_seq=107 receive_seq=107 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48014996 adj=48017958 Octopus_Max: temp=29.9 Pi: temp=30.2  heater_bed: target=0 temp=0.0 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.8 2209_M1: temp=24.8 2209_M2: temp=24.8 2209_M3: temp=24.9 5160_M4: temp=25.1 5160_M5: temp=25.2 5160_M6: temp=24.9 5160_M7: temp=25.3 2209_M8: temp=24.8 Stepper_back_left: temp=24.3 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.7 sysload=0.35 cputime=4.393 memavail=7504540 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 4121618944
webhooks: registering remote method 'reboot_machine' for connection id: 4121618944
webhooks: registering remote method 'pause_job_queue' for connection id: 4121618944
webhooks: registering remote method 'start_job_queue' for connection id: 4121618944
webhooks: registering remote method 'set_device_power' for connection id: 4121618944
Stats 137.2: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9373 bytes_read=12601 bytes_retransmit=9 bytes_invalid=0 send_seq=648 receive_seq=648 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400018824 rpi: mcu_awake=0.005 mcu_task_avg=0.000038 mcu_task_stddev=0.000026 bytes_write=849 bytes_read=4980 bytes_retransmit=0 bytes_invalid=0 send_seq=116 receive_seq=116 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999029 adj=49998341 thermexp1: mcu_awake=0.011 mcu_task_avg=0.000027 mcu_task_stddev=0.000038 bytes_write=899 bytes_read=4187 bytes_retransmit=9 bytes_invalid=0 send_seq=109 receive_seq=109 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47977515 adj=47974318 thermexp2: mcu_awake=0.011 mcu_task_avg=0.000027 mcu_task_stddev=0.000038 bytes_write=893 bytes_read=4186 bytes_retransmit=9 bytes_invalid=0 send_seq=108 receive_seq=108 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015133 adj=48009392 Octopus_Max: temp=29.9 Pi: temp=30.7  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.8 2209_M1: temp=24.6 2209_M2: temp=24.8 2209_M3: temp=24.8 5160_M4: temp=25.1 5160_M5: temp=25.5 5160_M6: temp=24.8 5160_M7: temp=25.4 2209_M8: temp=24.8 Stepper_back_left: temp=24.9 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.7 sysload=0.35 cputime=4.441 memavail=7503316 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.5 pwm=0.000
Stats 138.2: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000009 mcu_task_stddev=0.000064 bytes_write=9379 bytes_read=12834 bytes_retransmit=9 bytes_invalid=0 send_seq=649 receive_seq=649 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400020447 rpi: mcu_awake=0.005 mcu_task_avg=0.000038 mcu_task_stddev=0.000026 bytes_write=855 bytes_read=4996 bytes_retransmit=0 bytes_invalid=0 send_seq=117 receive_seq=117 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999497 adj=49997168 thermexp1: mcu_awake=0.011 mcu_task_avg=0.000027 mcu_task_stddev=0.000038 bytes_write=905 bytes_read=4548 bytes_retransmit=9 bytes_invalid=0 send_seq=110 receive_seq=110 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47977921 adj=47974460 thermexp2: mcu_awake=0.011 mcu_task_avg=0.000027 mcu_task_stddev=0.000038 bytes_write=899 bytes_read=4532 bytes_retransmit=9 bytes_invalid=0 send_seq=109 receive_seq=109 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015094 adj=48009565 Octopus_Max: temp=30.2 Pi: temp=30.7  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=24.9 2209_M2: temp=24.9 2209_M3: temp=24.9 5160_M4: temp=25.4 5160_M5: temp=25.5 5160_M6: temp=25.3 5160_M7: temp=25.7 2209_M8: temp=24.6 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.7 Stepper_front_left: temp=24.7 Stepper_front_right: temp=25.1 sysload=0.35 cputime=4.473 memavail=7503064 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 139.2: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000009 mcu_task_stddev=0.000064 bytes_write=9385 bytes_read=13062 bytes_retransmit=9 bytes_invalid=0 send_seq=650 receive_seq=650 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400022466 rpi: mcu_awake=0.005 mcu_task_avg=0.000038 mcu_task_stddev=0.000026 bytes_write=861 bytes_read=5012 bytes_retransmit=0 bytes_invalid=0 send_seq=118 receive_seq=118 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999853 adj=49997637 thermexp1: mcu_awake=0.011 mcu_task_avg=0.000027 mcu_task_stddev=0.000038 bytes_write=911 bytes_read=4834 bytes_retransmit=9 bytes_invalid=0 send_seq=111 receive_seq=111 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47978045 adj=47975069 thermexp2: mcu_awake=0.011 mcu_task_avg=0.000027 mcu_task_stddev=0.000038 bytes_write=905 bytes_read=4818 bytes_retransmit=9 bytes_invalid=0 send_seq=110 receive_seq=110 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015501 adj=48009868 Octopus_Max: temp=30.0 Pi: temp=31.2  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.8 2209_M1: temp=24.9 2209_M2: temp=25.0 2209_M3: temp=24.9 5160_M4: temp=25.5 5160_M5: temp=25.7 5160_M6: temp=25.3 5160_M7: temp=25.6 2209_M8: temp=24.8 Stepper_back_left: temp=24.9 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.8 Stepper_front_right: temp=24.7 sysload=0.35 cputime=4.515 memavail=7503064 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.5 pwm=0.000
Stats 140.2: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000009 mcu_task_stddev=0.000064 bytes_write=9391 bytes_read=13328 bytes_retransmit=9 bytes_invalid=0 send_seq=651 receive_seq=651 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400023892 rpi: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000016 bytes_write=867 bytes_read=5041 bytes_retransmit=0 bytes_invalid=0 send_seq=119 receive_seq=119 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999881 adj=49997698 thermexp1: mcu_awake=0.006 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=917 bytes_read=5149 bytes_retransmit=9 bytes_invalid=0 send_seq=112 receive_seq=112 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47978076 adj=47974815 thermexp2: mcu_awake=0.006 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=911 bytes_read=5148 bytes_retransmit=9 bytes_invalid=0 send_seq=111 receive_seq=111 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015687 adj=48010834 Octopus_Max: temp=30.2 Pi: temp=30.2  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=26.0 2209_M1: temp=24.8 2209_M2: temp=24.9 2209_M3: temp=24.9 5160_M4: temp=25.8 5160_M5: temp=25.9 5160_M6: temp=25.4 5160_M7: temp=25.9 2209_M8: temp=24.9 Stepper_back_left: temp=24.5 Stepper_back_right: temp=24.7 Stepper_front_left: temp=24.8 Stepper_front_right: temp=24.8 sysload=0.32 cputime=4.561 memavail=7503080 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 141.2: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000009 mcu_task_stddev=0.000064 bytes_write=9397 bytes_read=13551 bytes_retransmit=9 bytes_invalid=0 send_seq=652 receive_seq=652 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400024626 rpi: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000016 bytes_write=873 bytes_read=5057 bytes_retransmit=0 bytes_invalid=0 send_seq=120 receive_seq=120 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999806 adj=49997090 thermexp1: mcu_awake=0.006 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=923 bytes_read=5510 bytes_retransmit=9 bytes_invalid=0 send_seq=113 receive_seq=113 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47977879 adj=47974531 thermexp2: mcu_awake=0.006 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=917 bytes_read=5494 bytes_retransmit=9 bytes_invalid=0 send_seq=112 receive_seq=112 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015769 adj=48011295 Octopus_Max: temp=30.2 Pi: temp=29.2  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.7 2209_M1: temp=24.9 2209_M2: temp=25.0 2209_M3: temp=25.0 5160_M4: temp=25.8 5160_M5: temp=26.0 5160_M6: temp=25.6 5160_M7: temp=25.9 2209_M8: temp=25.0 Stepper_back_left: temp=24.6 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.7 Stepper_front_right: temp=25.0 sysload=0.32 cputime=4.604 memavail=7503080 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 142.2: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000009 mcu_task_stddev=0.000064 bytes_write=9403 bytes_read=13788 bytes_retransmit=9 bytes_invalid=0 send_seq=653 receive_seq=653 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400024993 rpi: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000016 bytes_write=879 bytes_read=5073 bytes_retransmit=0 bytes_invalid=0 send_seq=121 receive_seq=121 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999737 adj=49996526 thermexp1: mcu_awake=0.006 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=929 bytes_read=5796 bytes_retransmit=9 bytes_invalid=0 send_seq=114 receive_seq=114 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47977560 adj=47973855 thermexp2: mcu_awake=0.006 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=923 bytes_read=5780 bytes_retransmit=9 bytes_invalid=0 send_seq=113 receive_seq=113 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015843 adj=48011624 Octopus_Max: temp=30.5 Pi: temp=31.2  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.8 2209_M1: temp=25.0 2209_M2: temp=24.9 2209_M3: temp=25.2 5160_M4: temp=25.9 5160_M5: temp=26.4 5160_M6: temp=25.6 5160_M7: temp=26.0 2209_M8: temp=25.0 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.9 Stepper_front_left: temp=24.6 Stepper_front_right: temp=24.9 sysload=0.32 cputime=4.646 memavail=7503080 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.5 pwm=0.000
Stats 143.2: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9409 bytes_read=14068 bytes_retransmit=9 bytes_invalid=0 send_seq=654 receive_seq=654 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400026132 rpi: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000016 bytes_write=885 bytes_read=5089 bytes_retransmit=0 bytes_invalid=0 send_seq=122 receive_seq=122 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999685 adj=49996197 thermexp1: mcu_awake=0.006 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=935 bytes_read=6112 bytes_retransmit=9 bytes_invalid=0 send_seq=115 receive_seq=115 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47977257 adj=47972979 thermexp2: mcu_awake=0.006 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=935 bytes_read=6112 bytes_retransmit=9 bytes_invalid=0 send_seq=115 receive_seq=115 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015982 adj=48011992 Octopus_Max: temp=30.3 Pi: temp=30.2  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.9 bed_core: temp=25.7 2209_M1: temp=24.9 2209_M2: temp=25.0 2209_M3: temp=25.1 5160_M4: temp=26.1 5160_M5: temp=26.1 5160_M6: temp=25.8 5160_M7: temp=26.2 2209_M8: temp=25.0 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.9 Stepper_front_left: temp=24.6 Stepper_front_right: temp=24.9 sysload=0.32 cputime=4.693 memavail=7503080 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.5 pwm=0.000
Stats 144.2: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9415 bytes_read=14291 bytes_retransmit=9 bytes_invalid=0 send_seq=655 receive_seq=655 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400026243 rpi: mcu_awake=0.001 mcu_task_avg=0.000013 mcu_task_stddev=0.000016 bytes_write=891 bytes_read=5105 bytes_retransmit=0 bytes_invalid=0 send_seq=123 receive_seq=123 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999640 adj=49995605 thermexp1: mcu_awake=0.006 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=941 bytes_read=6458 bytes_retransmit=9 bytes_invalid=0 send_seq=116 receive_seq=116 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47976920 adj=47971871 thermexp2: mcu_awake=0.006 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=941 bytes_read=6458 bytes_retransmit=9 bytes_invalid=0 send_seq=116 receive_seq=116 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015983 adj=48012157 Octopus_Max: temp=30.4 Pi: temp=29.7  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.8 2209_M1: temp=24.8 2209_M2: temp=25.1 2209_M3: temp=25.1 5160_M4: temp=26.0 5160_M5: temp=26.4 5160_M6: temp=25.8 5160_M7: temp=26.2 2209_M8: temp=24.6 Stepper_back_left: temp=24.7 Stepper_back_right: temp=24.8 Stepper_front_left: temp=25.0 Stepper_front_right: temp=24.9 sysload=0.32 cputime=4.737 memavail=7503080 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 145.2: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9421 bytes_read=14528 bytes_retransmit=9 bytes_invalid=0 send_seq=656 receive_seq=656 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400026333 rpi: mcu_awake=0.001 mcu_task_avg=0.000019 mcu_task_stddev=0.000021 bytes_write=897 bytes_read=5134 bytes_retransmit=0 bytes_invalid=0 send_seq=124 receive_seq=124 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999608 adj=49995592 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=947 bytes_read=6759 bytes_retransmit=9 bytes_invalid=0 send_seq=117 receive_seq=117 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47976588 adj=47971179 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=947 bytes_read=6759 bytes_retransmit=9 bytes_invalid=0 send_seq=117 receive_seq=117 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015910 adj=48012283 Octopus_Max: temp=30.3 Pi: temp=29.7  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.7 bed_core: temp=25.9 2209_M1: temp=24.8 2209_M2: temp=25.1 2209_M3: temp=25.1 5160_M4: temp=26.2 5160_M5: temp=26.4 5160_M6: temp=26.1 5160_M7: temp=26.3 2209_M8: temp=25.1 Stepper_back_left: temp=24.7 Stepper_back_right: temp=24.9 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.9 sysload=0.30 cputime=4.781 memavail=7503080 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 146.2: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9427 bytes_read=14794 bytes_retransmit=9 bytes_invalid=0 send_seq=657 receive_seq=657 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400026405 rpi: mcu_awake=0.001 mcu_task_avg=0.000019 mcu_task_stddev=0.000021 bytes_write=903 bytes_read=5150 bytes_retransmit=0 bytes_invalid=0 send_seq=125 receive_seq=125 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999580 adj=49995614 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=953 bytes_read=7075 bytes_retransmit=9 bytes_invalid=0 send_seq=118 receive_seq=118 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47976353 adj=47970530 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=953 bytes_read=7090 bytes_retransmit=9 bytes_invalid=0 send_seq=118 receive_seq=118 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015782 adj=48012113 Octopus_Max: temp=30.6 Pi: temp=30.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.9 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.2 2209_M3: temp=25.1 5160_M4: temp=26.5 5160_M5: temp=26.5 5160_M6: temp=26.2 5160_M7: temp=26.4 2209_M8: temp=25.1 Stepper_back_left: temp=24.7 Stepper_back_right: temp=24.4 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.8 sysload=0.30 cputime=4.826 memavail=7503080 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 147.2: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9433 bytes_read=15031 bytes_retransmit=9 bytes_invalid=0 send_seq=658 receive_seq=658 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400026577 rpi: mcu_awake=0.001 mcu_task_avg=0.000019 mcu_task_stddev=0.000021 bytes_write=909 bytes_read=5166 bytes_retransmit=0 bytes_invalid=0 send_seq=126 receive_seq=126 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999548 adj=49995637 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=959 bytes_read=7421 bytes_retransmit=9 bytes_invalid=0 send_seq=119 receive_seq=119 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47976143 adj=47970277 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=959 bytes_read=7421 bytes_retransmit=9 bytes_invalid=0 send_seq=119 receive_seq=119 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015700 adj=48011743 Octopus_Max: temp=30.5 Pi: temp=30.2  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.7 2209_M1: temp=24.9 2209_M2: temp=25.2 2209_M3: temp=25.2 5160_M4: temp=26.5 5160_M5: temp=26.7 5160_M6: temp=26.2 5160_M7: temp=26.6 2209_M8: temp=25.2 Stepper_back_left: temp=24.4 Stepper_back_right: temp=24.9 Stepper_front_left: temp=24.9 Stepper_front_right: temp=24.8 sysload=0.30 cputime=4.871 memavail=7503080 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.5 pwm=0.000
Stats 148.2: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9439 bytes_read=15268 bytes_retransmit=9 bytes_invalid=0 send_seq=659 receive_seq=659 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400026627 rpi: mcu_awake=0.001 mcu_task_avg=0.000019 mcu_task_stddev=0.000021 bytes_write=915 bytes_read=5182 bytes_retransmit=0 bytes_invalid=0 send_seq=127 receive_seq=127 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999539 adj=49995563 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=965 bytes_read=7707 bytes_retransmit=9 bytes_invalid=0 send_seq=120 receive_seq=120 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975948 adj=47970027 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=965 bytes_read=7707 bytes_retransmit=9 bytes_invalid=0 send_seq=120 receive_seq=120 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015645 adj=48011533 Octopus_Max: temp=30.6 Pi: temp=30.7  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.8 2209_M1: temp=24.9 2209_M2: temp=25.2 2209_M3: temp=25.3 5160_M4: temp=26.6 5160_M5: temp=26.9 5160_M6: temp=26.4 5160_M7: temp=26.6 2209_M8: temp=25.2 Stepper_back_left: temp=24.6 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.8 sysload=0.30 cputime=4.913 memavail=7503104 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 149.2: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9445 bytes_read=15526 bytes_retransmit=9 bytes_invalid=0 send_seq=660 receive_seq=660 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400026635 rpi: mcu_awake=0.001 mcu_task_avg=0.000019 mcu_task_stddev=0.000021 bytes_write=921 bytes_read=5198 bytes_retransmit=0 bytes_invalid=0 send_seq=128 receive_seq=128 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999549 adj=49995659 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=971 bytes_read=8038 bytes_retransmit=9 bytes_invalid=0 send_seq=121 receive_seq=121 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975840 adj=47969872 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=971 bytes_read=8053 bytes_retransmit=9 bytes_invalid=0 send_seq=121 receive_seq=121 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015630 adj=48011518 Octopus_Max: temp=30.7 Pi: temp=30.2  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.8 2209_M1: temp=25.1 2209_M2: temp=25.3 2209_M3: temp=25.2 5160_M4: temp=26.8 5160_M5: temp=26.9 5160_M6: temp=26.5 5160_M7: temp=26.8 2209_M8: temp=25.2 Stepper_back_left: temp=24.7 Stepper_back_right: temp=24.9 Stepper_front_left: temp=24.6 Stepper_front_right: temp=24.8 sysload=0.30 cputime=4.958 memavail=7503252 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.5 pwm=0.000
Stats 150.2: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9451 bytes_read=15761 bytes_retransmit=9 bytes_invalid=0 send_seq=661 receive_seq=661 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400026587 rpi: mcu_awake=0.001 mcu_task_avg=0.000019 mcu_task_stddev=0.000020 bytes_write=927 bytes_read=5227 bytes_retransmit=0 bytes_invalid=0 send_seq=129 receive_seq=129 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999575 adj=49995841 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=977 bytes_read=8384 bytes_retransmit=9 bytes_invalid=0 send_seq=122 receive_seq=122 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975682 adj=47970085 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=977 bytes_read=8384 bytes_retransmit=9 bytes_invalid=0 send_seq=122 receive_seq=122 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015602 adj=48011681 Octopus_Max: temp=30.7 Pi: temp=30.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.9 bed_core: temp=25.9 2209_M1: temp=25.4 2209_M2: temp=25.2 2209_M3: temp=25.3 5160_M4: temp=27.0 5160_M5: temp=27.0 5160_M6: temp=26.5 5160_M7: temp=26.7 2209_M8: temp=25.1 Stepper_back_left: temp=24.0 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.6 Stepper_front_right: temp=24.8 sysload=0.35 cputime=5.004 memavail=7503356 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
b'Got EOF when reading from device'
Stats 151.2: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000019 mcu_task_stddev=0.000020 bytes_write=933 bytes_read=5243 bytes_retransmit=0 bytes_invalid=0 send_seq=130 receive_seq=130 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999498 adj=49996096 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=983 bytes_read=8670 bytes_retransmit=9 bytes_invalid=0 send_seq=123 receive_seq=123 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975579 adj=47969991 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=983 bytes_read=8655 bytes_retransmit=9 bytes_invalid=0 send_seq=123 receive_seq=123 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015513 adj=48011764 Octopus_Max: temp=30.6 Pi: temp=29.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.2 2209_M3: temp=25.3 5160_M4: temp=27.2 5160_M5: temp=27.1 5160_M6: temp=26.8 5160_M7: temp=27.1 2209_M8: temp=25.1 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.7 Stepper_front_left: temp=24.4 Stepper_front_right: temp=24.8 sysload=0.35 cputime=5.034 memavail=7501640 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 152.2: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=1 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000019 mcu_task_stddev=0.000020 bytes_write=939 bytes_read=5259 bytes_retransmit=0 bytes_invalid=0 send_seq=131 receive_seq=131 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999451 adj=49995663 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=989 bytes_read=9001 bytes_retransmit=9 bytes_invalid=0 send_seq=124 receive_seq=124 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975457 adj=47970025 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=989 bytes_read=9016 bytes_retransmit=9 bytes_invalid=0 send_seq=124 receive_seq=124 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015351 adj=48011422 Octopus_Max: temp=30.6 Pi: temp=29.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.3 2209_M3: temp=25.7 5160_M4: temp=27.1 5160_M5: temp=27.2 5160_M6: temp=26.7 5160_M7: temp=27.2 2209_M8: temp=25.2 Stepper_back_left: temp=24.9 Stepper_back_right: temp=24.9 Stepper_front_left: temp=24.7 Stepper_front_right: temp=25.0 sysload=0.35 cputime=5.050 memavail=7501720 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 153.2: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=2 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000019 mcu_task_stddev=0.000020 bytes_write=945 bytes_read=5275 bytes_retransmit=0 bytes_invalid=0 send_seq=132 receive_seq=132 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999410 adj=49995536 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=995 bytes_read=9332 bytes_retransmit=9 bytes_invalid=0 send_seq=125 receive_seq=125 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975370 adj=47969975 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=995 bytes_read=9317 bytes_retransmit=9 bytes_invalid=0 send_seq=125 receive_seq=125 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48015160 adj=48010816 Octopus_Max: temp=30.6 Pi: temp=30.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.2 2209_M2: temp=25.4 2209_M3: temp=25.3 5160_M4: temp=27.1 5160_M5: temp=27.3 5160_M6: temp=27.2 5160_M7: temp=27.2 2209_M8: temp=25.2 Stepper_back_left: temp=24.7 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.6 Stepper_front_right: temp=25.0 sysload=0.35 cputime=5.065 memavail=7501720 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 154.2: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=4 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000019 mcu_task_stddev=0.000020 bytes_write=951 bytes_read=5291 bytes_retransmit=0 bytes_invalid=0 send_seq=133 receive_seq=133 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999378 adj=49995454 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1001 bytes_read=9618 bytes_retransmit=9 bytes_invalid=0 send_seq=126 receive_seq=126 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975304 adj=47970070 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1001 bytes_read=9603 bytes_retransmit=9 bytes_invalid=0 send_seq=126 receive_seq=126 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48014908 adj=48010139 Octopus_Max: temp=30.6 Pi: temp=29.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.2 2209_M2: temp=25.4 2209_M3: temp=25.4 5160_M4: temp=27.3 5160_M5: temp=27.4 5160_M6: temp=26.8 5160_M7: temp=27.1 2209_M8: temp=25.2 Stepper_back_left: temp=24.9 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.6 Stepper_front_right: temp=24.7 sysload=0.35 cputime=5.081 memavail=7500964 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Timeout with MCU 'mcu' (eventtime=155.249522)
Transition to shutdown state: Lost communication with MCU 'mcu'
Dumping gcode input 0 blocks
Dumping 20 requests for client 4121618944
Received 135.773328: b'{"id": 3860172960, "method": "objects/list", "params": {}}'
Received 135.773328: b'{"id": 3860344736, "method": "gcode/help", "params": {}}'
Received 135.949605: b'{"id": 3860173560, "method": "objects/subscribe", "params": {"objects": {"gcode": null, "webhooks": null, "configfile": null, "mcu": null, "mcu rpi": null, "mcu thermexp1": null, "mcu thermexp2": null, "heaters": null, "temperature_sensor Octopus_Max": null, "temperature_host Pi": null, "temperature_sensor Pi": null, "idle_timeout": null, "gcode_move": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "pause_resume": null, "exclude_object": null, "temperature_combined heater_bed": null, "heater_bed": null, "temperature_sensor bed_mat": null, "temperature_sensor bed_core": null, "gcode_macro HOME_X_SENSORLESS": null, "gcode_macro HOME_Y_SENSORLESS": null, "gcode_macro MAYBE_HOME": null, "gcode_macro ECHO_RATOS_VARS": null, "gcode_macro PAUSE": null, "gcode_macro RESUME": null, "gcode_macro CANCEL_PRINT": null, "gcode_macro PRIME_LINE": null, "gcode_macro PRIME_BLOB": null, "gcode_macro _PARK": null, "gcode_macro M600": null, "gcode_macro UNLOAD_FILAMENT": null, "gcode_macro LOAD_FILAMENT": null, "gcode_macro SET_CENTER_KINEMATIC_POSITION": null, "gcode_macro START_PRINT": null, "gcode_macro _USER_START_PRINT_BEFORE_HOMING": null, "gcode_macro _START_PRINT_AFTER_HEATING_BED": null, "gcode_macro Z_TILT_ADJUST": null, "gcode_macro _USER_START_PRINT_AFTER_HEATING_BED": null, "gcode_macro _START_PRINT_BED_MESH": null, "gcode_macro _USER_START_PRINT_BED_MESH": null, "gcode_macro _START_PRINT_PARK": null, "gcode_macro _USER_START_PRINT_PARK": null, "gcode_macro _START_PRINT_AFTER_HEATING_EXTRUDER": null, "gcode_macro _USER_START_PRINT_AFTER_HEATING_EXTRUDER": null, "gcode_macro _START_PRINT_HEAT_CHAMBER": null, "gcode_macro _USER_START_PRINT_HEAT_CHAMBER": null, "gcode_macro END_PRINT": null, "gcode_macro _END_PRINT_BEFORE_HEATERS_OFF": null, "gcode_macro _USER_END_PRINT_BEFORE_HEATERS_OFF": null, "gcode_macro _END_PRINT_AFTER_HEATERS_OFF": null, "gcode_macro _USER_END_PRINT_AFTER_HEATERS_OFF": null, "gcode_macro _END_PRINT_PARK": null, "gcode_macro _USER_END_PRINT_PARK": null, "gcode_macro SAVE_PROBE_RESULT": null, "gcode_macro PROBE_FOR_PRIMING": null, "gcode_macro RESET_PRIME_PROBE_STATE": null, "gcode_macro PROBE_CURRENT_POSITION": null, "gcode_macro ADD_PRIME_PROBE_TO_OFFSET": null, "gcode_macro SUBTRACT_PRIME_PROBE_FROM_OFFSET": null, "gcode_macro CALIBRATE_ADAPTIVE_MESH": null, "gcode_macro LINE_PURGE": null, "gcode_macro GENERATE_SHAPER_GRAPHS": null, "gcode_macro MEASURE_COREXY_BELT_TENSION": null, "gcode_macro COMPILE_FIRMWARE": null, "gcode_macro CHANGE_HOSTNAME": null, "stepper_enable": null, "tmc2209 stepper_z": null, "tmc2209 stepper_z1": null, "tmc2209 stepper_z2": null, "tmc5160 stepper_x": null, "tmc5160 stepper_x1": null, "tmc5160 stepper_y": null, "tmc5160 stepper_y1": null, "bed_mesh": null, "z_tilt": null, "gcode_macro enable_stepper": null, "gcode_macro disable_steppers": null, "gcode_macro STEPPER_BUZZ_X": null, "gcode_macro STEPPER_BUZZ_Y": null, "gcode_macro STEPPER_BUZZ_X1": null, "gcode_macro STEPPER_BUZZ_Y1": null, "gcode_macro STEPPER_BUZZ_Z": null, "gcode_macro STEPPER_BUZZ_Z1": null, "gcode_macro STEPPER_BUZZ_Z2": null, "gcode_macro TEST_SPEED": null, "probe": null, "gcode_macro RatOS": null, "tmc2209 extruder": null, "firmware_retraction": null, "filament_switch_sensor filament_switch": null, "gcode_macro FILDET_ENABLE": null, "gcode_macro FILDET_DISABLE": null, "fan": null, "heater_fan toolhead": null, "temperature_combined Electronics_bay": null, "temperature_fan Electronics_bay": null, "temperature_sensor 2209_M1": null, "temperature_sensor 2209_M2": null, "temperature_sensor 2209_M3": null, "temperature_sensor 5160_M4": null, "temperature_sensor 5160_M5": null, "temperature_sensor 5160_M6": null, "temperature_sensor 5160_M7": null, "temperature_sensor 2209_M8": null, "output_pin status_led": null, "gcode_button top": null, "gcode_button bottom": null, "gcode_macro _POWER_OFF_PRINTER": null, "gcode_macro RESPOND": null, "output_pin beeper": null, "gcode_macro M300": null, "gcode_macro PRINT_DONE": null, "temperature_sensor Stepper_back_left": null, "temperature_sensor Stepper_back_right": null, "temperature_sensor Stepper_front_left": null, "temperature_sensor Stepper_front_right": null, "gcode_macro TEST_STEPPER_TEMPS": null, "motion_report": null, "query_endstops": null, "system_stats": null, "manual_probe": null, "toolhead": null, "extruder": null}, "response_template": {"method": "process_status_update"}}}'
Received 135.950264: b'{"id": 3860173896, "method": "objects/list", "params": {}}'
Received 135.951994: b'{"id": 3860182856, "method": "objects/query", "params": {"objects": {"configfile": null}}}'
Received 136.225434: b'{"id": 3860181200, "method": "register_remote_method", "params": {"response_template": {"method": "shutdown_machine"}, "remote_method": "shutdown_machine"}}'
Received 136.226885: b'{"id": 3860181224, "method": "register_remote_method", "params": {"response_template": {"method": "reboot_machine"}, "remote_method": "reboot_machine"}}'
Received 136.227968: b'{"id": 4138422200, "method": "register_remote_method", "params": {"response_template": {"method": "pause_job_queue"}, "remote_method": "pause_job_queue"}}'
Received 136.229157: b'{"id": 4138422200, "method": "register_remote_method", "params": {"response_template": {"method": "start_job_queue"}, "remote_method": "start_job_queue"}}'
Received 136.230268: b'{"id": 4138422200, "method": "register_remote_method", "params": {"response_template": {"method": "set_device_power"}, "remote_method": "set_device_power"}}'
Received 136.232431: b'{"id": 3860181560, "method": "objects/query", "params": {"objects": {"heaters": null}}}'
Received 136.232769: b'{"id": 3860181824, "method": "objects/query", "params": {"objects": {"heaters": null}}}'
Received 136.264715: b'{"id": 3860181992, "method": "info", "params": {}}'
Received 136.264715: b'{"id": 3860182424, "method": "objects/list", "params": {}}'
Received 136.265691: b'{"id": 3860184776, "method": "gcode/help", "params": {}}'
Received 136.284640: b'{"id": 3860181584, "method": "objects/subscribe", "params": {"objects": {"gcode": null, "webhooks": null, "configfile": null, "mcu": null, "mcu rpi": null, "mcu thermexp1": null, "mcu thermexp2": null, "heaters": null, "temperature_sensor Octopus_Max": null, "temperature_host Pi": null, "temperature_sensor Pi": null, "idle_timeout": null, "gcode_move": null, "print_stats": null, "virtual_sdcard": null, "display_status": null, "pause_resume": null, "exclude_object": null, "temperature_combined heater_bed": null, "heater_bed": null, "temperature_sensor bed_mat": null, "temperature_sensor bed_core": null, "gcode_macro HOME_X_SENSORLESS": null, "gcode_macro HOME_Y_SENSORLESS": null, "gcode_macro MAYBE_HOME": null, "gcode_macro ECHO_RATOS_VARS": null, "gcode_macro PAUSE": null, "gcode_macro RESUME": null, "gcode_macro CANCEL_PRINT": null, "gcode_macro PRIME_LINE": null, "gcode_macro PRIME_BLOB": null, "gcode_macro _PARK": null, "gcode_macro M600": null, "gcode_macro UNLOAD_FILAMENT": null, "gcode_macro LOAD_FILAMENT": null, "gcode_macro SET_CENTER_KINEMATIC_POSITION": null, "gcode_macro START_PRINT": null, "gcode_macro _USER_START_PRINT_BEFORE_HOMING": null, "gcode_macro _START_PRINT_AFTER_HEATING_BED": null, "gcode_macro Z_TILT_ADJUST": null, "gcode_macro _USER_START_PRINT_AFTER_HEATING_BED": null, "gcode_macro _START_PRINT_BED_MESH": null, "gcode_macro _USER_START_PRINT_BED_MESH": null, "gcode_macro _START_PRINT_PARK": null, "gcode_macro _USER_START_PRINT_PARK": null, "gcode_macro _START_PRINT_AFTER_HEATING_EXTRUDER": null, "gcode_macro _USER_START_PRINT_AFTER_HEATING_EXTRUDER": null, "gcode_macro _START_PRINT_HEAT_CHAMBER": null, "gcode_macro _USER_START_PRINT_HEAT_CHAMBER": null, "gcode_macro END_PRINT": null, "gcode_macro _END_PRINT_BEFORE_HEATERS_OFF": null, "gcode_macro _USER_END_PRINT_BEFORE_HEATERS_OFF": null, "gcode_macro _END_PRINT_AFTER_HEATERS_OFF": null, "gcode_macro _USER_END_PRINT_AFTER_HEATERS_OFF": null, "gcode_macro _END_PRINT_PARK": null, "gcode_macro _USER_END_PRINT_PARK": null, "gcode_macro SAVE_PROBE_RESULT": null, "gcode_macro PROBE_FOR_PRIMING": null, "gcode_macro RESET_PRIME_PROBE_STATE": null, "gcode_macro PROBE_CURRENT_POSITION": null, "gcode_macro ADD_PRIME_PROBE_TO_OFFSET": null, "gcode_macro SUBTRACT_PRIME_PROBE_FROM_OFFSET": null, "gcode_macro CALIBRATE_ADAPTIVE_MESH": null, "gcode_macro LINE_PURGE": null, "gcode_macro GENERATE_SHAPER_GRAPHS": null, "gcode_macro MEASURE_COREXY_BELT_TENSION": null, "gcode_macro COMPILE_FIRMWARE": null, "gcode_macro CHANGE_HOSTNAME": null, "stepper_enable": null, "tmc2209 stepper_z": null, "tmc2209 stepper_z1": null, "tmc2209 stepper_z2": null, "tmc5160 stepper_x": null, "tmc5160 stepper_x1": null, "tmc5160 stepper_y": null, "tmc5160 stepper_y1": null, "bed_mesh": null, "z_tilt": null, "gcode_macro enable_stepper": null, "gcode_macro disable_steppers": null, "gcode_macro STEPPER_BUZZ_X": null, "gcode_macro STEPPER_BUZZ_Y": null, "gcode_macro STEPPER_BUZZ_X1": null, "gcode_macro STEPPER_BUZZ_Y1": null, "gcode_macro STEPPER_BUZZ_Z": null, "gcode_macro STEPPER_BUZZ_Z1": null, "gcode_macro STEPPER_BUZZ_Z2": null, "gcode_macro TEST_SPEED": null, "probe": null, "gcode_macro RatOS": null, "tmc2209 extruder": null, "firmware_retraction": null, "filament_switch_sensor filament_switch": null, "gcode_macro FILDET_ENABLE": null, "gcode_macro FILDET_DISABLE": null, "fan": null, "heater_fan toolhead": null, "temperature_combined Electronics_bay": null, "temperature_fan Electronics_bay": null, "temperature_sensor 2209_M1": null, "temperature_sensor 2209_M2": null, "temperature_sensor 2209_M3": null, "temperature_sensor 5160_M4": null, "temperature_sensor 5160_M5": null, "temperature_sensor 5160_M6": null, "temperature_sensor 5160_M7": null, "temperature_sensor 2209_M8": null, "output_pin status_led": null, "gcode_button top": null, "gcode_button bottom": null, "gcode_macro _POWER_OFF_PRINTER": null, "gcode_macro RESPOND": null, "output_pin beeper": null, "gcode_macro M300": null, "gcode_macro PRINT_DONE": null, "temperature_sensor Stepper_back_left": null, "temperature_sensor Stepper_back_right": null, "temperature_sensor Stepper_front_left": null, "temperature_sensor Stepper_front_right": null, "gcode_macro TEST_STEPPER_TEMPS": null, "motion_report": null, "query_endstops": null, "system_stats": null, "manual_probe": null, "toolhead": null, "extruder": null}, "response_template": {"method": "process_status_update"}}}'
Received 136.467872: b'{"id": 3860181632, "method": "objects/subscribe", "params": {"objects": {"webhooks": null, "print_stats": null, "temperature_sensor Octopus_Max": null, "temperature_sensor Pi": null, "heater_bed": null, "temperature_sensor bed_mat": null, "temperature_sensor bed_core": null, "temperature_fan Electronics_bay": null, "temperature_sensor 2209_M1": null, "temperature_sensor 2209_M2": null, "temperature_sensor 2209_M3": null, "temperature_sensor 5160_M4": null, "temperature_sensor 5160_M5": null, "temperature_sensor 5160_M6": null, "temperature_sensor 5160_M7": null, "temperature_sensor 2209_M8": null, "temperature_sensor Stepper_back_left": null, "temperature_sensor Stepper_back_right": null, "temperature_sensor Stepper_front_left": null, "temperature_sensor Stepper_front_right": null, "extruder": null, "gcode": null, "configfile": null, "mcu": null, "mcu rpi": null, "mcu thermexp1": null, "mcu thermexp2": null, "heaters": null, "temperature_host Pi": null, "idle_timeout": null, "gcode_move": null, "virtual_sdcard": null, "display_status": null, "pause_resume": null, "exclude_object": null, "temperature_combined heater_bed": null, "gcode_macro HOME_X_SENSORLESS": null, "gcode_macro HOME_Y_SENSORLESS": null, "gcode_macro MAYBE_HOME": null, "gcode_macro ECHO_RATOS_VARS": null, "gcode_macro PAUSE": null, "gcode_macro RESUME": null, "gcode_macro CANCEL_PRINT": null, "gcode_macro PRIME_LINE": null, "gcode_macro PRIME_BLOB": null, "gcode_macro _PARK": null, "gcode_macro M600": null, "gcode_macro UNLOAD_FILAMENT": null, "gcode_macro LOAD_FILAMENT": null, "gcode_macro SET_CENTER_KINEMATIC_POSITION": null, "gcode_macro START_PRINT": null, "gcode_macro _USER_START_PRINT_BEFORE_HOMING": null, "gcode_macro _START_PRINT_AFTER_HEATING_BED": null, "gcode_macro Z_TILT_ADJUST": null, "gcode_macro _USER_START_PRINT_AFTER_HEATING_BED": null, "gcode_macro _START_PRINT_BED_MESH": null, "gcode_macro _USER_START_PRINT_BED_MESH": null, "gcode_macro _START_PRINT_PARK": null, "gcode_macro _USER_START_PRINT_PARK": null, "gcode_macro _START_PRINT_AFTER_HEATING_EXTRUDER": null, "gcode_macro _USER_START_PRINT_AFTER_HEATING_EXTRUDER": null, "gcode_macro _START_PRINT_HEAT_CHAMBER": null, "gcode_macro _USER_START_PRINT_HEAT_CHAMBER": null, "gcode_macro END_PRINT": null, "gcode_macro _END_PRINT_BEFORE_HEATERS_OFF": null, "gcode_macro _USER_END_PRINT_BEFORE_HEATERS_OFF": null, "gcode_macro _END_PRINT_AFTER_HEATERS_OFF": null, "gcode_macro _USER_END_PRINT_AFTER_HEATERS_OFF": null, "gcode_macro _END_PRINT_PARK": null, "gcode_macro _USER_END_PRINT_PARK": null, "gcode_macro SAVE_PROBE_RESULT": null, "gcode_macro PROBE_FOR_PRIMING": null, "gcode_macro RESET_PRIME_PROBE_STATE": null, "gcode_macro PROBE_CURRENT_POSITION": null, "gcode_macro ADD_PRIME_PROBE_TO_OFFSET": null, "gcode_macro SUBTRACT_PRIME_PROBE_FROM_OFFSET": null, "gcode_macro CALIBRATE_ADAPTIVE_MESH": null, "gcode_macro LINE_PURGE": null, "gcode_macro GENERATE_SHAPER_GRAPHS": null, "gcode_macro MEASURE_COREXY_BELT_TENSION": null, "gcode_macro COMPILE_FIRMWARE": null, "gcode_macro CHANGE_HOSTNAME": null, "stepper_enable": null, "tmc2209 stepper_z": null, "tmc2209 stepper_z1": null, "tmc2209 stepper_z2": null, "tmc5160 stepper_x": null, "tmc5160 stepper_x1": null, "tmc5160 stepper_y": null, "tmc5160 stepper_y1": null, "bed_mesh": null, "z_tilt": null, "gcode_macro enable_stepper": null, "gcode_macro disable_steppers": null, "gcode_macro STEPPER_BUZZ_X": null, "gcode_macro STEPPER_BUZZ_Y": null, "gcode_macro STEPPER_BUZZ_X1": null, "gcode_macro STEPPER_BUZZ_Y1": null, "gcode_macro STEPPER_BUZZ_Z": null, "gcode_macro STEPPER_BUZZ_Z1": null, "gcode_macro STEPPER_BUZZ_Z2": null, "gcode_macro TEST_SPEED": null, "probe": null, "gcode_macro RatOS": null, "tmc2209 extruder": null, "firmware_retraction": null, "filament_switch_sensor filament_switch": null, "gcode_macro FILDET_ENABLE": null, "gcode_macro FILDET_DISABLE": null, "fan": null, "heater_fan toolhead": null, "temperature_combined Electronics_bay": null, "output_pin status_led": null, "gcode_button top": null, "gcode_button bottom": null, "gcode_macro _POWER_OFF_PRINTER": null, "gcode_macro RESPOND": null, "output_pin beeper": null, "gcode_macro M300": null, "gcode_macro PRINT_DONE": null, "gcode_macro TEST_STEPPER_TEMPS": null, "motion_report": null, "query_endstops": null, "system_stats": null, "manual_probe": null, "toolhead": null}, "response_template": {"method": "process_status_update"}}}'
Received 136.470595: b'{"id": 3860182736, "method": "objects/query", "params": {"objects": {}}}'
Received 136.714961: b'{"id": 3860182640, "method": "objects/subscribe", "params": {"objects": {"webhooks": null, "print_stats": null, "temperature_sensor Octopus_Max": null, "temperature_sensor Pi": null, "heater_bed": null, "temperature_sensor bed_mat": null, "temperature_sensor bed_core": null, "temperature_fan Electronics_bay": null, "temperature_sensor 2209_M1": null, "temperature_sensor 2209_M2": null, "temperature_sensor 2209_M3": null, "temperature_sensor 5160_M4": null, "temperature_sensor 5160_M5": null, "temperature_sensor 5160_M6": null, "temperature_sensor 5160_M7": null, "temperature_sensor 2209_M8": null, "temperature_sensor Stepper_back_left": null, "temperature_sensor Stepper_back_right": null, "temperature_sensor Stepper_front_left": null, "temperature_sensor Stepper_front_right": null, "extruder": null, "gcode": null, "configfile": null, "mcu": null, "mcu rpi": null, "mcu thermexp1": null, "mcu thermexp2": null, "heaters": null, "temperature_host Pi": null, "idle_timeout": null, "gcode_move": null, "virtual_sdcard": null, "display_status": null, "pause_resume": null, "exclude_object": null, "temperature_combined heater_bed": null, "gcode_macro HOME_X_SENSORLESS": null, "gcode_macro HOME_Y_SENSORLESS": null, "gcode_macro MAYBE_HOME": null, "gcode_macro ECHO_RATOS_VARS": null, "gcode_macro PAUSE": null, "gcode_macro RESUME": null, "gcode_macro CANCEL_PRINT": null, "gcode_macro PRIME_LINE": null, "gcode_macro PRIME_BLOB": null, "gcode_macro _PARK": null, "gcode_macro M600": null, "gcode_macro UNLOAD_FILAMENT": null, "gcode_macro LOAD_FILAMENT": null, "gcode_macro SET_CENTER_KINEMATIC_POSITION": null, "gcode_macro START_PRINT": null, "gcode_macro _USER_START_PRINT_BEFORE_HOMING": null, "gcode_macro _START_PRINT_AFTER_HEATING_BED": null, "gcode_macro Z_TILT_ADJUST": null, "gcode_macro _USER_START_PRINT_AFTER_HEATING_BED": null, "gcode_macro _START_PRINT_BED_MESH": null, "gcode_macro _USER_START_PRINT_BED_MESH": null, "gcode_macro _START_PRINT_PARK": null, "gcode_macro _USER_START_PRINT_PARK": null, "gcode_macro _START_PRINT_AFTER_HEATING_EXTRUDER": null, "gcode_macro _USER_START_PRINT_AFTER_HEATING_EXTRUDER": null, "gcode_macro _START_PRINT_HEAT_CHAMBER": null, "gcode_macro _USER_START_PRINT_HEAT_CHAMBER": null, "gcode_macro END_PRINT": null, "gcode_macro _END_PRINT_BEFORE_HEATERS_OFF": null, "gcode_macro _USER_END_PRINT_BEFORE_HEATERS_OFF": null, "gcode_macro _END_PRINT_AFTER_HEATERS_OFF": null, "gcode_macro _USER_END_PRINT_AFTER_HEATERS_OFF": null, "gcode_macro _END_PRINT_PARK": null, "gcode_macro _USER_END_PRINT_PARK": null, "gcode_macro SAVE_PROBE_RESULT": null, "gcode_macro PROBE_FOR_PRIMING": null, "gcode_macro RESET_PRIME_PROBE_STATE": null, "gcode_macro PROBE_CURRENT_POSITION": null, "gcode_macro ADD_PRIME_PROBE_TO_OFFSET": null, "gcode_macro SUBTRACT_PRIME_PROBE_FROM_OFFSET": null, "gcode_macro CALIBRATE_ADAPTIVE_MESH": null, "gcode_macro LINE_PURGE": null, "gcode_macro GENERATE_SHAPER_GRAPHS": null, "gcode_macro MEASURE_COREXY_BELT_TENSION": null, "gcode_macro COMPILE_FIRMWARE": null, "gcode_macro CHANGE_HOSTNAME": null, "stepper_enable": null, "tmc2209 stepper_z": null, "tmc2209 stepper_z1": null, "tmc2209 stepper_z2": null, "tmc5160 stepper_x": null, "tmc5160 stepper_x1": null, "tmc5160 stepper_y": null, "tmc5160 stepper_y1": null, "bed_mesh": null, "z_tilt": null, "gcode_macro enable_stepper": null, "gcode_macro disable_steppers": null, "gcode_macro STEPPER_BUZZ_X": null, "gcode_macro STEPPER_BUZZ_Y": null, "gcode_macro STEPPER_BUZZ_X1": null, "gcode_macro STEPPER_BUZZ_Y1": null, "gcode_macro STEPPER_BUZZ_Z": null, "gcode_macro STEPPER_BUZZ_Z1": null, "gcode_macro STEPPER_BUZZ_Z2": null, "gcode_macro TEST_SPEED": null, "probe": null, "gcode_macro RatOS": null, "tmc2209 extruder": null, "firmware_retraction": null, "filament_switch_sensor filament_switch": null, "gcode_macro FILDET_ENABLE": null, "gcode_macro FILDET_DISABLE": null, "fan": null, "heater_fan toolhead": null, "temperature_combined Electronics_bay": null, "output_pin status_led": null, "gcode_button top": null, "gcode_button bottom": null, "gcode_macro _POWER_OFF_PRINTER": null, "gcode_macro RESPOND": null, "output_pin beeper": null, "gcode_macro M300": null, "gcode_macro PRINT_DONE": null, "gcode_macro TEST_STEPPER_TEMPS": null, "motion_report": null, "query_endstops": null, "system_stats": null, "manual_probe": null, "toolhead": null}, "response_template": {"method": "process_status_update"}}}'
Received 136.921432: b'{"id": 3860181992, "method": "objects/query", "params": {"objects": {"extruder": ["can_extrude"]}}}'
gcode state: absolute_coord=True absolute_extrude=True base_position=[0.0, 0.0, 0.0, 0.0] last_position=[0.0, 0.0, 0.0, 0.0] homing_position=[0.0, 0.0, 0.0, 0.0] speed_factor=0.016666666666666666 extrude_factor=1.0 speed=25.0
Reactor garbage collection: (136.957546251, 0.0, 0.0)
Stats 155.2: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=5 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000011 mcu_task_stddev=0.000013 bytes_write=957 bytes_read=5320 bytes_retransmit=0 bytes_invalid=0 send_seq=134 receive_seq=134 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999354 adj=49995423 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1007 bytes_read=9979 bytes_retransmit=9 bytes_invalid=0 send_seq=127 receive_seq=127 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975252 adj=47970225 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1007 bytes_read=9979 bytes_retransmit=9 bytes_invalid=0 send_seq=127 receive_seq=127 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48014661 adj=48009223 Octopus_Max: temp=30.6 Pi: temp=31.2  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.2 2209_M2: temp=25.7 2209_M3: temp=25.5 5160_M4: temp=27.3 5160_M5: temp=27.4 5160_M6: temp=27.0 5160_M7: temp=27.2 2209_M8: temp=25.2 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.9 Stepper_front_left: temp=24.6 Stepper_front_right: temp=24.8 sysload=0.32 cputime=5.098 memavail=7500968 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
MCU 'thermexp2' shutdown: Command request
clocksync state: mcu_freq=48000000 last_clock=7711330012 clock_est=(140.317 7005045374 48014661.060) min_half_rtt=0.000082 min_rtt_time=154.042 time_avg=140.317(56.006) clock_avg=7005045374.062(2689110353.885) pred_variance=902546072.541 clock_adj=(-133.299 48008439.000)
Dumping serial stats: bytes_write=1013 bytes_read=9991 bytes_retransmit=9 bytes_invalid=0 send_seq=128 receive_seq=128 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0
Dumping send queue 100 messages
Sent 0 133.912768 133.912768 9: seq: 1c, identify offset=480 count=40
Sent 1 133.913210 133.913210 9: seq: 1d, identify offset=520 count=40
Sent 2 133.913693 133.913693 9: seq: 1e, identify offset=560 count=40
Sent 3 133.914119 133.914119 9: seq: 1f, identify offset=600 count=40
Sent 4 133.914576 133.914576 9: seq: 10, identify offset=640 count=40
Sent 5 133.915007 133.915007 9: seq: 11, identify offset=680 count=40
Sent 6 133.915437 133.915437 9: seq: 12, identify offset=720 count=40
Sent 7 133.915865 133.915865 9: seq: 13, identify offset=760 count=40
Sent 8 133.916331 133.916331 9: seq: 14, identify offset=800 count=40
Sent 9 133.916760 133.916760 9: seq: 15, identify offset=840 count=40
Sent 10 133.917180 133.917180 9: seq: 16, identify offset=880 count=40
Sent 11 133.917680 133.917680 9: seq: 17, identify offset=920 count=40
Sent 12 133.918107 133.918107 9: seq: 18, identify offset=960 count=40
Sent 13 133.918581 133.918581 9: seq: 19, identify offset=1000 count=40
Sent 14 133.919002 133.919002 9: seq: 1a, identify offset=1040 count=40
Sent 15 133.919432 133.919432 9: seq: 1b, identify offset=1080 count=40
Sent 16 133.919855 133.919855 9: seq: 1c, identify offset=1120 count=40
Sent 17 133.920285 133.920285 9: seq: 1d, identify offset=1160 count=40
Sent 18 133.920740 133.920740 9: seq: 1e, identify offset=1200 count=40
Sent 19 133.921167 133.921167 9: seq: 1f, identify offset=1240 count=40
Sent 20 133.921595 133.921595 9: seq: 10, identify offset=1280 count=40
Sent 21 133.922027 133.922027 9: seq: 11, identify offset=1320 count=40
Sent 22 133.922483 133.922483 9: seq: 12, identify offset=1360 count=40
Sent 23 133.922910 133.922910 9: seq: 13, identify offset=1400 count=40
Sent 24 133.923348 133.923348 9: seq: 14, identify offset=1440 count=40
Sent 25 133.923783 133.923783 9: seq: 15, identify offset=1480 count=40
Sent 26 133.924212 133.924212 9: seq: 16, identify offset=1520 count=40
Sent 27 133.924752 133.924752 9: seq: 17, identify offset=1560 count=40
Sent 28 133.925181 133.925181 9: seq: 18, identify offset=1600 count=40
Sent 29 133.925688 133.925688 9: seq: 19, identify offset=1640 count=40
Sent 30 133.926122 133.926122 9: seq: 1a, identify offset=1680 count=40
Sent 31 133.926589 133.926589 9: seq: 1b, identify offset=1720 count=40
Sent 32 133.927028 133.927028 9: seq: 1c, identify offset=1760 count=40
Sent 33 133.927457 133.927457 9: seq: 1d, identify offset=1800 count=40
Sent 34 133.927882 133.927882 9: seq: 1e, identify offset=1840 count=40
Sent 35 133.928323 133.928323 9: seq: 1f, identify offset=1880 count=40
Sent 36 133.928752 133.928752 9: seq: 10, identify offset=1920 count=40
Sent 37 133.929189 133.929189 9: seq: 11, identify offset=1960 count=40
Sent 38 133.929702 133.929702 9: seq: 12, identify offset=2000 count=40
Sent 39 133.930127 133.930127 9: seq: 13, identify offset=2040 count=40
Sent 40 133.930578 133.930578 9: seq: 14, identify offset=2080 count=40
Sent 41 133.931000 133.931000 9: seq: 15, identify offset=2120 count=40
Sent 42 133.931447 133.931447 9: seq: 16, identify offset=2160 count=40
Sent 43 133.931878 133.931878 9: seq: 17, identify offset=2200 count=40
Sent 44 133.932332 133.932332 9: seq: 18, identify offset=2240 count=40
Sent 45 133.932885 133.932885 9: seq: 19, identify offset=2280 count=40
Sent 46 133.933613 133.933613 9: seq: 1a, identify offset=2320 count=40
Sent 47 133.934143 133.934143 9: seq: 1b, identify offset=2360 count=40
Sent 48 133.934598 133.934598 9: seq: 1c, identify offset=2400 count=40
Sent 49 133.935043 133.935043 9: seq: 1d, identify offset=2440 count=40
Sent 50 133.935471 133.935471 9: seq: 1e, identify offset=2480 count=40
Sent 51 133.935860 133.935860 9: seq: 1f, identify offset=2495 count=40
Sent 52 133.940048 133.940048 6: seq: 10, get_uptime
Sent 53 133.990795 133.990795 6: seq: 11, get_clock
Sent 54 134.041372 134.041372 6: seq: 12, get_clock
Sent 55 134.092068 134.092068 6: seq: 13, get_clock
Sent 56 134.142829 134.142829 6: seq: 14, get_clock
Sent 57 134.193991 134.193991 6: seq: 15, get_clock
Sent 58 134.244971 134.244971 6: seq: 16, get_clock
Sent 59 134.295910 134.295910 6: seq: 17, get_clock
Sent 60 134.346740 134.346740 6: seq: 18, get_clock
Sent 61 134.348240 134.348240 6: seq: 19, get_clock
Sent 62 134.369482 134.369482 6: seq: 1a, get_config
Sent 63 134.370686 134.370686 7: seq: 1b, allocate_oids count=6
Sent 64 134.370757 134.370757 8: seq: 1c, config_analog_in oid=0 pin=PA2
Sent 65 134.371037 134.371037 8: seq: 1d, config_analog_in oid=1 pin=PA5
Sent 66 134.371070 134.371070 8: seq: 1e, config_analog_in oid=2 pin=PA6
Sent 67 134.371265 134.371265 8: seq: 1f, config_analog_in oid=3 pin=PB1
Sent 68 134.371295 134.371295 8: seq: 10, config_analog_in oid=4 pin=PA1
Sent 69 134.371323 134.371323 8: seq: 11, config_analog_in oid=5 pin=PA3
Sent 70 134.371370 134.371370 11: seq: 12, finalize_config crc=442024437
Sent 71 134.371442 134.371442 27: seq: 13, query_analog_in oid=0 clock=2488504668 sample_ticks=48000 sample_count=8 rest_ticks=14400000 min_value=23998 max_value=32269 range_check_count=4
Sent 72 134.371531 134.371531 27: seq: 14, query_analog_in oid=1 clock=2488984668 sample_ticks=48000 sample_count=8 rest_ticks=14400000 min_value=23998 max_value=32269 range_check_count=4
Sent 73 134.371625 134.371625 27: seq: 15, query_analog_in oid=2 clock=2489464668 sample_ticks=48000 sample_count=8 rest_ticks=14400000 min_value=19454 max_value=32269 range_check_count=4
Sent 74 134.371684 134.371684 27: seq: 16, query_analog_in oid=3 clock=2489944668 sample_ticks=48000 sample_count=8 rest_ticks=14400000 min_value=19454 max_value=32269 range_check_count=4
Sent 75 134.371741 134.371741 27: seq: 17, query_analog_in oid=4 clock=2490424668 sample_ticks=48000 sample_count=8 rest_ticks=14400000 min_value=19454 max_value=32269 range_check_count=4
Sent 76 134.371798 134.371798 27: seq: 18, query_analog_in oid=5 clock=2490904668 sample_ticks=48000 sample_count=8 rest_ticks=14400000 min_value=19454 max_value=32269 range_check_count=4
Sent 77 134.371871 134.371871 6: seq: 19, get_config
Sent 78 135.333153 135.333153 6: seq: 1a, get_clock
Sent 79 136.317239 136.317239 6: seq: 1b, get_clock
Sent 80 137.302225 137.302225 6: seq: 1c, get_clock
Sent 81 138.287585 138.287585 6: seq: 1d, get_clock
Sent 82 139.272501 139.272501 6: seq: 1e, get_clock
Sent 83 140.257441 140.257441 6: seq: 1f, get_clock
Sent 84 141.242636 141.242636 6: seq: 10, get_clock
Sent 85 142.227438 142.227438 6: seq: 11, get_clock
Sent 86 143.211521 143.211521 6: seq: 12, get_clock
Sent 87 144.196500 144.196500 6: seq: 13, get_clock
Sent 88 145.181375 145.181375 6: seq: 14, get_clock
Sent 89 146.165844 146.165844 6: seq: 15, get_clock
Sent 90 147.150749 147.150749 6: seq: 16, get_clock
Sent 91 148.135132 148.135132 6: seq: 17, get_clock
Sent 92 149.119679 149.119679 6: seq: 18, get_clock
Sent 93 150.104636 150.104636 6: seq: 19, get_clock
Sent 94 151.089141 151.089141 6: seq: 1a, get_clock
Sent 95 152.073203 152.073203 6: seq: 1b, get_clock
Sent 96 153.057565 153.057565 6: seq: 1c, get_clock
Sent 97 154.042222 154.042222 6: seq: 1d, get_clock
Sent 98 155.026865 155.026865 6: seq: 1e, get_clock
Sent 99 155.251676 155.251676 6: seq: 1f, emergency_stop
Dumping receive queue 100 messages
Receive: 0 150.714409 150.104636 15: seq: 1a, analog_in_state oid=1 next_clock=3223384668 value=31280
Receive: 1 150.724458 150.104636 15: seq: 1a, analog_in_state oid=2 next_clock=3223864668 value=31310
Receive: 2 150.734426 150.104636 15: seq: 1a, analog_in_state oid=3 next_clock=3224344668 value=31277
Receive: 3 150.744434 150.104636 15: seq: 1a, analog_in_state oid=4 next_clock=3224824668 value=31305
Receive: 4 150.754410 150.104636 15: seq: 1a, analog_in_state oid=5 next_clock=3225304668 value=31294
Receive: 5 151.014440 150.104636 15: seq: 1a, analog_in_state oid=1 next_clock=3237784668 value=31284
Receive: 6 151.024422 150.104636 15: seq: 1a, analog_in_state oid=2 next_clock=3238264668 value=31301
Receive: 7 151.034358 150.104636 15: seq: 1a, analog_in_state oid=3 next_clock=3238744668 value=31308
Receive: 8 151.044342 150.104636 15: seq: 1a, analog_in_state oid=4 next_clock=3239224668 value=31323
Receive: 9 151.054365 150.104636 15: seq: 1a, analog_in_state oid=5 next_clock=3239704668 value=31300
Receive: 10 151.089325 151.089141 11: seq: 1b, clock clock=3227324668
Receive: 11 151.304345 151.089141 15: seq: 1b, analog_in_state oid=0 next_clock=3251704668 value=31172
Receive: 12 151.314330 151.089141 15: seq: 1b, analog_in_state oid=1 next_clock=3252184668 value=31279
Receive: 13 151.324326 151.089141 15: seq: 1b, analog_in_state oid=2 next_clock=3252664668 value=31312
Receive: 14 151.334312 151.089141 15: seq: 1b, analog_in_state oid=3 next_clock=3253144668 value=31303
Receive: 15 151.344312 151.089141 15: seq: 1b, analog_in_state oid=4 next_clock=3253624668 value=31314
Receive: 16 151.354301 151.089141 15: seq: 1b, analog_in_state oid=5 next_clock=3254104668 value=31282
Receive: 17 151.604309 151.089141 15: seq: 1b, analog_in_state oid=0 next_clock=3266104668 value=31173
Receive: 18 151.614284 151.089141 15: seq: 1b, analog_in_state oid=1 next_clock=3266584668 value=31287
Receive: 19 151.624276 151.089141 15: seq: 1b, analog_in_state oid=2 next_clock=3267064668 value=31309
Receive: 20 151.634270 151.089141 15: seq: 1b, analog_in_state oid=3 next_clock=3267544668 value=31300
Receive: 21 151.644272 151.089141 15: seq: 1b, analog_in_state oid=4 next_clock=3268024668 value=31321
Receive: 22 151.654257 151.089141 15: seq: 1b, analog_in_state oid=5 next_clock=3268504668 value=31292
Receive: 23 151.904255 151.089141 15: seq: 1b, analog_in_state oid=0 next_clock=3280504668 value=31169
Receive: 24 151.914238 151.089141 15: seq: 1b, analog_in_state oid=1 next_clock=3280984668 value=31270
Receive: 25 151.924239 151.089141 15: seq: 1b, analog_in_state oid=2 next_clock=3281464668 value=31305
Receive: 26 151.934235 151.089141 15: seq: 1b, analog_in_state oid=3 next_clock=3281944668 value=31299
Receive: 27 151.944233 151.089141 15: seq: 1b, analog_in_state oid=4 next_clock=3282424668 value=31301
Receive: 28 151.954220 151.089141 15: seq: 1b, analog_in_state oid=5 next_clock=3282904668 value=31289
Receive: 29 152.073401 152.073203 11: seq: 1c, clock clock=3274566240
Receive: 30 152.204198 152.073203 15: seq: 1c, analog_in_state oid=0 next_clock=3294904668 value=31155
Receive: 31 152.214185 152.073203 15: seq: 1c, analog_in_state oid=1 next_clock=3295384668 value=31279
Receive: 32 152.224210 152.073203 15: seq: 1c, analog_in_state oid=2 next_clock=3295864668 value=31295
Receive: 33 152.234189 152.073203 15: seq: 1c, analog_in_state oid=3 next_clock=3296344668 value=31295
Receive: 34 152.244186 152.073203 15: seq: 1c, analog_in_state oid=4 next_clock=3296824668 value=31307
Receive: 35 152.254207 152.073203 15: seq: 1c, analog_in_state oid=5 next_clock=3297304668 value=31302
Receive: 36 152.504189 152.073203 15: seq: 1c, analog_in_state oid=0 next_clock=3309304668 value=31164
Receive: 37 152.514150 152.073203 15: seq: 1c, analog_in_state oid=1 next_clock=3309784668 value=31277
Receive: 38 152.524143 152.073203 15: seq: 1c, analog_in_state oid=2 next_clock=3310264668 value=31305
Receive: 39 152.534144 152.073203 15: seq: 1c, analog_in_state oid=3 next_clock=3310744668 value=31293
Receive: 40 152.544137 152.073203 15: seq: 1c, analog_in_state oid=4 next_clock=3311224668 value=31304
Receive: 41 152.554129 152.073203 15: seq: 1c, analog_in_state oid=5 next_clock=3311704668 value=31295
Receive: 42 152.804131 152.073203 15: seq: 1c, analog_in_state oid=0 next_clock=3323704668 value=31156
Receive: 43 152.814094 152.073203 15: seq: 1c, analog_in_state oid=1 next_clock=3324184668 value=31285
Receive: 44 152.824100 152.073203 15: seq: 1c, analog_in_state oid=2 next_clock=3324664668 value=31308
Receive: 45 152.834095 152.073203 15: seq: 1c, analog_in_state oid=3 next_clock=3325144668 value=31296
Receive: 46 152.844086 152.073203 15: seq: 1c, analog_in_state oid=4 next_clock=3325624668 value=31309
Receive: 47 152.854088 152.073203 15: seq: 1c, analog_in_state oid=5 next_clock=3326104668 value=31296
Receive: 48 153.057806 153.057565 11: seq: 1d, clock clock=3321824035
Receive: 49 153.104062 153.057565 15: seq: 1d, analog_in_state oid=0 next_clock=3338104668 value=31151
Receive: 50 153.114050 153.057565 15: seq: 1d, analog_in_state oid=1 next_clock=3338584668 value=31275
Receive: 51 153.124056 153.057565 15: seq: 1d, analog_in_state oid=2 next_clock=3339064668 value=31310
Receive: 52 153.134047 153.057565 15: seq: 1d, analog_in_state oid=3 next_clock=3339544668 value=31304
Receive: 53 153.144053 153.057565 15: seq: 1d, analog_in_state oid=4 next_clock=3340024668 value=31313
Receive: 54 153.154048 153.057565 15: seq: 1d, analog_in_state oid=5 next_clock=3340504668 value=31291
Receive: 55 153.404054 153.057565 15: seq: 1d, analog_in_state oid=0 next_clock=3352504668 value=31158
Receive: 56 153.414012 153.057565 15: seq: 1d, analog_in_state oid=1 next_clock=3352984668 value=31283
Receive: 57 153.424016 153.057565 15: seq: 1d, analog_in_state oid=2 next_clock=3353464668 value=31308
Receive: 58 153.434005 153.057565 15: seq: 1d, analog_in_state oid=3 next_clock=3353944668 value=31303
Receive: 59 153.444001 153.057565 15: seq: 1d, analog_in_state oid=4 next_clock=3354424668 value=31308
Receive: 60 153.453991 153.057565 15: seq: 1d, analog_in_state oid=5 next_clock=3354904668 value=31287
Receive: 61 153.704019 153.057565 15: seq: 1d, analog_in_state oid=0 next_clock=3366904668 value=31156
Receive: 62 153.713967 153.057565 15: seq: 1d, analog_in_state oid=1 next_clock=3367384668 value=31280
Receive: 63 153.723977 153.057565 15: seq: 1d, analog_in_state oid=2 next_clock=3367864668 value=31309
Receive: 64 153.733986 153.057565 15: seq: 1d, analog_in_state oid=3 next_clock=3368344668 value=31308
Receive: 65 153.743977 153.057565 15: seq: 1d, analog_in_state oid=4 next_clock=3368824668 value=31299
Receive: 66 153.754024 153.057565 15: seq: 1d, analog_in_state oid=5 next_clock=3369304668 value=31308
Receive: 67 154.004006 153.057565 15: seq: 1d, analog_in_state oid=0 next_clock=3381304668 value=31157
Receive: 68 154.013960 153.057565 15: seq: 1d, analog_in_state oid=1 next_clock=3381784668 value=31279
Receive: 69 154.023949 153.057565 15: seq: 1d, analog_in_state oid=2 next_clock=3382264668 value=31295
Receive: 70 154.033932 153.057565 15: seq: 1d, analog_in_state oid=3 next_clock=3382744668 value=31301
Receive: 71 154.042386 154.042222 11: seq: 1e, clock clock=3369091161
Receive: 72 154.043932 154.042222 15: seq: 1e, analog_in_state oid=4 next_clock=3383224668 value=31313
Receive: 73 154.053939 154.042222 15: seq: 1e, analog_in_state oid=5 next_clock=3383704668 value=31309
Receive: 74 154.303964 154.042222 15: seq: 1e, analog_in_state oid=0 next_clock=3395704668 value=31149
Receive: 75 154.313915 154.042222 15: seq: 1e, analog_in_state oid=1 next_clock=3396184668 value=31260
Receive: 76 154.323926 154.042222 15: seq: 1e, analog_in_state oid=2 next_clock=3396664668 value=31349
Receive: 77 154.333939 154.042222 15: seq: 1e, analog_in_state oid=3 next_clock=3397144668 value=31303
Receive: 78 154.343919 154.042222 15: seq: 1e, analog_in_state oid=4 next_clock=3397624668 value=31308
Receive: 79 154.353914 154.042222 15: seq: 1e, analog_in_state oid=5 next_clock=3398104668 value=31294
Receive: 80 154.574499 154.042222 15: seq: 1e, stats count=375 sum=344441 sumsq=2002883
Receive: 81 154.603893 154.042222 15: seq: 1e, analog_in_state oid=0 next_clock=3410104668 value=31140
Receive: 82 154.613862 154.042222 15: seq: 1e, analog_in_state oid=1 next_clock=3410584668 value=31281
Receive: 83 154.623874 154.042222 15: seq: 1e, analog_in_state oid=2 next_clock=3411064668 value=31302
Receive: 84 154.633877 154.042222 15: seq: 1e, analog_in_state oid=3 next_clock=3411544668 value=31306
Receive: 85 154.643866 154.042222 15: seq: 1e, analog_in_state oid=4 next_clock=3412024668 value=31298
Receive: 86 154.653850 154.042222 15: seq: 1e, analog_in_state oid=5 next_clock=3412504668 value=31307
Receive: 87 154.903870 154.042222 15: seq: 1e, analog_in_state oid=0 next_clock=3424504668 value=31154
Receive: 88 154.913807 154.042222 15: seq: 1e, analog_in_state oid=1 next_clock=3424984668 value=31279
Receive: 89 154.923821 154.042222 15: seq: 1e, analog_in_state oid=2 next_clock=3425464668 value=31297
Receive: 90 154.933788 154.042222 15: seq: 1e, analog_in_state oid=3 next_clock=3425944668 value=31307
Receive: 91 154.943780 154.042222 15: seq: 1e, analog_in_state oid=4 next_clock=3426424668 value=31308
Receive: 92 154.953798 154.042222 15: seq: 1e, analog_in_state oid=5 next_clock=3426904668 value=31300
Receive: 93 155.027059 155.026865 11: seq: 1f, clock clock=3416362716
Receive: 94 155.203779 155.026865 15: seq: 1f, analog_in_state oid=0 next_clock=3438904668 value=31152
Receive: 95 155.213748 155.026865 15: seq: 1f, analog_in_state oid=1 next_clock=3439384668 value=31275
Receive: 96 155.223752 155.026865 15: seq: 1f, analog_in_state oid=2 next_clock=3439864668 value=31304
Receive: 97 155.233736 155.026865 15: seq: 1f, analog_in_state oid=3 next_clock=3440344668 value=31298
Receive: 98 155.243737 155.026865 15: seq: 1f, analog_in_state oid=4 next_clock=3440824668 value=31313
Receive: 99 155.252164 155.251676 12: seq: 10, shutdown clock=3427155072 static_string_id=Command request
MCU 'thermexp1' shutdown: Command request
clocksync state: mcu_freq=48000000 last_clock=7675097755 clock_est=(139.683 6969150918 47975252.145) min_half_rtt=0.000081 min_rtt_time=133.558 time_avg=139.683(56.048) clock_avg=6969150918.727(2688925618.101) pred_variance=869129320.932 clock_adj=(-133.299 47970387.750)
Dumping serial stats: bytes_write=1013 bytes_read=9991 bytes_retransmit=9 bytes_invalid=0 send_seq=128 receive_seq=128 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0
Dumping send queue 100 messages
Sent 0 133.277047 133.277047 9: seq: 1c, identify offset=480 count=40
Sent 1 133.277491 133.277491 9: seq: 1d, identify offset=520 count=40
Sent 2 133.277920 133.277920 9: seq: 1e, identify offset=560 count=40
Sent 3 133.278357 133.278357 9: seq: 1f, identify offset=600 count=40
Sent 4 133.278781 133.278781 9: seq: 10, identify offset=640 count=40
Sent 5 133.279213 133.279213 9: seq: 11, identify offset=680 count=40
Sent 6 133.279639 133.279639 9: seq: 12, identify offset=720 count=40
Sent 7 133.280060 133.280060 9: seq: 13, identify offset=760 count=40
Sent 8 133.280513 133.280513 9: seq: 14, identify offset=800 count=40
Sent 9 133.280955 133.280955 9: seq: 15, identify offset=840 count=40
Sent 10 133.281385 133.281385 9: seq: 16, identify offset=880 count=40
Sent 11 133.281822 133.281822 9: seq: 17, identify offset=920 count=40
Sent 12 133.282243 133.282243 9: seq: 18, identify offset=960 count=40
Sent 13 133.282659 133.282659 9: seq: 19, identify offset=1000 count=40
Sent 14 133.283089 133.283089 9: seq: 1a, identify offset=1040 count=40
Sent 15 133.283585 133.283585 9: seq: 1b, identify offset=1080 count=40
Sent 16 133.284012 133.284012 9: seq: 1c, identify offset=1120 count=40
Sent 17 133.284489 133.284489 9: seq: 1d, identify offset=1160 count=40
Sent 18 133.284928 133.284928 9: seq: 1e, identify offset=1200 count=40
Sent 19 133.285365 133.285365 9: seq: 1f, identify offset=1240 count=40
Sent 20 133.285790 133.285790 9: seq: 10, identify offset=1280 count=40
Sent 21 133.286211 133.286211 9: seq: 11, identify offset=1320 count=40
Sent 22 133.286640 133.286640 9: seq: 12, identify offset=1360 count=40
Sent 23 133.287059 133.287059 9: seq: 13, identify offset=1400 count=40
Sent 24 133.287492 133.287492 9: seq: 14, identify offset=1440 count=40
Sent 25 133.287923 133.287923 9: seq: 15, identify offset=1480 count=40
Sent 26 133.288340 133.288340 9: seq: 16, identify offset=1520 count=40
Sent 27 133.288759 133.288759 9: seq: 17, identify offset=1560 count=40
Sent 28 133.289187 133.289187 9: seq: 18, identify offset=1600 count=40
Sent 29 133.289614 133.289614 9: seq: 19, identify offset=1640 count=40
Sent 30 133.290036 133.290036 9: seq: 1a, identify offset=1680 count=40
Sent 31 133.290484 133.290484 9: seq: 1b, identify offset=1720 count=40
Sent 32 133.290913 133.290913 9: seq: 1c, identify offset=1760 count=40
Sent 33 133.291332 133.291332 9: seq: 1d, identify offset=1800 count=40
Sent 34 133.291757 133.291757 9: seq: 1e, identify offset=1840 count=40
Sent 35 133.292184 133.292184 9: seq: 1f, identify offset=1880 count=40
Sent 36 133.292648 133.292648 9: seq: 10, identify offset=1920 count=40
Sent 37 133.293097 133.293097 9: seq: 11, identify offset=1960 count=40
Sent 38 133.293585 133.293585 9: seq: 12, identify offset=2000 count=40
Sent 39 133.293997 133.293997 9: seq: 13, identify offset=2040 count=40
Sent 40 133.294484 133.294484 9: seq: 14, identify offset=2080 count=40
Sent 41 133.294907 133.294907 9: seq: 15, identify offset=2120 count=40
Sent 42 133.295346 133.295346 9: seq: 16, identify offset=2160 count=40
Sent 43 133.295763 133.295763 9: seq: 17, identify offset=2200 count=40
Sent 44 133.296187 133.296187 9: seq: 18, identify offset=2240 count=40
Sent 45 133.296630 133.296630 9: seq: 19, identify offset=2280 count=40
Sent 46 133.297050 133.297050 9: seq: 1a, identify offset=2320 count=40
Sent 47 133.297486 133.297486 9: seq: 1b, identify offset=2360 count=40
Sent 48 133.297937 133.297937 9: seq: 1c, identify offset=2400 count=40
Sent 49 133.298358 133.298358 9: seq: 1d, identify offset=2440 count=40
Sent 50 133.298777 133.298777 9: seq: 1e, identify offset=2480 count=40
Sent 51 133.299153 133.299153 9: seq: 1f, identify offset=2495 count=40
Sent 52 133.303231 133.303231 6: seq: 10, get_uptime
Sent 53 133.354040 133.354040 6: seq: 11, get_clock
Sent 54 133.404816 133.404816 6: seq: 12, get_clock
Sent 55 133.456393 133.456393 6: seq: 13, get_clock
Sent 56 133.507016 133.507016 6: seq: 14, get_clock
Sent 57 133.557786 133.557786 6: seq: 15, get_clock
Sent 58 133.608322 133.608322 6: seq: 16, get_clock
Sent 59 133.658889 133.658889 6: seq: 17, get_clock
Sent 60 133.709991 133.709991 6: seq: 18, get_clock
Sent 61 133.717504 133.717504 6: seq: 19, get_clock
Sent 62 134.365819 134.365819 6: seq: 1a, get_config
Sent 63 134.367088 134.367088 7: seq: 1b, allocate_oids count=6
Sent 64 134.367349 134.367349 8: seq: 1c, config_analog_in oid=0 pin=PA2
Sent 65 134.367416 134.367416 8: seq: 1d, config_analog_in oid=1 pin=PA5
Sent 66 134.367450 134.367450 8: seq: 1e, config_analog_in oid=2 pin=PA6
Sent 67 134.367479 134.367479 8: seq: 1f, config_analog_in oid=3 pin=PB1
Sent 68 134.367507 134.367507 8: seq: 10, config_analog_in oid=4 pin=PA1
Sent 69 134.367549 134.367549 8: seq: 11, config_analog_in oid=5 pin=PA3
Sent 70 134.367621 134.367621 11: seq: 12, finalize_config crc=442024437
Sent 71 134.367711 134.367711 27: seq: 13, query_analog_in oid=0 clock=2483186191 sample_ticks=48000 sample_count=8 rest_ticks=14400000 min_value=23998 max_value=32269 range_check_count=4
Sent 72 134.367785 134.367785 27: seq: 14, query_analog_in oid=1 clock=2483666191 sample_ticks=48000 sample_count=8 rest_ticks=14400000 min_value=23998 max_value=32269 range_check_count=4
Sent 73 134.367863 134.367863 27: seq: 15, query_analog_in oid=2 clock=2484146191 sample_ticks=48000 sample_count=8 rest_ticks=14400000 min_value=23998 max_value=32269 range_check_count=4
Sent 74 134.367922 134.367922 27: seq: 16, query_analog_in oid=3 clock=2484626191 sample_ticks=48000 sample_count=8 rest_ticks=14400000 min_value=23998 max_value=32269 range_check_count=4
Sent 75 134.367981 134.367981 27: seq: 17, query_analog_in oid=4 clock=2485106191 sample_ticks=48000 sample_count=8 rest_ticks=14400000 min_value=23998 max_value=32269 range_check_count=4
Sent 76 134.368039 134.368039 27: seq: 18, query_analog_in oid=5 clock=2485586191 sample_ticks=48000 sample_count=8 rest_ticks=14400000 min_value=23998 max_value=32269 range_check_count=4
Sent 77 134.368111 134.368111 6: seq: 19, get_config
Sent 78 134.701684 134.701684 6: seq: 1a, get_clock
Sent 79 135.685699 135.685699 6: seq: 1b, get_clock
Sent 80 136.670472 136.670472 6: seq: 1c, get_clock
Sent 81 137.655452 137.655452 6: seq: 1d, get_clock
Sent 82 138.640345 138.640345 6: seq: 1e, get_clock
Sent 83 139.625384 139.625384 6: seq: 1f, get_clock
Sent 84 140.610205 140.610205 6: seq: 10, get_clock
Sent 85 141.594683 141.594683 6: seq: 11, get_clock
Sent 86 142.579257 142.579257 6: seq: 12, get_clock
Sent 87 143.563954 143.563954 6: seq: 13, get_clock
Sent 88 144.548804 144.548804 6: seq: 14, get_clock
Sent 89 145.533817 145.533817 6: seq: 15, get_clock
Sent 90 146.518252 146.518252 6: seq: 16, get_clock
Sent 91 147.503152 147.503152 6: seq: 17, get_clock
Sent 92 148.491177 148.491177 6: seq: 18, get_clock
Sent 93 149.475444 149.475444 6: seq: 19, get_clock
Sent 94 150.459953 150.459953 6: seq: 1a, get_clock
Sent 95 151.444236 151.444236 6: seq: 1b, get_clock
Sent 96 152.428496 152.428496 6: seq: 1c, get_clock
Sent 97 153.412837 153.412837 6: seq: 1d, get_clock
Sent 98 154.397866 154.397866 6: seq: 1e, get_clock
Sent 99 155.251764 155.251764 6: seq: 1f, emergency_stop
Dumping receive queue 100 messages
Receive: 0 150.716901 150.459953 15: seq: 1b, analog_in_state oid=0 next_clock=3217586191 value=31294
Receive: 1 150.726913 150.459953 15: seq: 1b, analog_in_state oid=1 next_clock=3218066191 value=31280
Receive: 2 150.736895 150.459953 15: seq: 1b, analog_in_state oid=2 next_clock=3218546191 value=31273
Receive: 3 150.746931 150.459953 15: seq: 1b, analog_in_state oid=3 next_clock=3219026191 value=31162
Receive: 4 150.756895 150.459953 15: seq: 1b, analog_in_state oid=4 next_clock=3219506191 value=31165
Receive: 5 150.766915 150.459953 15: seq: 1b, analog_in_state oid=5 next_clock=3219986191 value=31183
Receive: 6 151.017138 150.459953 15: seq: 1b, analog_in_state oid=0 next_clock=3231986191 value=31284
Receive: 7 151.027080 150.459953 15: seq: 1b, analog_in_state oid=1 next_clock=3232466191 value=31276
Receive: 8 151.037065 150.459953 15: seq: 1b, analog_in_state oid=2 next_clock=3232946191 value=31270
Receive: 9 151.047070 150.459953 15: seq: 1b, analog_in_state oid=3 next_clock=3233426191 value=31156
Receive: 10 151.057079 150.459953 15: seq: 1b, analog_in_state oid=4 next_clock=3233906191 value=31160
Receive: 11 151.067070 150.459953 15: seq: 1b, analog_in_state oid=5 next_clock=3234386191 value=31181
Receive: 12 151.317234 150.459953 15: seq: 1b, analog_in_state oid=0 next_clock=3246386191 value=31293
Receive: 13 151.327220 150.459953 15: seq: 1b, analog_in_state oid=1 next_clock=3246866191 value=31269
Receive: 14 151.337225 150.459953 15: seq: 1b, analog_in_state oid=2 next_clock=3247346191 value=31271
Receive: 15 151.347235 150.459953 15: seq: 1b, analog_in_state oid=3 next_clock=3247826191 value=31162
Receive: 16 151.357233 150.459953 15: seq: 1b, analog_in_state oid=4 next_clock=3248306191 value=31158
Receive: 17 151.367289 150.459953 15: seq: 1b, analog_in_state oid=5 next_clock=3248786191 value=31176
Receive: 18 151.444424 151.444236 11: seq: 1c, clock clock=3238428667
Receive: 19 151.617413 151.444236 15: seq: 1c, analog_in_state oid=0 next_clock=3260786191 value=31291
Receive: 20 151.627390 151.444236 15: seq: 1c, analog_in_state oid=1 next_clock=3261266191 value=31266
Receive: 21 151.637410 151.444236 15: seq: 1c, analog_in_state oid=2 next_clock=3261746191 value=31273
Receive: 22 151.647396 151.444236 15: seq: 1c, analog_in_state oid=3 next_clock=3262226191 value=31162
Receive: 23 151.657404 151.444236 15: seq: 1c, analog_in_state oid=4 next_clock=3262706191 value=31162
Receive: 24 151.667420 151.444236 15: seq: 1c, analog_in_state oid=5 next_clock=3263186191 value=31191
Receive: 25 151.917559 151.444236 15: seq: 1c, analog_in_state oid=0 next_clock=3275186191 value=31282
Receive: 26 151.927549 151.444236 15: seq: 1c, analog_in_state oid=1 next_clock=3275666191 value=31263
Receive: 27 151.937550 151.444236 15: seq: 1c, analog_in_state oid=2 next_clock=3276146191 value=31266
Receive: 28 151.947611 151.444236 15: seq: 1c, analog_in_state oid=3 next_clock=3276626191 value=31159
Receive: 29 151.957566 151.444236 15: seq: 1c, analog_in_state oid=4 next_clock=3277106191 value=31155
Receive: 30 151.967576 151.444236 15: seq: 1c, analog_in_state oid=5 next_clock=3277586191 value=31183
Receive: 31 152.217744 151.444236 15: seq: 1c, analog_in_state oid=0 next_clock=3289586191 value=31282
Receive: 32 152.227698 151.444236 15: seq: 1c, analog_in_state oid=1 next_clock=3290066191 value=31273
Receive: 33 152.237706 151.444236 15: seq: 1c, analog_in_state oid=2 next_clock=3290546191 value=31250
Receive: 34 152.248815 151.444236 15: seq: 1c, analog_in_state oid=3 next_clock=3291026191 value=31173
Receive: 35 152.257716 151.444236 15: seq: 1c, analog_in_state oid=4 next_clock=3291506191 value=31146
Receive: 36 152.267728 151.444236 15: seq: 1c, analog_in_state oid=5 next_clock=3291986191 value=31180
Receive: 37 152.428692 152.428496 11: seq: 1d, clock clock=3285649403
Receive: 38 152.517867 152.428496 15: seq: 1d, analog_in_state oid=0 next_clock=3303986191 value=31284
Receive: 39 152.527837 152.428496 15: seq: 1d, analog_in_state oid=1 next_clock=3304466191 value=31271
Receive: 40 152.537842 152.428496 15: seq: 1d, analog_in_state oid=2 next_clock=3304946191 value=31272
Receive: 41 152.547856 152.428496 15: seq: 1d, analog_in_state oid=3 next_clock=3305426191 value=31167
Receive: 42 152.557850 152.428496 15: seq: 1d, analog_in_state oid=4 next_clock=3305906191 value=31164
Receive: 43 152.567865 152.428496 15: seq: 1d, analog_in_state oid=5 next_clock=3306386191 value=31173
Receive: 44 152.818028 152.428496 15: seq: 1d, analog_in_state oid=0 next_clock=3318386191 value=31272
Receive: 45 152.828014 152.428496 15: seq: 1d, analog_in_state oid=1 next_clock=3318866191 value=31271
Receive: 46 152.838011 152.428496 15: seq: 1d, analog_in_state oid=2 next_clock=3319346191 value=31267
Receive: 47 152.848012 152.428496 15: seq: 1d, analog_in_state oid=3 next_clock=3319826191 value=31152
Receive: 48 152.858016 152.428496 15: seq: 1d, analog_in_state oid=4 next_clock=3320306191 value=31155
Receive: 49 152.868016 152.428496 15: seq: 1d, analog_in_state oid=5 next_clock=3320786191 value=31174
Receive: 50 153.118170 152.428496 15: seq: 1d, analog_in_state oid=0 next_clock=3332786191 value=31279
Receive: 51 153.128157 152.428496 15: seq: 1d, analog_in_state oid=1 next_clock=3333266191 value=31268
Receive: 52 153.138151 152.428496 15: seq: 1d, analog_in_state oid=2 next_clock=3333746191 value=31269
Receive: 53 153.148154 152.428496 15: seq: 1d, analog_in_state oid=3 next_clock=3334226191 value=31159
Receive: 54 153.158157 152.428496 15: seq: 1d, analog_in_state oid=4 next_clock=3334706191 value=31146
Receive: 55 153.168174 152.428496 15: seq: 1d, analog_in_state oid=5 next_clock=3335186191 value=31156
Receive: 56 153.413011 153.412837 11: seq: 1e, clock clock=3332873664
Receive: 57 153.418294 153.412837 15: seq: 1e, analog_in_state oid=0 next_clock=3347186191 value=31284
Receive: 58 153.428300 153.412837 15: seq: 1e, analog_in_state oid=1 next_clock=3347666191 value=31272
Receive: 59 153.438298 153.412837 15: seq: 1e, analog_in_state oid=2 next_clock=3348146191 value=31270
Receive: 60 153.448310 153.412837 15: seq: 1e, analog_in_state oid=3 next_clock=3348626191 value=31158
Receive: 61 153.458309 153.412837 15: seq: 1e, analog_in_state oid=4 next_clock=3349106191 value=31161
Receive: 62 153.468324 153.412837 15: seq: 1e, analog_in_state oid=5 next_clock=3349586191 value=31197
Receive: 63 153.718475 153.412837 15: seq: 1e, analog_in_state oid=0 next_clock=3361586191 value=31274
Receive: 64 153.728460 153.412837 15: seq: 1e, analog_in_state oid=1 next_clock=3362066191 value=31266
Receive: 65 153.738457 153.412837 15: seq: 1e, analog_in_state oid=2 next_clock=3362546191 value=31261
Receive: 66 153.748471 153.412837 15: seq: 1e, analog_in_state oid=3 next_clock=3363026191 value=31155
Receive: 67 153.758480 153.412837 15: seq: 1e, analog_in_state oid=4 next_clock=3363506191 value=31157
Receive: 68 153.768489 153.412837 15: seq: 1e, analog_in_state oid=5 next_clock=3363986191 value=31169
Receive: 69 154.018629 153.412837 15: seq: 1e, analog_in_state oid=0 next_clock=3375986191 value=31280
Receive: 70 154.028629 153.412837 15: seq: 1e, analog_in_state oid=1 next_clock=3376466191 value=31263
Receive: 71 154.038628 153.412837 15: seq: 1e, analog_in_state oid=2 next_clock=3376946191 value=31265
Receive: 72 154.048630 153.412837 15: seq: 1e, analog_in_state oid=3 next_clock=3377426191 value=31148
Receive: 73 154.058628 153.412837 15: seq: 1e, analog_in_state oid=4 next_clock=3377906191 value=31139
Receive: 74 154.068630 153.412837 15: seq: 1e, analog_in_state oid=5 next_clock=3378386191 value=31177
Receive: 75 154.318785 153.412837 15: seq: 1e, analog_in_state oid=0 next_clock=3390386191 value=31259
Receive: 76 154.328762 153.412837 15: seq: 1e, analog_in_state oid=1 next_clock=3390866191 value=31269
Receive: 77 154.338791 153.412837 15: seq: 1e, analog_in_state oid=2 next_clock=3391346191 value=31275
Receive: 78 154.348789 153.412837 15: seq: 1e, analog_in_state oid=3 next_clock=3391826191 value=31155
Receive: 79 154.358787 153.412837 15: seq: 1e, analog_in_state oid=4 next_clock=3392306191 value=31145
Receive: 80 154.368842 153.412837 15: seq: 1e, analog_in_state oid=5 next_clock=3392786191 value=31150
Receive: 81 154.398046 154.397866 11: seq: 1f, clock clock=3380130459
Receive: 82 154.600300 154.397866 15: seq: 1f, stats count=375 sum=344441 sumsq=2002883
Receive: 83 154.618930 154.397866 15: seq: 1f, analog_in_state oid=0 next_clock=3404786191 value=31281
Receive: 84 154.628931 154.397866 15: seq: 1f, analog_in_state oid=1 next_clock=3405266191 value=31261
Receive: 85 154.638936 154.397866 15: seq: 1f, analog_in_state oid=2 next_clock=3405746191 value=31261
Receive: 86 154.648931 154.397866 15: seq: 1f, analog_in_state oid=3 next_clock=3406226191 value=31146
Receive: 87 154.658934 154.397866 15: seq: 1f, analog_in_state oid=4 next_clock=3406706191 value=31175
Receive: 88 154.668939 154.397866 15: seq: 1f, analog_in_state oid=5 next_clock=3407186191 value=31169
Receive: 89 154.919103 154.397866 15: seq: 1f, analog_in_state oid=0 next_clock=3419186191 value=31285
Receive: 90 154.929098 154.397866 15: seq: 1f, analog_in_state oid=1 next_clock=3419666191 value=31257
Receive: 91 154.939098 154.397866 15: seq: 1f, analog_in_state oid=2 next_clock=3420146191 value=31284
Receive: 92 154.949096 154.397866 15: seq: 1f, analog_in_state oid=3 next_clock=3420626191 value=31147
Receive: 93 154.959111 154.397866 15: seq: 1f, analog_in_state oid=4 next_clock=3421106191 value=31144
Receive: 94 154.969117 154.397866 15: seq: 1f, analog_in_state oid=5 next_clock=3421586191 value=31167
Receive: 95 155.219269 154.397866 15: seq: 1f, analog_in_state oid=0 next_clock=3433586191 value=31278
Receive: 96 155.229256 154.397866 15: seq: 1f, analog_in_state oid=1 next_clock=3434066191 value=31248
Receive: 97 155.239251 154.397866 15: seq: 1f, analog_in_state oid=2 next_clock=3434546191 value=31259
Receive: 98 155.249259 154.397866 15: seq: 1f, analog_in_state oid=3 next_clock=3435026191 value=31148
Receive: 99 155.252229 155.251764 12: seq: 10, shutdown clock=3421094992 static_string_id=Command request
MCU 'rpi' shutdown: Command request
clocksync state: mcu_freq=50000000 last_clock=7337140306 clock_est=(139.567 6578332909 49999354.997) min_half_rtt=0.000042 min_rtt_time=132.815 time_avg=139.567(62.137) clock_avg=6578332909.710(3106790687.792) pred_variance=881820534.349 clock_adj=(-119.713 49995438.250)
Dumping serial stats: bytes_write=963 bytes_read=5332 bytes_retransmit=0 bytes_invalid=0 send_seq=135 receive_seq=135 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0
Dumping send queue 100 messages
Sent 0 132.584936 132.584936 9: seq: 13, identify offset=760 count=40
Sent 1 132.585749 132.585749 9: seq: 14, identify offset=800 count=40
Sent 2 132.586563 132.586563 9: seq: 15, identify offset=840 count=40
Sent 3 132.587371 132.587371 9: seq: 16, identify offset=880 count=40
Sent 4 132.588174 132.588174 9: seq: 17, identify offset=920 count=40
Sent 5 132.589035 132.589035 9: seq: 18, identify offset=960 count=40
Sent 6 132.589842 132.589842 9: seq: 19, identify offset=1000 count=40
Sent 7 132.590637 132.590637 9: seq: 1a, identify offset=1040 count=40
Sent 8 132.591438 132.591438 9: seq: 1b, identify offset=1080 count=40
Sent 9 132.592237 132.592237 9: seq: 1c, identify offset=1120 count=40
Sent 10 132.593052 132.593052 9: seq: 1d, identify offset=1160 count=40
Sent 11 132.593872 132.593872 9: seq: 1e, identify offset=1200 count=40
Sent 12 132.594682 132.594682 9: seq: 1f, identify offset=1240 count=40
Sent 13 132.595489 132.595489 9: seq: 10, identify offset=1280 count=40
Sent 14 132.596294 132.596294 9: seq: 11, identify offset=1320 count=40
Sent 15 132.597166 132.597166 9: seq: 12, identify offset=1360 count=40
Sent 16 132.597974 132.597974 9: seq: 13, identify offset=1400 count=40
Sent 17 132.598779 132.598779 9: seq: 14, identify offset=1440 count=40
Sent 18 132.599587 132.599587 9: seq: 15, identify offset=1480 count=40
Sent 19 132.600389 132.600389 9: seq: 16, identify offset=1520 count=40
Sent 20 132.601341 132.601341 9: seq: 17, identify offset=1560 count=40
Sent 21 132.602159 132.602159 9: seq: 18, identify offset=1600 count=40
Sent 22 132.602959 132.602959 9: seq: 19, identify offset=1640 count=40
Sent 23 132.603763 132.603763 9: seq: 1a, identify offset=1680 count=40
Sent 24 132.604320 132.604320 9: seq: 1b, identify offset=1720 count=40
Sent 25 132.604839 132.604839 9: seq: 1c, identify offset=1760 count=40
Sent 26 132.605339 132.605339 9: seq: 1d, identify offset=1800 count=40
Sent 27 132.605827 132.605827 9: seq: 1e, identify offset=1840 count=40
Sent 28 132.606314 132.606314 9: seq: 1f, identify offset=1880 count=40
Sent 29 132.606799 132.606799 9: seq: 10, identify offset=1920 count=40
Sent 30 132.607286 132.607286 9: seq: 11, identify offset=1960 count=40
Sent 31 132.607771 132.607771 9: seq: 12, identify offset=2000 count=40
Sent 32 132.608254 132.608254 9: seq: 13, identify offset=2040 count=40
Sent 33 132.608770 132.608770 9: seq: 14, identify offset=2080 count=40
Sent 34 132.609260 132.609260 9: seq: 15, identify offset=2120 count=40
Sent 35 132.609746 132.609746 9: seq: 16, identify offset=2160 count=40
Sent 36 132.610229 132.610229 9: seq: 17, identify offset=2200 count=40
Sent 37 132.610713 132.610713 9: seq: 18, identify offset=2240 count=40
Sent 38 132.611196 132.611196 9: seq: 19, identify offset=2280 count=40
Sent 39 132.611681 132.611681 9: seq: 1a, identify offset=2320 count=40
Sent 40 132.612164 132.612164 9: seq: 1b, identify offset=2360 count=40
Sent 41 132.612682 132.612682 9: seq: 1c, identify offset=2400 count=40
Sent 42 132.613175 132.613175 9: seq: 1d, identify offset=2440 count=40
Sent 43 132.613659 132.613659 9: seq: 1e, identify offset=2480 count=40
Sent 44 132.614143 132.614143 9: seq: 1f, identify offset=2520 count=40
Sent 45 132.614626 132.614626 9: seq: 10, identify offset=2560 count=40
Sent 46 132.615112 132.615112 9: seq: 11, identify offset=2600 count=40
Sent 47 132.615597 132.615597 9: seq: 12, identify offset=2640 count=40
Sent 48 132.616082 132.616082 9: seq: 13, identify offset=2680 count=40
Sent 49 132.616599 132.616599 9: seq: 14, identify offset=2720 count=40
Sent 50 132.617091 132.617091 9: seq: 15, identify offset=2760 count=40
Sent 51 132.617574 132.617574 9: seq: 16, identify offset=2800 count=40
Sent 52 132.618080 132.618080 9: seq: 17, identify offset=2840 count=40
Sent 53 132.618569 132.618569 9: seq: 18, identify offset=2880 count=40
Sent 54 132.619054 132.619054 9: seq: 19, identify offset=2920 count=40
Sent 55 132.619540 132.619540 9: seq: 1a, identify offset=2960 count=40
Sent 56 132.620027 132.620027 9: seq: 1b, identify offset=3000 count=40
Sent 57 132.620541 132.620541 9: seq: 1c, identify offset=3040 count=40
Sent 58 132.621033 132.621033 9: seq: 1d, identify offset=3080 count=40
Sent 59 132.621521 132.621521 9: seq: 1e, identify offset=3120 count=40
Sent 60 132.622004 132.622004 9: seq: 1f, identify offset=3160 count=40
Sent 61 132.622489 132.622489 9: seq: 10, identify offset=3200 count=40
Sent 62 132.622974 132.622974 9: seq: 11, identify offset=3232 count=40
Sent 63 132.662046 132.662046 6: seq: 12, get_uptime
Sent 64 132.713935 132.713935 6: seq: 13, get_clock
Sent 65 132.764506 132.764506 6: seq: 14, get_clock
Sent 66 132.814968 132.814968 6: seq: 15, get_clock
Sent 67 132.865528 132.865528 6: seq: 16, get_clock
Sent 68 132.916122 132.916122 6: seq: 17, get_clock
Sent 69 132.967519 132.967519 6: seq: 18, get_clock
Sent 70 133.018177 133.018177 6: seq: 19, get_clock
Sent 71 133.068703 133.068703 6: seq: 1a, get_clock
Sent 72 133.081552 133.081552 6: seq: 1b, get_clock
Sent 73 134.065903 134.065903 6: seq: 1c, get_clock
Sent 74 134.363819 134.363819 6: seq: 1d, get_config
Sent 75 134.364771 134.364771 7: seq: 1e, allocate_oids count=0
Sent 76 134.364837 134.364837 11: seq: 1f, finalize_config crc=3912464276
Sent 77 134.364952 134.364952 6: seq: 10, get_config
Sent 78 135.050381 135.050381 6: seq: 11, get_clock
Sent 79 136.034662 136.034662 6: seq: 12, get_clock
Sent 80 137.019350 137.019350 6: seq: 13, get_clock
Sent 81 138.004089 138.004089 6: seq: 14, get_clock
Sent 82 138.988414 138.988414 6: seq: 15, get_clock
Sent 83 139.972958 139.972958 6: seq: 16, get_clock
Sent 84 140.957793 140.957793 6: seq: 17, get_clock
Sent 85 141.942552 141.942552 6: seq: 18, get_clock
Sent 86 142.927579 142.927579 6: seq: 19, get_clock
Sent 87 143.912508 143.912508 6: seq: 1a, get_clock
Sent 88 144.897477 144.897477 6: seq: 1b, get_clock
Sent 89 145.882368 145.882368 6: seq: 1c, get_clock
Sent 90 146.867244 146.867244 6: seq: 1d, get_clock
Sent 91 147.851727 147.851727 6: seq: 1e, get_clock
Sent 92 148.836276 148.836276 6: seq: 1f, get_clock
Sent 93 149.820706 149.820706 6: seq: 10, get_clock
Sent 94 150.805500 150.805500 6: seq: 11, get_clock
Sent 95 151.789817 151.789817 6: seq: 12, get_clock
Sent 96 152.774014 152.774014 6: seq: 13, get_clock
Sent 97 153.758516 153.758516 6: seq: 14, get_clock
Sent 98 154.743495 154.743495 6: seq: 15, get_clock
Sent 99 155.251549 155.251549 6: seq: 16, emergency_stop
Dumping receive queue 100 messages
Receive: 0 132.587593 132.587371 49: seq: 17, identify_response offset=880 data=b'\x84\xfdr\xd0@\x1b\xb8\xf0\x9b\xe4\x9c\x86\x0b4\xbc\x02\x83\xe6\xae#\x05!\xa2cl\xbaJ\xec\x9es\xb8k\xbb\xd6\xc0\x95I1\x1d\x7f'
Receive: 1 132.588397 132.588174 49: seq: 18, identify_response offset=920 data=b'\x81\x03\x84j+\xdb\x12\x19\xdd\xe1\x1c\x1f\xe7\xf2\x9ak7\xb2&DE>I\xdf\x17+\xa7\x08\x9e\x14d\x84\xbfx\xbd\\\x92\xae\xc7\xa1'
Receive: 2 132.589255 132.589035 49: seq: 19, identify_response offset=960 data=b'\xa3\x92\xddn|,\x06\xee\x93\x83}Z\x9b\xac\n\xf3yj\xa54\xa1\x95\xb4.-\x8f\x1f\xe3\xf1+\xde\x8epx\xd6\xedv\xb0\xa12'
Receive: 3 132.590060 132.589842 49: seq: 1a, identify_response offset=1000 data=b'j\x1bB\x01\xae#\x1223\xbd\xa0V\xe3\x016<tu\xa5\x06\x9fS\x94\x0c\xb4\xd4D\x1du7VE\x12\x1f2\xf5\x95S\x1fJ'
Receive: 4 132.590857 132.590637 49: seq: 1b, identify_response offset=1040 data=b'\xb9\x0e\x93\xc7{\x02\x8a@z\xb6\xc8\x83fJ\x0c"\xd8.\xf0\x94^N\xce!\xa6\x99EX\xa6J\xff\xa3\xe14\xceptlq#'
Receive: 5 132.591658 132.591438 49: seq: 1c, identify_response offset=1080 data=b'H\xf7\xf6@x\xe0\xe5\xbd\x97\xaaD\x81\xe1a\x91_Y\x0e\xfa\x0e|\xd3r\x7f/\xf8\xa6f\x81E\x8e\xf4B\xe2\xe9\xb1(|\x0e\x05'
Receive: 6 132.592454 132.592237 49: seq: 1d, identify_response offset=1120 data=b'\xdc\x8f\x15\xd8"\x19Y\x086\x0b\x16xJ9\x16V\x9f\x85K\xa4\x85\xf4\xb3\xb5E\x98%5\x8b\xcd6\xd9\x1cm\xb9\xccfc\xe0\x8b'
Receive: 7 132.593280 132.593052 49: seq: 1e, identify_response offset=1160 data=b'\xb4g\xb9N\xb2\xc0;Z\xc8\xaa\xd5Q\xd4~A\x94\xe8\x96 H\x8b\x1d]\xe5\xc6\x9e\xf8T\x9c\xfa\xfcu\xcc\x14\x86\x06\x10\x1f\xc1m'
Receive: 8 132.594097 132.593872 49: seq: 1f, identify_response offset=1200 data=b'V\x9e\xbe\xa4t\xdd\x13?\x95b\xdb=:?=\x0b\x12C\xa2\xb3\xb3\x93$VQ\xe1f6\x96`\x9e^\x9dB\x8e\xed\xea\x18\xbd\xad'
Receive: 9 132.594906 132.594682 49: seq: 10, identify_response offset=1240 data=b'\x9fCU\xa6\x80e\x9c\xcaA9(\xf8\x05M\x0bAT\x94I\xaa\x90\xaf\xd6]n\x02X\xa0!\x88\xe3\x9ftQE\xc0\xe9\xa2#$'
Receive: 10 132.595711 132.595489 49: seq: 11, identify_response offset=1280 data=b'\xc5\xb6\xca\x01\xed\x9a\xb3\x84\x10\x88R"j\xf9\x93f\x01\x92\x12\xeb%\xc5@q+ $_j\xff}B\x0b\xe2\xd4\x9b\x19a~&'
Receive: 11 132.596566 132.596294 49: seq: 12, identify_response offset=1320 data=b'I\x05\x91\x82&z\xd9!\xd6\x89;\xe7\x18\x9c#\xdc\x04\x84\xe7\xb9R\x0f\x1a\xc5\x06:\x8b@8\xa5#\x10\xc4>\xee\xc5\x0f I\x1d'
Receive: 12 132.597390 132.597166 49: seq: 13, identify_response offset=1360 data=b'\xc9\xa9\xf0\xd3\x08\xd9\x99\xa0\xd3tR\x9cJ\x1b\x8f\x16M5\x1f/\x9f#\x02\x15\xa2\x8c\xf4S\x81=\xd9\xce\xb1N\xc7\xf5$C,\x95'
Receive: 13 132.598197 132.597974 49: seq: 14, identify_response offset=1400 data=b'{\xe6\x98<@\xf8\x10\x98\xdb[3\x0f\xb6\x0eA\xa5,h+\x14\xab\x98\r]^ \x03\nXRg\x8e3Q\xab\xd0j#?\xc5'
Receive: 14 132.599001 132.598779 49: seq: 15, identify_response offset=1440 data=b'1\xb8\x11M\x8d2D\x07q\xc2|@\xb52\x877\xfa\x19)\xef\xbbA\xa7C\xe4+\xd4\xd8*\t\x7f\xea\x05\\\x89\x9f|m\xedJ'
Receive: 15 132.599808 132.599587 49: seq: 16, identify_response offset=1480 data=b'\x8bS\xf8H`\xd0\x14UOy\r\xcf\x96\xe2\x8f&\xcb\xc5\xe6\xc9\xd5\xf7\xd7\xf9\xcd\xd5?1\x99\xd9\xc2\x15]\xff\xf4\xcb\xf5\x8f\xf9\x0f'
Receive: 16 132.600716 132.600389 49: seq: 17, identify_response offset=1520 data=b'\xbf\xbd\xfe\x15\xfb\x02\xf4w\xb6\xba\xb9\xfe\xb0\xba\\\xd5\xa2\x9d\x9eVg\xabw\xd7W\xcaV\x0c\x19(\xd4\xbb\x7f\xdc\xd00\n7\x18q'
Receive: 17 132.601571 132.601341 49: seq: 18, identify_response offset=1560 data=b'o\xdf_\xbd\xbf\xcdo?\xdc\xdc\xfe\x9a\x7fwu\xfb\x1a\x13\xc8\xf4#\xa6\x90\x13$\xb5\xaa\x10S\xad\x1b\x9d*\xe9\xcf\x8b\xf5\xea\xf2_'
Receive: 18 132.602378 132.602159 49: seq: 19, identify_response offset=1600 data=b'\xeb\xb3 \xf9\x1dPA\xd5TsGEm\x04\xa8\x9d\xb2\xdf!_\xecEG\x98af\xc6\xe5A\xf4\xebo^\x82\x04\x16\x02\xf3\x0bX'
Receive: 19 132.603177 132.602959 49: seq: 1a, identify_response offset=1640 data=b"ha\t\x14\xcesXda\x19h\xf8\x1c\x16[X\x10@\xe10\x07&\x0e\x18\xc7KnR\x07\xdc\x84Kv6\x8e\xd5u\xb0\xe4'"
Receive: 20 132.603961 132.603763 49: seq: 1b, identify_response offset=1680 data=b's\xc0hm\x18\x02\x97C\xa7\x87\x0f\x04\xa5I\x026\x1e\xa4\x0e\x14x `\xd5\x07\x85\x1e\x08.\xce\x07E\x1e(\x8bg\xa0\xd8\x81R'
Receive: 21 132.604454 132.604320 49: seq: 1c, identify_response offset=1720 data=b'\xd0\x0f\x1f\x94x\xa0`\xceF\xea\x81\xa29\x1b\x1b\x0f\x14+6>\xce\xdc#\xd4yJ\x19\x82(\x8aV\x97\xa0\x91\x85L\xd6\xf1\xa6R'
Receive: 22 132.604978 132.604839 49: seq: 1d, identify_response offset=1760 data=b'9\xecX\xf3d\x1d\x84w\xa0d\x9aJ\xab\x14|V\xfcam\xd4\n\xf7\xa3\xa9@M\x81J\xfa\x93\xa1\x9aL\x82\xd0\x9f\x8c\xd4\xe4\xc6'
Receive: 23 132.605473 132.605339 49: seq: 1e, identify_response offset=1800 data=b'\x88\x86&c5\x19\xac\xc3\xd8\x9fMh6\xccf[\xa54k\xaf\x84f74\x0b\x8e\xce\x9c\x15\xf2\x14\x81\x8eb\x80\x8a2\x17\x956'
Receive: 24 132.605961 132.605827 49: seq: 1f, identify_response offset=1840 data=b'M\xa6LxGy%\xb5\xb1\xae\xea\x9ai\x0b4\xa1I\xb2f\x92#;\x14\x0f\x1c\xebc\xcc\x1f\xb9\x1fz\xa8\xc5wU\xa3\x0b{f'
Receive: 25 132.606447 132.606314 49: seq: 10, identify_response offset=1880 data=b'\xa6L\xab(\xae^\x17-k\xbb\x91\x81/c\x18\x0f\x18\xdc\x04\x113E\xcc\x1e\x0f\x02\xbe\xc9\xb5H\xd6\x83s\x04\x16)p\x03\xed\x97'
Receive: 26 132.606934 132.606799 49: seq: 11, identify_response offset=1920 data=b'#\x06J&\xc5\x1eV\x85\xdd\x8b\x91\t\xc9\n\xbd\x17\xb5M\xa8|\xd4\xc8\x12Q\xd1-Q\x91K\xb3*OP\xb9\x16l\xc7[f:'
Receive: 27 132.607420 132.607286 49: seq: 12, identify_response offset=1960 data=b'\x0b\x96\x1er\x89kj\xf9\xb2\xbe\x18$\x80T?P\xd5\x8f\x060p\xc8Q\xe4\xa8\x1a\xbf\xd7\xddTWt.\xe5{\xbf\xbf\r\xb2\xef'
Receive: 28 132.607904 132.607771 49: seq: 13, identify_response offset=2000 data=b' oF\xb6\x80\x18k\x9a\xa2\xa2f\xcc_Be_\x81\xcb\xac \xe5\x11\xe3+J#\xff"Y3\x8d\xfc\xc9\xd2\x81\x18\x0c\xde\xfcf'
Receive: 29 132.608388 132.608254 49: seq: 14, identify_response offset=2040 data=b'\xb1\xa5k \x10\x7fd7@\x8aRi\xd1\xf4\xb45\xa3\x12\x19K\x9e\xd7xx\x06\xb1o\xc4\x06D\xd3\x01\x1b]+t\xf4\xd1x\x98'
Receive: 30 132.608905 132.608770 49: seq: 15, identify_response offset=2080 data=b'\xaa\x12\x1eDFr\xa3\x8cN\x9d\xd8\x15p\x8c+\xcc\xb7\xa6\xac\xe3\x87n(\xb9mB1\xddq\xa7~\xe6\x9bwo\x7fah\xb8\x0c'
Receive: 31 132.609394 132.609260 49: seq: 16, identify_response offset=2120 data=b'\x94Y\x00\x1a\xcaa\x079`E\x15\xd7[\xcai\xbdu\xb1\x97\xcbDu\x86\x99\xa2\x96[\x07\xba\xa4\xfa\xfb\x9a\x0b\xea\\~\x82Ti'
Receive: 32 132.609879 132.609746 49: seq: 17, identify_response offset=2160 data=b'9R\xc2]\x8c\x05\x08\xe4\xcbo\xbe\xa4\xe2\xc0\x10\x99V\xb7\xeb\xbcSfJ5\x98\xc1\xb2GI\xfc9@C\xdd\x02\xdb\x81\xb4\x96Z'
Receive: 33 132.610363 132.610229 49: seq: 18, identify_response offset=2200 data=b'R\x06\xd8t`YZ\xbd\x18\xf6M1\x8c:\xb0\xed\xb2\xda\xbe*\xa5YGp]\xf5\xda\xfd#\x8f\x01\xb0\x08F~\x0e\x9bDf\xd6'
Receive: 34 132.610845 132.610713 49: seq: 19, identify_response offset=2240 data=b"\xf4Z\xb5\xa53\x90\x96\n\xe5\x94@.\xb1\x0c\xc8\xdb\x1b\xbb\x99&\xda\x87\x9b\xd9\xbc\xae\x7f\xd45\xd2\xce\xb1'\xa4Y}\xe3\xe1`w"
Receive: 35 132.611332 132.611196 49: seq: 1a, identify_response offset=2280 data=b'\xe4\xa6xB\xdd\xcd\x8c\xbc\xa93y\xc3\xa5,\xf6\x9c\xf1\xb6\x84\xfc\xd0\x18(\xf0r#\xa4\xe4\xb0%\xd4\xc5\xd5T\xa3\xbe\x011\xa6\xe5'
Receive: 36 132.611816 132.611681 49: seq: 1b, identify_response offset=2320 data=b'Lg*\xca\x18\xf8\x03\xc7\x8b\xc2\x8c\xfce\x82C1T\xcaCill\xcc\xbd\x8cm\xe4\xa2\x91\xf1\xc1\xe7\x06\xafR\xd52\x0c\xbe\x86'
Receive: 37 132.612297 132.612164 49: seq: 1c, identify_response offset=2360 data=b']\xdd=R\xf5\xf4\x1b\xd7\x0b\xc0Rh@\x83\xb28\xf0\xa6}\x81>\x05\xbb6\xb7\x16\xe1\x88o\xf6(\xc0/\xf3\xa7\x92\x03\xd4\xef7'
Receive: 38 132.612818 132.612682 49: seq: 1d, identify_response offset=2400 data=b'S2\xea(g,}\x82\nK.\x8f\xca\x9c\xf8\x13\x14\x98%\xde\xf2Q\xdf\x89b\x1b1D35f\xce\xd8\x02\x9e\xc5\xda5v\xc0'
Receive: 39 132.613309 132.613175 49: seq: 1e, identify_response offset=2440 data=b'`1\xe5w\x95;\xf3\x1f\xa3n\xb5#\x1e\xbb\x8e\xed\n%\x13\x92\x076\xfc\xde\xfb*\xa2\xfd\x9e\xea\xbdS\x7f\xfc\xbd\x92"R\x82['
Receive: 40 132.613793 132.613659 49: seq: 1f, identify_response offset=2480 data=b'\x92\\50\xdf\xc3\x08t\xff\x19\x9bd\xdawHzX\xb3\x10\xd4X\x0b\xc1T\xffC[\xdca4\xea\xb4"+i\x10\x06\xf5\xf8\x1c'
Receive: 41 132.614275 132.614143 49: seq: 10, identify_response offset=2520 data=b'\x02h\x02\\,\xae\x00\t\xd3XS\xd3\xc9\x81\x95\xc7Y\xfa.\xea\x1e/\x90\x8a\xaat\xe0\xf51X\xc7\x02\x1b\x89\rn\x9c\x1d\xe1\xba'
Receive: 42 132.614759 132.614626 49: seq: 11, identify_response offset=2560 data=b"\x93R\x9d\xb4\x04\xfb\x1c\x81\xf6r\xea\xeb-\xb0P\xd1\x8e\xd0\xd2#4';z\xa9s`\x15\x8df\xac\x84>\x18\xc3\xef\xed\xbb\xb7\xaa"
Receive: 43 132.615245 132.615112 49: seq: 12, identify_response offset=2600 data=b'\xb2\xa3\xee\xdb1L\xf6\x1c\x93\x86$Y\x02\xdb\xae=\xbf\xc3\xc8\xa3lo\xc1\xc5\x8cI\xed\x00\x8d\xd4\xb4\xbfJfwH\xddL\\\xba'
Receive: 44 132.615733 132.615597 49: seq: 13, identify_response offset=2640 data=b'\x17\xd4\x93\xd70\x02\xcc\xce\x00\xb7\xab^\x7f\xf3\xf20\xb5\xf7\xa0|\x90\xaaT\xf4\xa8\xe8\xcdK\x07\x00n\xc8\xeb\xe9 \x8bN\x1d\xaa-'
Receive: 45 132.616216 132.616082 49: seq: 14, identify_response offset=2680 data=b'\xc9J\xc9T\xc5\x11\xaf\xe7OCp\x9e\x1a\xf2\x98\x07X\x80\x98P\xe9\x895\x91\xedQ\x87\xf9\x92\xfd\x02\xf9\x10\xd49wX\xa6\xed\xf0'
Receive: 46 132.616734 132.616599 49: seq: 15, identify_response offset=2720 data=b'\x85A\xfe\x8d\xaaA\xf5>mS#\xfdj]\xd1\xb3\x81\xc4>-zx\xf2=%\x80\x11\x84u5$e\xeaA\xf1\xe7\xab\xeb\x1f\xe9'
Receive: 47 132.617225 132.617091 49: seq: 16, identify_response offset=2760 data=b'\x85\xc7\xbcq\xa8\xf2\x18\r\xac.\x06\xcc"\xb0\x1dp\xa2\x06D\xab&\xa7\x8e/F:\xa9"\'\x88\x95/\xa4\x9fG\xaf*\x98\x7fB'
Receive: 48 132.617728 132.617574 49: seq: 17, identify_response offset=2800 data=b'A\x17\x05Y\x92\xa8\x84[\x0fR\x95q\xd3 M\x94\x8b\x80A\x9an\xe0;\xfa\x08+\xd5p1-\x1a\xfb\n\x9f\xf1\xdf\xbc\xfb\xe9!'
Receive: 49 132.618212 132.618080 49: seq: 18, identify_response offset=2840 data=b'Z\xa9>\x10$1\x92KW\xd2\xe5\xa2\x9du\x13\x95\xc7\xceOu\x9f\xce1{4\xef\xee3\x92\xc2k\xb32\x05\xa1\x06\xc19\xe6\x8b'
Receive: 50 132.618702 132.618569 49: seq: 19, identify_response offset=2880 data=b'\x94\x0b\xb9z\xfc\xdc=\x89\x83\x9f\xd0\x0f\x10\xaadW\xef\x148g\xeeU\xf5A <\xe4\xb6\xad\x85\xe4\x01\x92\xab\xfe\xed\xa7\x18\xd7$'
Receive: 51 132.619187 132.619054 49: seq: 1a, identify_response offset=2920 data=b'\xfa#\xf7\xf6\x0f\xb6\xeeuH\x82\x97\xb4\x8f=\xe7\xe8\xbaug\xd7\xc0>%\x14A^V\xaf\xea=\x0b\xcd\xd8:t\r\xd8\xe3\xf1"'
Receive: 52 132.619674 132.619540 49: seq: 1b, identify_response offset=2960 data=b"\xfe\xc3\x0f\xee\xbdq\xaf\x1d\xb9\xb9'\xaf\xbf\xaa\xc6F\xac\x91{Q\xf0p\xed\xd3\x02\xb5h.\x10\x17\x9fF\x9c@\xd9\xb2\xbe!\x99B"
Receive: 53 132.620163 132.620027 49: seq: 1c, identify_response offset=3000 data=b'\xf9\xb3z\xb1\xbd\xec\x1d\xc0\xbc3\xf8\xc2L\xbd\xd7\x84\xb9\xcc\xe4T\x96\xea\x89D\x1d\x0f\x18\x016\xfdW\xba\xf3\x88\xec\r\xec\x1f*\xc5'
Receive: 54 132.620676 132.620541 49: seq: 1d, identify_response offset=3040 data=b'\xfa~\xd6e\x92\x98\xe5\xb5%_\xbcG\x9cc\xbe\xe7\xd3\xcc\x1a\xcb\xaei\xaa{\xc3\xa6\x97C\xbdG\x7f\xc9\xbbi\xb7\xe3\x10o\xa9\xeb'
Receive: 55 132.621168 132.621033 49: seq: 1e, identify_response offset=3080 data=b'\x0f\xc5\x108\x95\xdcd"R\xab\x1a\xe6#.\xf1\xb6\xcf\x14\xa7e\x18\x9dj$\x1e\xdd\xa4\xdf\x9a\xf6\xaf\x14]\xa5\xdf\xb9\xfb\xac\n\xc4'
Receive: 56 132.621654 132.621521 49: seq: 1f, identify_response offset=3120 data=b'\xaaX\x1dF\x95\xb0o\x03*]\xa5S{95\xfaG\xfe\xa1\xaej\x1b\xbbf\xdc\xa2SG\x0f?\x02\x97\xcd\x16N\xe8/\x98\xc1d'
Receive: 57 132.622137 132.622004 49: seq: 10, identify_response offset=3160 data=b'\xcc\x00\xef\xd9o\xe0\x1d\x1f\x01[w\xc4~\xe07\xe5\x9c\xae\x95\x85\xed\x10\x9e|\xd8\xf2\xfd\x08V\xe1\xf4^\xc9\xe8\xff\x01&\x0f\xbaM'
Receive: 58 132.622623 132.622489 41: seq: 11, identify_response offset=3200 data=b"\xc0\t\xea\xff\x82\x02'\xf8\xb0\xbe\x08\xc2\x8b5\x8898\xdf\x87\xbb\x94o\xe3r\xbb\xfa\xf8\x1f\xeb\x91a\xe5"
Receive: 59 132.623107 132.622974 9: seq: 12, identify_response offset=3232 data=b''
Receive: 60 132.662261 132.662046 12: seq: 13, uptime high=1 clock=1938117491
Receive: 61 132.714033 132.713935 11: seq: 14, clock clock=1940708518
Receive: 62 132.764593 132.764506 11: seq: 15, clock clock=1943236657
Receive: 63 132.815051 132.814968 11: seq: 16, clock clock=1945759604
Receive: 64 132.865651 132.865528 11: seq: 17, clock clock=1948289305
Receive: 65 132.916208 132.916122 11: seq: 18, clock clock=1950817390
Receive: 66 132.967652 132.967519 11: seq: 19, clock clock=1953389423
Receive: 67 133.018278 133.018177 11: seq: 1a, clock clock=1955920707
Receive: 68 133.068790 133.068703 11: seq: 1b, clock clock=1958446576
Receive: 69 133.081677 133.081552 11: seq: 1c, clock clock=1959090734
Receive: 70 134.066003 134.065903 11: seq: 1d, clock clock=2008306950
Receive: 71 134.200682 134.065903 15: seq: 1d, stats count=142 sum=267931 sumsq=2887080
Receive: 72 134.363948 134.363819 10: seq: 1e, config is_config=0 crc=0 is_shutdown=0 move_count=0
Receive: 73 134.365040 134.364952 15: seq: 11, config is_config=1 crc=3912464276 is_shutdown=0 move_count=1024
Receive: 74 135.050502 135.050381 11: seq: 12, clock clock=2057531788
Receive: 75 136.034776 136.034662 11: seq: 13, clock clock=2106744851
Receive: 76 137.019463 137.019350 11: seq: 14, clock clock=2155978145
Receive: 77 138.004372 138.004089 11: seq: 15, clock clock=2205219047
Receive: 78 138.988754 138.988414 11: seq: 16, clock clock=2254437292
Receive: 79 139.300817 138.988414 13: seq: 16, stats count=60 sum=40379 sumsq=258114
Receive: 80 139.973257 139.972958 11: seq: 17, clock clock=2303661600
Receive: 81 140.958062 140.957793 11: seq: 18, clock clock=2352901123
Receive: 82 141.942817 141.942552 11: seq: 19, clock clock=2402138057
Receive: 83 142.927844 142.927579 11: seq: 1a, clock clock=2451388728
Receive: 84 143.912756 143.912508 11: seq: 1b, clock clock=2500634419
Receive: 85 144.300919 143.912508 13: seq: 1b, stats count=55 sum=52679 sumsq=442559
Receive: 86 144.897745 144.897477 11: seq: 1c, clock clock=2549882342
Receive: 87 145.882632 145.882368 11: seq: 1d, clock clock=2599126157
Receive: 88 146.867486 146.867244 11: seq: 1e, clock clock=2648368742
Receive: 89 147.851990 147.851727 11: seq: 1f, clock clock=2697593376
Receive: 90 148.836582 148.836276 11: seq: 10, clock clock=2746821557
Receive: 91 149.401059 148.836276 13: seq: 10, stats count=56 sum=52137 sumsq=397869
Receive: 92 149.821042 149.820706 11: seq: 11, clock clock=2796044164
Receive: 93 150.805606 150.805500 11: seq: 12, clock clock=2845274759
Receive: 94 151.789950 151.789817 11: seq: 13, clock clock=2894491259
Receive: 95 152.774140 152.774014 11: seq: 14, clock clock=2943700017
Receive: 96 153.758637 153.758516 11: seq: 15, clock clock=2992924403
Receive: 97 154.500860 153.758516 13: seq: 15, stats count=56 sum=29961 sumsq=152833
Receive: 98 154.743620 154.743495 11: seq: 16, clock clock=3042173010
Receive: 99 155.251826 155.251549 12: seq: 17, shutdown clock=3067576776 static_string_id=Command request
Stats 156.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=7 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000011 mcu_task_stddev=0.000013 bytes_write=969 bytes_read=5348 bytes_retransmit=0 bytes_invalid=0 send_seq=136 receive_seq=136 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999370 adj=49995438 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1019 bytes_read=10217 bytes_retransmit=9 bytes_invalid=0 send_seq=129 receive_seq=129 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975204 adj=47970387 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1019 bytes_read=10202 bytes_retransmit=9 bytes_invalid=0 send_seq=129 receive_seq=129 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48014437 adj=48008439 Octopus_Max: temp=30.6 Pi: temp=31.6  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.2 2209_M2: temp=25.5 2209_M3: temp=25.4 5160_M4: temp=27.4 5160_M5: temp=27.3 5160_M6: temp=27.0 5160_M7: temp=27.4 2209_M8: temp=25.2 Stepper_back_left: temp=24.6 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.8 sysload=0.32 cputime=5.148 memavail=7501152 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 157.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=8 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000011 mcu_task_stddev=0.000013 bytes_write=975 bytes_read=5364 bytes_retransmit=0 bytes_invalid=0 send_seq=137 receive_seq=137 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999397 adj=49995677 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1025 bytes_read=10503 bytes_retransmit=9 bytes_invalid=0 send_seq=130 receive_seq=130 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975175 adj=47970516 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1025 bytes_read=10488 bytes_retransmit=9 bytes_invalid=0 send_seq=130 receive_seq=130 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48014186 adj=48007879 Octopus_Max: temp=30.6 Pi: temp=31.2  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.0 2209_M2: temp=25.4 2209_M3: temp=25.5 5160_M4: temp=27.3 5160_M5: temp=27.5 5160_M6: temp=27.1 5160_M7: temp=27.6 2209_M8: temp=25.3 Stepper_back_left: temp=24.7 Stepper_back_right: temp=25.0 Stepper_front_left: temp=24.8 Stepper_front_right: temp=24.8 sysload=0.32 cputime=5.186 memavail=7501152 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 158.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=9 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000011 mcu_task_stddev=0.000013 bytes_write=981 bytes_read=5380 bytes_retransmit=0 bytes_invalid=0 send_seq=138 receive_seq=138 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999426 adj=49995935 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1031 bytes_read=10849 bytes_retransmit=9 bytes_invalid=0 send_seq=131 receive_seq=131 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975142 adj=47970710 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1031 bytes_read=10849 bytes_retransmit=9 bytes_invalid=0 send_seq=131 receive_seq=131 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48013925 adj=48007197 Octopus_Max: temp=30.6 Pi: temp=30.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.6 2209_M3: temp=25.0 5160_M4: temp=27.3 5160_M5: temp=27.3 5160_M6: temp=27.0 5160_M7: temp=27.2 2209_M8: temp=25.2 Stepper_back_left: temp=24.5 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.9 Stepper_front_right: temp=24.6 sysload=0.32 cputime=5.226 memavail=7501200 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 159.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=10 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000011 mcu_task_stddev=0.000013 bytes_write=987 bytes_read=5396 bytes_retransmit=0 bytes_invalid=0 send_seq=139 receive_seq=139 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999419 adj=49996156 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1037 bytes_read=11165 bytes_retransmit=9 bytes_invalid=0 send_seq=132 receive_seq=132 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975121 adj=47970814 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1037 bytes_read=11150 bytes_retransmit=9 bytes_invalid=0 send_seq=132 receive_seq=132 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48013680 adj=48006512 Octopus_Max: temp=30.6 Pi: temp=31.2  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.3 2209_M2: temp=25.6 2209_M3: temp=25.5 5160_M4: temp=27.3 5160_M5: temp=27.5 5160_M6: temp=26.8 5160_M7: temp=27.4 2209_M8: temp=25.3 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.8 Stepper_front_right: temp=24.9 sysload=0.32 cputime=5.263 memavail=7501236 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 160.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=11 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000017 mcu_task_stddev=0.000019 bytes_write=993 bytes_read=5425 bytes_retransmit=0 bytes_invalid=0 send_seq=140 receive_seq=140 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999425 adj=49996095 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1043 bytes_read=11466 bytes_retransmit=9 bytes_invalid=0 send_seq=133 receive_seq=133 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975096 adj=47970952 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1043 bytes_read=11451 bytes_retransmit=9 bytes_invalid=0 send_seq=133 receive_seq=133 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48013448 adj=48005989 Octopus_Max: temp=30.6 Pi: temp=29.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.4 2209_M2: temp=25.5 2209_M3: temp=25.5 5160_M4: temp=27.3 5160_M5: temp=27.3 5160_M6: temp=27.0 5160_M7: temp=27.3 2209_M8: temp=25.3 Stepper_back_left: temp=24.6 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.9 sysload=0.30 cputime=5.302 memavail=7501236 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 161.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=12 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000017 mcu_task_stddev=0.000019 bytes_write=999 bytes_read=5441 bytes_retransmit=0 bytes_invalid=0 send_seq=141 receive_seq=141 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999425 adj=49996133 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1049 bytes_read=11812 bytes_retransmit=9 bytes_invalid=0 send_seq=134 receive_seq=134 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975060 adj=47971028 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1049 bytes_read=11827 bytes_retransmit=9 bytes_invalid=0 send_seq=134 receive_seq=134 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48013228 adj=48005583 Octopus_Max: temp=30.6 Pi: temp=29.2  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=24.9 2209_M2: temp=25.7 2209_M3: temp=25.5 5160_M4: temp=27.4 5160_M5: temp=27.3 5160_M6: temp=27.1 5160_M7: temp=27.3 2209_M8: temp=25.3 Stepper_back_left: temp=24.7 Stepper_back_right: temp=24.9 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.6 sysload=0.30 cputime=5.343 memavail=7501012 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 162.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=13 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000017 mcu_task_stddev=0.000019 bytes_write=1005 bytes_read=5457 bytes_retransmit=0 bytes_invalid=0 send_seq=142 receive_seq=142 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999420 adj=49996120 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1055 bytes_read=12128 bytes_retransmit=9 bytes_invalid=0 send_seq=135 receive_seq=135 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975036 adj=47970997 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1055 bytes_read=12113 bytes_retransmit=9 bytes_invalid=0 send_seq=135 receive_seq=135 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48012988 adj=48005250 Octopus_Max: temp=30.6 Pi: temp=29.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.3 2209_M3: temp=25.6 5160_M4: temp=27.0 5160_M5: temp=27.4 5160_M6: temp=27.1 5160_M7: temp=27.4 2209_M8: temp=25.4 Stepper_back_left: temp=24.7 Stepper_back_right: temp=25.0 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.9 sysload=0.30 cputime=5.382 memavail=7501012 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 163.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=14 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000017 mcu_task_stddev=0.000019 bytes_write=1011 bytes_read=5473 bytes_retransmit=0 bytes_invalid=0 send_seq=143 receive_seq=143 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999421 adj=49996080 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1061 bytes_read=12414 bytes_retransmit=9 bytes_invalid=0 send_seq=136 receive_seq=136 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47975010 adj=47971043 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1061 bytes_read=12399 bytes_retransmit=9 bytes_invalid=0 send_seq=136 receive_seq=136 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48012754 adj=48004774 Octopus_Max: temp=30.6 Pi: temp=30.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.2 2209_M2: temp=25.4 2209_M3: temp=25.6 5160_M4: temp=27.1 5160_M5: temp=27.3 5160_M6: temp=27.1 5160_M7: temp=27.3 2209_M8: temp=25.2 Stepper_back_left: temp=24.8 Stepper_back_right: temp=25.0 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.8 sysload=0.30 cputime=5.419 memavail=7501012 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 164.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=15 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000017 mcu_task_stddev=0.000019 bytes_write=1017 bytes_read=5489 bytes_retransmit=0 bytes_invalid=0 send_seq=144 receive_seq=144 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999420 adj=49996084 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1073 bytes_read=12776 bytes_retransmit=9 bytes_invalid=0 send_seq=138 receive_seq=138 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974951 adj=47971050 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1067 bytes_read=12775 bytes_retransmit=9 bytes_invalid=0 send_seq=137 receive_seq=137 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48012532 adj=48004360 Octopus_Max: temp=30.6 Pi: temp=29.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.3 2209_M2: temp=25.2 2209_M3: temp=25.5 5160_M4: temp=27.4 5160_M5: temp=27.4 5160_M6: temp=27.1 5160_M7: temp=27.3 2209_M8: temp=25.1 Stepper_back_left: temp=24.7 Stepper_back_right: temp=24.7 Stepper_front_left: temp=24.8 Stepper_front_right: temp=24.6 sysload=0.30 cputime=5.460 memavail=7501012 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 165.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=16 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000020 mcu_task_stddev=0.000020 bytes_write=1023 bytes_read=5518 bytes_retransmit=0 bytes_invalid=0 send_seq=145 receive_seq=145 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999424 adj=49996082 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1079 bytes_read=13107 bytes_retransmit=9 bytes_invalid=0 send_seq=139 receive_seq=139 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974930 adj=47970803 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1073 bytes_read=13076 bytes_retransmit=9 bytes_invalid=0 send_seq=138 receive_seq=138 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48012321 adj=48004033 Octopus_Max: temp=30.6 Pi: temp=30.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=24.9 2209_M3: temp=25.1 5160_M4: temp=27.4 5160_M5: temp=27.4 5160_M6: temp=26.9 5160_M7: temp=27.3 2209_M8: temp=25.3 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.5 Stepper_front_right: temp=24.9 sysload=0.27 cputime=5.500 memavail=7501012 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 166.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=17 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000020 mcu_task_stddev=0.000020 bytes_write=1029 bytes_read=5534 bytes_retransmit=0 bytes_invalid=0 send_seq=146 receive_seq=146 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999431 adj=49996109 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1085 bytes_read=13393 bytes_retransmit=9 bytes_invalid=0 send_seq=140 receive_seq=140 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974904 adj=47970883 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1079 bytes_read=13362 bytes_retransmit=9 bytes_invalid=0 send_seq=139 receive_seq=139 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48012131 adj=48003784 Octopus_Max: temp=30.6 Pi: temp=30.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.3 2209_M3: temp=25.5 5160_M4: temp=27.2 5160_M5: temp=27.3 5160_M6: temp=27.1 5160_M7: temp=27.4 2209_M8: temp=25.3 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.7 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.9 sysload=0.27 cputime=5.537 memavail=7501024 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 167.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=18 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000020 mcu_task_stddev=0.000020 bytes_write=1035 bytes_read=5550 bytes_retransmit=0 bytes_invalid=0 send_seq=147 receive_seq=147 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999439 adj=49996158 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1091 bytes_read=13739 bytes_retransmit=9 bytes_invalid=0 send_seq=141 receive_seq=141 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974872 adj=47970889 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1085 bytes_read=13738 bytes_retransmit=9 bytes_invalid=0 send_seq=140 receive_seq=140 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48011959 adj=48003665 Octopus_Max: temp=30.6 Pi: temp=30.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.3 2209_M2: temp=25.4 2209_M3: temp=25.5 5160_M4: temp=27.2 5160_M5: temp=27.5 5160_M6: temp=27.1 5160_M7: temp=27.3 2209_M8: temp=25.1 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.4 Stepper_front_left: temp=24.6 Stepper_front_right: temp=24.9 sysload=0.27 cputime=5.569 memavail=7503056 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 168.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=19 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000020 mcu_task_stddev=0.000020 bytes_write=1041 bytes_read=5566 bytes_retransmit=0 bytes_invalid=0 send_seq=148 receive_seq=148 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999427 adj=49996210 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1097 bytes_read=14055 bytes_retransmit=9 bytes_invalid=0 send_seq=142 receive_seq=142 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974838 adj=47970841 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1091 bytes_read=14024 bytes_retransmit=9 bytes_invalid=0 send_seq=141 receive_seq=141 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48011767 adj=48003639 Octopus_Max: temp=30.6 Pi: temp=31.2  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.2 2209_M2: temp=25.5 2209_M3: temp=25.4 5160_M4: temp=27.2 5160_M5: temp=27.3 5160_M6: temp=27.0 5160_M7: temp=27.3 2209_M8: temp=25.1 Stepper_back_left: temp=24.7 Stepper_back_right: temp=24.9 Stepper_front_left: temp=24.8 Stepper_front_right: temp=24.8 sysload=0.27 cputime=5.584 memavail=7502936 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 169.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=20 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000020 mcu_task_stddev=0.000020 bytes_write=1047 bytes_read=5582 bytes_retransmit=0 bytes_invalid=0 send_seq=149 receive_seq=149 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999412 adj=49996082 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1103 bytes_read=14341 bytes_retransmit=9 bytes_invalid=0 send_seq=143 receive_seq=143 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974803 adj=47970776 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1097 bytes_read=14310 bytes_retransmit=9 bytes_invalid=0 send_seq=142 receive_seq=142 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48011584 adj=48003402 Octopus_Max: temp=30.6 Pi: temp=29.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.2 2209_M2: temp=25.3 2209_M3: temp=25.5 5160_M4: temp=27.4 5160_M5: temp=27.1 5160_M6: temp=26.9 5160_M7: temp=27.4 2209_M8: temp=25.2 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.9 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.9 sysload=0.27 cputime=5.599 memavail=7502472 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 170.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=21 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000012 mcu_task_stddev=0.000014 bytes_write=1053 bytes_read=5611 bytes_retransmit=0 bytes_invalid=0 send_seq=150 receive_seq=150 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999401 adj=49995962 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1109 bytes_read=14702 bytes_retransmit=9 bytes_invalid=0 send_seq=144 receive_seq=144 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974764 adj=47970705 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1103 bytes_read=14701 bytes_retransmit=9 bytes_invalid=0 send_seq=143 receive_seq=143 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48011402 adj=48003202 Octopus_Max: temp=30.6 Pi: temp=31.2  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.3 2209_M3: temp=25.5 5160_M4: temp=27.3 5160_M5: temp=27.3 5160_M6: temp=27.1 5160_M7: temp=27.2 2209_M8: temp=25.3 Stepper_back_left: temp=24.9 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.8 Stepper_front_right: temp=24.9 sysload=0.25 cputime=5.616 memavail=7502472 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 171.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=22 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000012 mcu_task_stddev=0.000014 bytes_write=1059 bytes_read=5627 bytes_retransmit=0 bytes_invalid=0 send_seq=151 receive_seq=151 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999393 adj=49995894 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1115 bytes_read=15018 bytes_retransmit=9 bytes_invalid=0 send_seq=145 receive_seq=145 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974719 adj=47970609 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1109 bytes_read=14987 bytes_retransmit=9 bytes_invalid=0 send_seq=144 receive_seq=144 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48011209 adj=48002993 Octopus_Max: temp=30.6 Pi: temp=31.2  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.4 2209_M3: temp=25.4 5160_M4: temp=27.2 5160_M5: temp=27.3 5160_M6: temp=27.0 5160_M7: temp=27.3 2209_M8: temp=25.2 Stepper_back_left: temp=24.8 Stepper_back_right: temp=25.0 Stepper_front_left: temp=24.6 Stepper_front_right: temp=24.7 sysload=0.25 cputime=5.632 memavail=7502224 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 172.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=23 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000012 mcu_task_stddev=0.000014 bytes_write=1065 bytes_read=5643 bytes_retransmit=0 bytes_invalid=0 send_seq=152 receive_seq=152 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999389 adj=49995866 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1121 bytes_read=15296 bytes_retransmit=9 bytes_invalid=0 send_seq=146 receive_seq=146 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974666 adj=47970462 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1115 bytes_read=15261 bytes_retransmit=9 bytes_invalid=0 send_seq=145 receive_seq=145 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48011000 adj=48002672 Octopus_Max: temp=30.6 Pi: temp=31.2  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.3 2209_M3: temp=25.5 5160_M4: temp=27.0 5160_M5: temp=27.2 5160_M6: temp=27.1 5160_M7: temp=27.4 2209_M8: temp=25.2 Stepper_back_left: temp=24.7 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.7 Stepper_front_right: temp=25.2 sysload=0.25 cputime=5.658 memavail=7502236 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 173.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=24 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000012 mcu_task_stddev=0.000014 bytes_write=1071 bytes_read=5659 bytes_retransmit=0 bytes_invalid=0 send_seq=153 receive_seq=153 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999397 adj=49995883 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1127 bytes_read=15619 bytes_retransmit=9 bytes_invalid=0 send_seq=147 receive_seq=147 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974611 adj=47970270 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1121 bytes_read=15612 bytes_retransmit=9 bytes_invalid=0 send_seq=146 receive_seq=146 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48010786 adj=48002216 Octopus_Max: temp=30.6 Pi: temp=30.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.0 2209_M2: temp=25.3 2209_M3: temp=25.5 5160_M4: temp=27.0 5160_M5: temp=27.2 5160_M6: temp=27.0 5160_M7: temp=27.2 2209_M8: temp=25.2 Stepper_back_left: temp=24.6 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.5 Stepper_front_right: temp=25.0 sysload=0.25 cputime=5.698 memavail=7502236 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 174.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=25 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000012 mcu_task_stddev=0.000014 bytes_write=1077 bytes_read=5675 bytes_retransmit=0 bytes_invalid=0 send_seq=154 receive_seq=154 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999404 adj=49995996 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1133 bytes_read=15914 bytes_retransmit=9 bytes_invalid=0 send_seq=148 receive_seq=148 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974554 adj=47970087 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1127 bytes_read=15879 bytes_retransmit=9 bytes_invalid=0 send_seq=147 receive_seq=147 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48010574 adj=48001744 Octopus_Max: temp=30.6 Pi: temp=30.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.2 2209_M2: temp=25.0 2209_M3: temp=25.5 5160_M4: temp=27.1 5160_M5: temp=27.2 5160_M6: temp=26.9 5160_M7: temp=27.3 2209_M8: temp=25.2 Stepper_back_left: temp=24.7 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.8 sysload=0.25 cputime=5.736 memavail=7502236 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 175.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=26 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000014 mcu_task_stddev=0.000017 bytes_write=1083 bytes_read=5704 bytes_retransmit=0 bytes_invalid=0 send_seq=155 receive_seq=155 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999412 adj=49996075 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1139 bytes_read=16196 bytes_retransmit=9 bytes_invalid=0 send_seq=149 receive_seq=149 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974483 adj=47969905 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1133 bytes_read=16161 bytes_retransmit=9 bytes_invalid=0 send_seq=148 receive_seq=148 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48010361 adj=48001323 Octopus_Max: temp=30.6 Pi: temp=31.6  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.5 2209_M3: temp=25.6 5160_M4: temp=27.0 5160_M5: temp=27.1 5160_M6: temp=27.0 5160_M7: temp=27.1 2209_M8: temp=25.3 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.7 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.8 sysload=0.23 cputime=5.773 memavail=7502236 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 176.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=27 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000014 mcu_task_stddev=0.000017 bytes_write=1089 bytes_read=5720 bytes_retransmit=0 bytes_invalid=0 send_seq=156 receive_seq=156 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999419 adj=49996148 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1145 bytes_read=16519 bytes_retransmit=9 bytes_invalid=0 send_seq=150 receive_seq=150 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974414 adj=47969630 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1139 bytes_read=16512 bytes_retransmit=9 bytes_invalid=0 send_seq=149 receive_seq=149 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48010150 adj=48000912 Octopus_Max: temp=30.6 Pi: temp=30.2  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.2 2209_M3: temp=25.5 5160_M4: temp=27.1 5160_M5: temp=27.3 5160_M6: temp=26.8 5160_M7: temp=27.4 2209_M8: temp=24.9 Stepper_back_left: temp=24.9 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.8 sysload=0.23 cputime=5.813 memavail=7502236 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 177.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=28 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000014 mcu_task_stddev=0.000017 bytes_write=1095 bytes_read=5736 bytes_retransmit=0 bytes_invalid=0 send_seq=157 receive_seq=157 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999426 adj=49996196 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1151 bytes_read=16814 bytes_retransmit=9 bytes_invalid=0 send_seq=151 receive_seq=151 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974340 adj=47969403 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1145 bytes_read=16779 bytes_retransmit=9 bytes_invalid=0 send_seq=150 receive_seq=150 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48009943 adj=48000544 Octopus_Max: temp=30.6 Pi: temp=31.2  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.2 2209_M3: temp=24.9 5160_M4: temp=26.9 5160_M5: temp=27.2 5160_M6: temp=26.8 5160_M7: temp=27.2 2209_M8: temp=25.3 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.8 sysload=0.23 cputime=5.851 memavail=7502236 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 178.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=29 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000014 mcu_task_stddev=0.000017 bytes_write=1101 bytes_read=5752 bytes_retransmit=0 bytes_invalid=0 send_seq=158 receive_seq=158 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999439 adj=49996228 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1157 bytes_read=17100 bytes_retransmit=9 bytes_invalid=0 send_seq=152 receive_seq=152 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974260 adj=47969163 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1151 bytes_read=17065 bytes_retransmit=9 bytes_invalid=0 send_seq=151 receive_seq=151 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48009749 adj=48000226 Octopus_Max: temp=30.6 Pi: temp=30.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.4 2209_M3: temp=25.5 5160_M4: temp=27.1 5160_M5: temp=27.2 5160_M6: temp=26.8 5160_M7: temp=27.1 2209_M8: temp=25.4 Stepper_back_left: temp=24.6 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.7 sysload=0.23 cputime=5.888 memavail=7501752 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 179.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=30 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000014 mcu_task_stddev=0.000017 bytes_write=1107 bytes_read=5768 bytes_retransmit=0 bytes_invalid=0 send_seq=159 receive_seq=159 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999451 adj=49996322 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1163 bytes_read=17446 bytes_retransmit=9 bytes_invalid=0 send_seq=153 receive_seq=153 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974179 adj=47968905 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1157 bytes_read=17441 bytes_retransmit=9 bytes_invalid=0 send_seq=152 receive_seq=152 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48009543 adj=48000030 Octopus_Max: temp=30.6 Pi: temp=31.2  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.3 2209_M3: temp=25.5 5160_M4: temp=27.1 5160_M5: temp=27.2 5160_M6: temp=26.9 5160_M7: temp=27.3 2209_M8: temp=24.9 Stepper_back_left: temp=24.5 Stepper_back_right: temp=25.0 Stepper_front_left: temp=24.8 Stepper_front_right: temp=24.8 sysload=0.23 cputime=5.928 memavail=7501760 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 180.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=31 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000020 mcu_task_stddev=0.000021 bytes_write=1113 bytes_read=5796 bytes_retransmit=0 bytes_invalid=0 send_seq=160 receive_seq=160 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999458 adj=49996383 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1169 bytes_read=17777 bytes_retransmit=9 bytes_invalid=0 send_seq=154 receive_seq=154 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974095 adj=47968661 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1163 bytes_read=17742 bytes_retransmit=9 bytes_invalid=0 send_seq=153 receive_seq=153 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48009341 adj=47999692 Octopus_Max: temp=30.6 Pi: temp=31.2  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.0 2209_M2: temp=25.3 2209_M3: temp=25.5 5160_M4: temp=27.1 5160_M5: temp=26.7 5160_M6: temp=26.8 5160_M7: temp=27.2 2209_M8: temp=25.3 Stepper_back_left: temp=24.6 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.6 Stepper_front_right: temp=24.9 sysload=0.21 cputime=5.967 memavail=7501760 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 181.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=32 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000020 mcu_task_stddev=0.000021 bytes_write=1119 bytes_read=5811 bytes_retransmit=0 bytes_invalid=0 send_seq=161 receive_seq=161 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999468 adj=49996390 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1175 bytes_read=18063 bytes_retransmit=9 bytes_invalid=0 send_seq=155 receive_seq=155 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47974012 adj=47968424 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1169 bytes_read=18028 bytes_retransmit=9 bytes_invalid=0 send_seq=154 receive_seq=154 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48009156 adj=47999394 Octopus_Max: temp=30.6 Pi: temp=30.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.3 2209_M3: temp=25.4 5160_M4: temp=27.0 5160_M5: temp=27.1 5160_M6: temp=26.8 5160_M7: temp=27.2 2209_M8: temp=25.1 Stepper_back_left: temp=25.0 Stepper_back_right: temp=25.1 Stepper_front_left: temp=25.0 Stepper_front_right: temp=24.7 sysload=0.21 cputime=6.003 memavail=7501760 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 182.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=33 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000020 mcu_task_stddev=0.000021 bytes_write=1125 bytes_read=5826 bytes_retransmit=0 bytes_invalid=0 send_seq=162 receive_seq=162 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999481 adj=49996423 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1181 bytes_read=18409 bytes_retransmit=9 bytes_invalid=0 send_seq=156 receive_seq=156 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47973939 adj=47968231 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1175 bytes_read=18404 bytes_retransmit=9 bytes_invalid=0 send_seq=155 receive_seq=155 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48008969 adj=47999264 Octopus_Max: temp=30.6 Pi: temp=30.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.2 2209_M2: temp=25.3 2209_M3: temp=25.3 5160_M4: temp=27.0 5160_M5: temp=27.0 5160_M6: temp=26.8 5160_M7: temp=27.2 2209_M8: temp=24.7 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.9 Stepper_front_left: temp=24.6 Stepper_front_right: temp=24.8 sysload=0.21 cputime=6.042 memavail=7501768 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 183.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=34 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000020 mcu_task_stddev=0.000021 bytes_write=1131 bytes_read=5841 bytes_retransmit=0 bytes_invalid=0 send_seq=163 receive_seq=163 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999484 adj=49996475 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1187 bytes_read=18725 bytes_retransmit=9 bytes_invalid=0 send_seq=157 receive_seq=157 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47973863 adj=47968142 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1181 bytes_read=18690 bytes_retransmit=9 bytes_invalid=0 send_seq=156 receive_seq=156 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48008783 adj=47999073 Octopus_Max: temp=30.6 Pi: temp=31.6  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.3 2209_M2: temp=25.3 2209_M3: temp=25.6 5160_M4: temp=27.1 5160_M5: temp=27.0 5160_M6: temp=26.8 5160_M7: temp=27.2 2209_M8: temp=25.1 Stepper_back_left: temp=24.7 Stepper_back_right: temp=24.7 Stepper_front_left: temp=24.8 Stepper_front_right: temp=24.9 sysload=0.21 cputime=6.076 memavail=7495468 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 184.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=35 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000020 mcu_task_stddev=0.000021 bytes_write=1137 bytes_read=5856 bytes_retransmit=0 bytes_invalid=0 send_seq=164 receive_seq=164 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999481 adj=49996431 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1193 bytes_read=19011 bytes_retransmit=9 bytes_invalid=0 send_seq=158 receive_seq=158 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47973789 adj=47968021 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1187 bytes_read=18976 bytes_retransmit=9 bytes_invalid=0 send_seq=157 receive_seq=157 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48008589 adj=47998872 Octopus_Max: temp=30.6 Pi: temp=31.6  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.1 2209_M2: temp=25.1 2209_M3: temp=25.5 5160_M4: temp=27.1 5160_M5: temp=27.0 5160_M6: temp=26.8 5160_M7: temp=27.1 2209_M8: temp=25.2 Stepper_back_left: temp=25.0 Stepper_back_right: temp=24.7 Stepper_front_left: temp=24.8 Stepper_front_right: temp=24.9 sysload=0.21 cputime=6.091 memavail=7502024 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 185.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=36 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000016 mcu_task_stddev=0.000020 bytes_write=1149 bytes_read=5901 bytes_retransmit=0 bytes_invalid=0 send_seq=166 receive_seq=166 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999475 adj=49996327 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1199 bytes_read=19372 bytes_retransmit=9 bytes_invalid=0 send_seq=159 receive_seq=159 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47973718 adj=47967926 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1193 bytes_read=19367 bytes_retransmit=9 bytes_invalid=0 send_seq=158 receive_seq=158 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48008400 adj=47998576 Octopus_Max: temp=30.6 Pi: temp=31.6  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.2 2209_M2: temp=25.2 2209_M3: temp=25.2 5160_M4: temp=27.1 5160_M5: temp=27.0 5160_M6: temp=26.8 5160_M7: temp=27.1 2209_M8: temp=25.1 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.6 Stepper_front_right: temp=24.8 sysload=0.20 cputime=6.108 memavail=7502124 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 186.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=37 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000016 mcu_task_stddev=0.000020 bytes_write=1155 bytes_read=5917 bytes_retransmit=0 bytes_invalid=0 send_seq=167 receive_seq=167 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999472 adj=49996220 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1205 bytes_read=19688 bytes_retransmit=9 bytes_invalid=0 send_seq=160 receive_seq=160 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47973649 adj=47967855 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1199 bytes_read=19653 bytes_retransmit=9 bytes_invalid=0 send_seq=159 receive_seq=159 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48008206 adj=47998326 Octopus_Max: temp=30.6 Pi: temp=30.7  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.0 2209_M2: temp=25.1 2209_M3: temp=25.5 5160_M4: temp=26.9 5160_M5: temp=27.1 5160_M6: temp=26.5 5160_M7: temp=27.2 2209_M8: temp=25.1 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.9 sysload=0.20 cputime=6.123 memavail=7502124 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 187.3: gcodein=0  mcu: mcu_awake=0.000 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9457 bytes_read=15927 bytes_retransmit=9 bytes_invalid=0 send_seq=662 receive_seq=662 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=38 freq=400026697 rpi: mcu_awake=0.001 mcu_task_avg=0.000016 mcu_task_stddev=0.000020 bytes_write=1161 bytes_read=5933 bytes_retransmit=0 bytes_invalid=0 send_seq=168 receive_seq=168 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999471 adj=49996165 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1211 bytes_read=19974 bytes_retransmit=9 bytes_invalid=0 send_seq=161 receive_seq=161 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47973582 adj=47967801 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=1205 bytes_read=19939 bytes_retransmit=9 bytes_invalid=0 send_seq=160 receive_seq=160 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=48008018 adj=47998016 Octopus_Max: temp=30.6 Pi: temp=32.6  heater_bed: target=0 temp=25.4 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.9 2209_M1: temp=25.2 2209_M2: temp=25.3 2209_M3: temp=24.7 5160_M4: temp=27.1 5160_M5: temp=27.0 5160_M6: temp=26.9 5160_M7: temp=27.1 2209_M8: temp=25.2 Stepper_back_left: temp=24.7 Stepper_back_right: temp=24.9 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.9 sysload=0.20 cputime=6.138 memavail=7502124 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Unable to issue reset command on MCU 'mcu'
Attempting MCU 'rpi' config_reset command
b'Got EOF when reading from device'
Attempting MCU 'thermexp1' reset command
b'Got EOF when reading from device'
Attempting MCU 'thermexp2' reset command
webhooks client 4121618944: Disconnected
Restarting printer
Start printer at Fri Apr 26 02:48:33 2024 (1714096113.9 302.0)
===== Config file =====
[board_pins octopus_max_ez_tmc2209]
aliases = 
	
	
	motor_1_step=PC13, motor_1_dir=PC14, motor_1_enable=PE6, motor_1_uart=PG14,
	motor_2_step=PE4, motor_2_dir=PE5, motor_2_enable=PE3, motor_2_uart=PG13,
	motor_3_step=PE1, motor_3_dir=PE0, motor_3_enable=PE2, motor_3_uart=PG12,
	motor_4_step=PB8, motor_4_dir=PB9, motor_4_enable=PB7, motor_4_uart=PG11,
	motor_5_step=PB5, motor_5_dir=PB4, motor_5_enable=PB6, motor_5_uart=PG10,
	motor_6_step=PG15, motor_6_dir=PB3, motor_6_enable=PD5, motor_6_uart=PG9,
	motor_7_step=PD3, motor_7_dir=PD2, motor_7_enable=PD4, motor_7_uart=PD7,
	motor_8_step=PA10, motor_8_dir=PA9, motor_8_enable=PA15, motor_8_uart=PD6,
	motor_9_step=PA8, motor_9_dir=PC7, motor_9_enable=PC9, motor_9_uart=PG8,
	motor_10_step=PG6, motor_10_dir=PC6, motor_10_enable=PC8, motor_10_uart=PG7,
	
	stepper_spi_mosi=PE14, stepper_spi_miso=PE13, stepper_spi_sclk=PE12,
	
	
	heater_e0=PF6, heater_e1=PA3, heater_e2=PF9, heater_e3=PF7, heater_bed=PF5,
	
	
	thermistor_e0=PB0, thermistor_e1=PC5, thermistor_e2=PC4, thermistor_e3=PA7, thermistor_bed=PB1,
	
	
	endstop_motor_1=PF0, endstop_motor_2=PF2, endstop_motor_3=PF4, det_motor_4=PF3, det_motor_5=PF1, det_motor_6=PC15,
	
	
	fan_0=PA6, fan_1=PA5, fan_2=PA4, fan_3=PA3,
	fan_4_pwm=PA1, fan_4_tach=PC3, fan_5_pwm=PF8, fan_5_tach=PC1, fan_6_pwm=PA2, fan_6_tach=PC2,
	
	
	rgb_led_1=PE10, rgb_led_2=PE9,
	
	
	ps_on=PF13, pwr_det=PF12,
	
	
	bltouch_servo=PB14, bltouch_probe=PB15,
	
	
	proximity_probe=PF11,
	
	
	filament_sensor_adc1=PC0, filament_sensor_adc2=PF10,
	
	
	eeprom_scl=PB10, eeprom_sda=PB11,
	
	
	can_rx=PD0, can_tx=PD1,
	
	
	tft_uart_rx=PD9, tft_uart_tx=PD8,
	
	
	usb_dm=PA11, usb_dp=PA12,
	
	
	lcd_d7=PE15, lcd_d6=PD10, lcd_d5=PD11, lcd_d4=PD12, lcd_rs=PD13, lcd_en=PD14, lcd_buzzer=PG2, lcd_enc=PD15,
	lcd_reset=RESET, sd_detect=PG3,
	
	
	tmc_spi_cs=PF14, tmc_spi_mosi=PE14, tmc_spi_miso=PE13, tmc_spi_sclk=PE12,
	
	
	wifi_reset=PB2, wifi_io0=PG0, wifi_io4=PF15, wifi_rx=PE7, wifi_tx=PE8, wifi_cs=PG15, wifi_mosi=PC12, wifi_miso=PC11, wifi_sclk=PC10,

[mcu]
baud = 250000
serial = /dev/btt-octopus-max-ez

[temperature_sensor Octopus_Max]
sensor_type = temperature_mcu
min_temp = 0
max_temp = 100

[mcu rpi]
serial = /tmp/klipper_host_mcu

[temperature_sensor Pi]
sensor_type = temperature_host
min_temp = 0
max_temp = 100

[mcu thermexp1]
serial = /dev/serial/by-id/usb-Klipper_stm32f042x6_260038001743303358333420-if00
restart_method = command

[mcu thermexp2]
serial = /dev/serial/by-id/usb-Klipper_stm32f042x6_250028001743303358333420-if00
restart_method = command

[idle_timeout]
gcode = 
	{% if printer.webhooks.state|lower == 'ready' %}
	{% if printer.pause_resume.is_paused|lower == 'false' %}
	M117 Idle timeout reached
	TURN_OFF_HEATERS
	M84
	{% endif %}
	{% endif %}
timeout = 7200

[skew_correction]

[input_shaper]
shaper_type_x = ei
shaper_freq_x = 101.2
shaper_type_y = mzv
shaper_freq_y = 72.8

[virtual_sdcard]
path = ~/printer_data/gcodes

[display_status]

[pause_resume]

[force_move]
enable_force_move = True

[respond]

[exclude_object]

[gcode_arcs]
resolution = 0.3

[heater_bed]
heater_pin = heater_bed
sensor_type = temperature_combined
sensor_list = temperature_sensor bed_mat, temperature_sensor bed_core
combination_method = mean
maximum_deviation = 999999
min_temp = 0
max_temp = 140
pwm_cycle_time = 0.02
control = pid
pid_kp = 55.540
pid_ki = 1.448
pid_kd = 532.581

[temperature_sensor bed_mat]
sensor_pin = thermistor_bed
sensor_type = Generic 3950
min_temp = 0
max_temp = 150

[temperature_sensor bed_core]
sensor_pin = thermistor_e0
sensor_type = PT1000
pullup_resistor = 2200
min_temp = 0
max_temp = 150

[printer]
kinematics = corexy
max_velocity = 800
max_accel = 12000
minimum_cruise_ratio = 0.5
max_z_velocity = 20
max_z_accel = 150
square_corner_velocity = 5

[ratos_homing]
axes = xyz
z_hop = 15
z_hop_speed = 15
gcode = 
	{% set x_homed = 'x' in printer.toolhead.homed_axes %}
	{% set y_homed = 'y' in printer.toolhead.homed_axes %}
	{% set safe_home_x = printer["gcode_macro RatOS"].safe_home_x %}
	{% set safe_home_y = printer["gcode_macro RatOS"].safe_home_y %}
	{% if safe_home_x is not defined or safe_home_x|lower == 'middle' %}
	{% set safe_home_x = printer.toolhead.axis_maximum.x / 2 %}
	{% endif %}
	{% if safe_home_y is not defined or safe_home_y|lower == 'middle' %}
	{% set safe_home_y = printer.toolhead.axis_maximum.y / 2 %}
	{% endif %}
	{% set z_probe = printer["gcode_macro RatOS"].z_probe|lower %}
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set z_speed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	{% set z_hop = printer.configfile.config.ratos_homing.z_hop|float %}
	{% set z_hop_speed = printer.configfile.config.ratos_homing.z_hop_speed|float * 60 %}
	{% set homing_x = printer["gcode_macro RatOS"].homing_x|lower %}
	{% set homing_y = printer["gcode_macro RatOS"].homing_y|lower %}
	{% set homing = printer["gcode_macro RatOS"].homing|lower %}
	{% set prev_stop_on_error = printer["gcode_macro RatOS"].stowable_probe_stop_on_error %}
	
	
	SET_GCODE_VARIABLE MACRO=RatOS VARIABLE=stowable_probe_stop_on_error VALUE=True
	
	M400
	G90
	
	{% if params.X is defined or params.Y is not defined and params.Z is not defined %}
	RESPOND MSG="Homing X"
	{% if homing_x == 'endstop' or homing == 'endstops' %}
	G28 X
	{% elif homing_x == 'sensorless' or homing == 'sensorless' %}
	HOME_X_SENSORLESS
	{% else %}
	{ action_emergency_stop("expected RatOS variable_homing_x to be 'sensorless' 'endstop' or variable_homing to be 'sensorless' or 'endstops' but found {} and {}".format(homing_x, homing)) }
	{% endif %}
	{% set x_homed = True %}
	G0 X{safe_home_x} F{speed}
	M400
	{% endif %}
	
	{% if params.Y is defined or params.X is not defined and params.Z is not defined %}
	RESPOND MSG="Homing Y"
	{% if homing_y == 'endstop' or homing == 'endstops' %}
	G28 Y
	{% elif homing_y == 'sensorless' or homing == 'sensorless' %}
	HOME_Y_SENSORLESS
	{% else %}
	{ action_emergency_stop("expected RatOS variable_homing_y to be 'sensorless' 'endstop' or variable_homing to be 'sensorless' or 'endstops' but found {} and {}".format(homing_y, homing)) }
	{% endif %}
	{% set y_homed = True %}
	G0 Y{safe_home_y} F{speed}
	M400
	{% endif %}
	
	{% if params.Z is defined or params.Y is not defined and params.X is not defined %}
	RESPOND MSG="Homing Z"
	{% if x_homed == False or y_homed == False %}
	M118 X and Y must be homed before homing Z
	{ action_emergency_stop("X and Y must be homed before homing Z") }
	{% else %}
	{% if z_probe == "stowable" %}
	DEPLOY_PROBE
	G0 X{safe_home_x} Y{safe_home_y} F{speed}
	G28 Z
	G0 Z{z_hop} F{z_hop_speed}
	STOW_PROBE
	{% else %}
	G0 X{safe_home_x} Y{safe_home_y} F{speed}
	G28 Z
	G0 Z{z_hop} F{z_hop_speed}
	{% endif %}
	{% endif %}
	{% endif %}
	
	
	SET_GCODE_VARIABLE MACRO=RatOS VARIABLE=stowable_probe_stop_on_error VALUE={prev_stop_on_error}

[gcode_macro HOME_X_SENSORLESS]
gcode = 
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set x_driver = printer["gcode_macro RatOS"].driver_type_x|lower ~ " stepper_x" %}
	{% set y_driver = printer["gcode_macro RatOS"].driver_type_y|lower ~ " stepper_y" %}
	{% set safe_home_x = printer["gcode_macro RatOS"].safe_home_x %}
	{% if safe_home_x is not defined or safe_home_x|lower == 'middle' %}
	{% set safe_home_x = printer.toolhead.axis_maximum.x / 2 %}
	{% endif %}
	M204 S1000
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={printer["gcode_macro RatOS"].sensorless_x_current}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={printer["gcode_macro RatOS"].sensorless_x_current}
	G4 P300
	G28 X
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={printer.configfile.config[x_driver].run_current}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={printer.configfile.config[y_driver].run_current}
	G4 P300
	
	M204 S{printer.configfile.config.printer.max_accel}

[gcode_macro HOME_Y_SENSORLESS]
gcode = 
	{% set safe_home_y = printer["gcode_macro RatOS"].safe_home_y %}
	{% set x_driver = printer["gcode_macro RatOS"].driver_type_x|lower ~ " stepper_x" %}
	{% set y_driver = printer["gcode_macro RatOS"].driver_type_y|lower ~ " stepper_y" %}
	{% if safe_home_y is not defined or safe_home_y|lower == 'middle' %}
	{% set safe_home_y = printer.toolhead.axis_maximum.y / 2 %}
	{% endif %}
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	M204 S1000
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={printer["gcode_macro RatOS"].sensorless_y_current}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={printer["gcode_macro RatOS"].sensorless_y_current}
	G4 P300
	G28 Y
	SET_TMC_CURRENT STEPPER=stepper_x CURRENT={printer.configfile.config[x_driver].run_current}
	SET_TMC_CURRENT STEPPER=stepper_y CURRENT={printer.configfile.config[y_driver].run_current}
	G4 P300
	
	M204 S{printer.configfile.config.printer.max_accel}

[gcode_macro MAYBE_HOME]
description = Only home unhomed axis
variable_is_kinematic_position_overriden = False
gcode = 
	{% if printer["gcode_macro MAYBE_HOME"].is_kinematic_position_overriden|lower == 'true' %}
	RESPOND MSG="SET_CENTER_KINEMATIC_POSITION has been abused. Homing all axes. Please refrain from using SET_CENTER_KINEMATIC_POSITION outside of debugging purposes."
	G28
	SET_GCODE_VARIABLE MACRO=MAYBE_HOME VARIABLE=is_kinematic_position_overriden VALUE=False
	{% else %}
	{% set axes = '' %}
	{% set isHomed = true %}
	{% set axesToHome = '' %}
	{% if params.X is defined %}
	{% set axes = axes ~ 'X ' %}
	{% if 'x' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'X ' %}
	{% endif %}
	{% endif %}
	{% if params.Y is defined %}
	{% set axes = axes ~ 'Y ' %}
	{% if 'y' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'Y ' %}
	{% endif %}
	{% endif %}
	{% if params.Z is defined %}
	{% set axes = axes ~ 'Z ' %}
	{% if 'z' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'Z ' %}
	{% endif %}
	{% endif %}
	{% if params.X is not defined and params.Y is not defined and params.Z is not defined %}
	{% set axes = '' %}
	{% if 'x' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'X ' %}
	{% endif %}
	{% if 'y' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'Y ' %}
	{% endif %}
	{% if 'z' not in printer.toolhead.homed_axes %}
	{% set isHomed = false %}
	{% set axesToHome = axesToHome ~ 'Z ' %}
	{% endif %}
	{% endif %}
	{% if isHomed is false %}
	M117 Homing {axesToHome}
	RESPOND MSG="Homing {axesToHome}"
	G28 {axesToHome}
	{% else %}
	RESPOND MSG="All requested axes already homed, skipping.."
	{% endif %}
	{% endif %}

[gcode_macro ECHO_RATOS_VARS]
description = Echo RatOS variables to the console.
gcode = 
	{% for var, value in printer["gcode_macro RatOS"].items() %}
	{action_respond_info(var ~ ": " ~ value)}
	{% endfor %}

[gcode_macro PAUSE]
description = Pauses the printer
rename_existing = PAUSE_BASE
variable_extrude = 1.5
gcode = 
	SAVE_GCODE_STATE NAME=PAUSE_state
	
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set z_speed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% if act_z < (max_z - 20.0) %}
	{% set z_safe = 20.0 %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	PAUSE_BASE
	G91
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G1 E-{E} F2100
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	
	{% if "xyz" in printer.toolhead.homed_axes %}
	G1 Z{z_safe} F{z_speed}
	_PARK LOCATION={printer["gcode_macro RatOS"].pause_print_park_in} X={printer["gcode_macro RatOS"].pause_print_park_x}
	{% else %}
	{action_respond_info("Printer not homed")}
	{% endif %}

[gcode_macro RESUME]
description = Resumes the print if the printer is paused.
rename_existing = RESUME_BASE
gcode = 
	{% set E = printer["gcode_macro PAUSE"].extrude|float %}
	
	{% if printer.extruder.can_extrude|lower == 'true' %}
	G91
	G1 E{E} F2100
	G90
	{% else %}
	{action_respond_info("Extruder not hot enough")}
	{% endif %}
	RESTORE_GCODE_STATE NAME=PAUSE_state MOVE=1 MOVE_SPEED={printer["gcode_macro RatOS"].macro_travel_speed|float}
	RESUME_BASE

[gcode_macro CANCEL_PRINT]
description = Cancels the printer
rename_existing = CANCEL_PRINT_BASE
gcode = 
	END_PRINT
	FILDET_DISABLE
	TURN_OFF_HEATERS
	CLEAR_PAUSE
	
	CANCEL_PRINT_BASE
	RESPOND COLOR=error MSG="Print cancelled"
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30

[gcode_macro PRIME_LINE]
description = Prints a primeline, used internally, if configured, as part of the START_PRINT macro.
gcode = 
	SAVE_GCODE_STATE NAME=prime_line_state
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set z_speed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'min' %}
	{% set x_start = 5 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'max' %}
	{% set x_start = printer.toolhead.axis_maximum.x - 5 %}
	{% else %}
	{% set x_start = printer["gcode_macro RatOS"].nozzle_prime_start_x|float %}
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'min' %}
	{% set y_start = 5 %}
	{% set y_factor = 1 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'max' %}
	{% set y_start = printer.toolhead.axis_maximum.y - 5 %}
	{% set y_factor = -1 %}
	{% else %}
	{% set y_start = printer["gcode_macro RatOS"].nozzle_prime_start_y|float %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_y|float < printer.toolhead.axis_maximum.y / 2 %}
	{% set y_factor = 1 %}
	{% else %}
	{% set y_factor = -1 %}
	{% endif %}
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_direction|lower == 'forwards' %}
	{% set y_factor = 1 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_direction|lower == 'backwards' %}
	{% set y_factor = -1 %}
	{% endif %}
	{% set z = printer["gcode_macro RatOS"].start_print_park_z_height|float %}
	
	G90
	
	M82
	M117 Priming nozzle with prime line..
	RESPOND MSG="Priming nozzle with prime line.."
	
	G0 Z{z} F{z_speed}
	
	G1 X{x_start} F{speed}
	G1 Y{y_start} F{speed}
	
	G1 Z0.3 F{z_speed}
	
	G92 E0
	
	G1 Y{y_start + (70 * y_factor)} E16 F1200
	
	G1 Y{y_start + (90 * y_factor)} F{speed}
	RESTORE_GCODE_STATE NAME=prime_line_state

[gcode_macro PRIME_BLOB]
description = Prints a primeblob, used internally, if configured, as part of the START_PRINT macro. Slower than PRIME_LINE but much more effective.
gcode = 
	SAVE_GCODE_STATE NAME=prime_blob_state
	M117 Priming nozzle with prime blob..
	RESPOND MSG="Priming nozzle with prime blob.."
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set z_speed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	{% set fan_speed = printer["gcode_macro RatOS"].nozzle_prime_bridge_fan|float %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'min' %}
	{% set x_start = 5 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'max' %}
	{% set x_start = printer.toolhead.axis_maximum.x - 5 %}
	{% else %}
	{% set x_start = printer["gcode_macro RatOS"].nozzle_prime_start_x|float %}
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'min' %}
	{% set y_start = 5 %}
	{% set y_factor = 1 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'max' %}
	{% set y_start = printer.toolhead.axis_maximum.y - 5 %}
	{% set y_factor = -1 %}
	{% else %}
	{% set y_start = printer["gcode_macro RatOS"].nozzle_prime_start_y|float %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_y|float < printer.toolhead.axis_maximum.y / 2 %}
	{% set y_factor = 1 %}
	{% else %}
	{% set y_factor = -1 %}
	{% endif %}
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_direction|lower == 'forwards' %}
	{% set y_factor = 1 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_direction|lower == 'backwards' %}
	{% set y_factor = -1 %}
	{% endif %}
	{% set z = printer["gcode_macro RatOS"].start_print_park_z_height|float %}
	
	G90
	
	M83
	
	G0 Z{z} F{z_speed}
	
	G1 X{x_start} F{speed}
	G1 Y{y_start + (15 * y_factor)} F{speed}
	
	G1 Z0.5 F{z_speed}
	
	G1 Y{y_start} F{speed}
	
	G1 F60 E20
	
	M106 S{fan_speed}
	
	G1 Z5 F100 E5
	
	G1 F200 Y{y_start + (25 * y_factor)} E1
	
	
	
	G1 F200 Y{y_start + (30 * y_factor)} Z3.8 E0.5
	G1 F200 Y{y_start + (35 * y_factor)} Z2.6 E0.5
	G1 F200 Y{y_start + (40 * y_factor)} Z1.4 E0.5
	G1 F200 Y{y_start + (45 * y_factor)} Z0.2 E0.5
	
	M106 S0
	
	G1 F200 Y{y_start + (50 * y_factor)} Z0.2 E0.6
	
	G1 F{speed} Y{y_start + (100 * y_factor)}
	RESTORE_GCODE_STATE NAME=prime_blob_state

[gcode_macro _PARK]
gcode = 
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	
	{% if params.X != '' %}
	{% if params.X|float >= printer.toolhead.axis_minimum.x + 5 and params.X|float <= printer.toolhead.axis_maximum.x - 5 %}
	{% set safe_x = params.X|float %}
	{% else %}
	{action_respond_info('The requested X co-ordinate is outside the defined axis bounds - using defaults')}
	{% set safe_x = printer.toolhead.axis_maximum.x / 2 %}
	{% endif %}
	{% else %}
	{% set safe_x = printer.toolhead.axis_maximum.x / 2 %}
	{% endif %}
	
	{% if params.LOCATION|default('back')|lower == 'back' %}
	{% set y = printer.toolhead.axis_maximum.y - 5 %}
	{% elif params.LOCATION|lower == 'front' %}
	{% set y = printer.toolhead.axis_minimum.y + 5 %}
	{% elif params.LOCATION|lower == 'center' %}
	{% set y = printer.toolhead.axis_maximum.y / 2 %}
	{% endif %}
	
	G90
	
	G0 X{safe_x} Y{y} F{speed}

[gcode_macro M600]
description = Executes a color change by pausing the printer an unloading the filament.
gcode = 
	PAUSE
	UNLOAD_FILAMENT
	M117 Please load new filament and resume
	RESPOND MSG="Please load new filament and resume"

[gcode_macro UNLOAD_FILAMENT]
description = Unloads the filament. Note: be careful with PETG, make sure you inspect the tip of your filament before reloading to avoid jams.
gcode = 
	SAVE_GCODE_STATE NAME=unload_state
	G91
	{% if params.TEMP is defined or printer.extruder.can_extrude|lower == 'false' %}
	M117 Heating...
	
	M104 S{params.TEMP|default(220, true)}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={params.TEMP|default(220, true)}
	{% endif %}
	{% set unload_speed = printer["gcode_macro RatOS"].filament_unload_speed|float * 60 %}
	{% set unload_length = printer["gcode_macro RatOS"].filament_unload_length|float %}
	M117 Unloading filament...
	
	G0 E10 F300
	
	G0 E-5 F3600
	
	G4 P3000
	
	G0 E5 F3600
	
	G0 E-15 F3600
	
	G0 E-{unload_length} F{unload_speed}
	M117 Filament unloaded!
	RESPOND MSG="Filament unloaded! Please inspect the tip of the filament before reloading."
	RESTORE_GCODE_STATE NAME=unload_state

[gcode_macro LOAD_FILAMENT]
description = Loads new filament. Note: be careful with PETG, make sure you inspect the tip of your filament before loading to avoid jams.
gcode = 
	SAVE_GCODE_STATE NAME=load_state
	G91
	
	{% if params.TEMP is defined or printer.extruder.can_extrude|lower == 'false' %}
	M117 Heating...
	M104 S{params.TEMP|default(220, true)}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={params.TEMP|default(220, true)}
	{% endif %}
	{% set load_speed = printer["gcode_macro RatOS"].filament_load_speed|float * 60 %}
	{% set load_length = printer["gcode_macro RatOS"].filament_load_length|float %}
	M117 Loading filament...
	
	G0 E{load_length} F{load_speed}
	
	G4 P1000
	
	G0 E40 F100
	
	M400
	M117 Filament loaded!
	RESPOND MSG="Filament loaded!"
	RESTORE_GCODE_STATE NAME=load_state

[gcode_macro SET_CENTER_KINEMATIC_POSITION]
description = FOR DEBUGGING PURPOSES ONLY. Sets the internal printer kinematic state to the center of all axes regardless of actual physical position.
gcode = 
	RESPOND MSG="WARNING: ONLY USE SET_CENTER_KINEMATIC_POSITION FOR DEBUGGING PURPOSES. YOU'RE OVERRIDING THE INTERNAL POSITIONING STATE OF THE PRINTER. PROCEED WITH CAUTION AND DO A PROPER G28 WHEN DONE."
	SET_GCODE_VARIABLE MACRO=MAYBE_HOME VARIABLE=is_kinematic_position_overriden VALUE=True
	SET_KINEMATIC_POSITION X={printer.toolhead.axis_maximum.x / 2} Y={printer.toolhead.axis_maximum.y / 2} Z={printer.toolhead.axis_maximum.z / 2}

[gcode_macro START_PRINT]
description = Start print procedure, use this in your Slicer.
gcode = 
	CLEAR_PAUSE
	FILDET_ENABLE
	{% if printer["gcode_macro RatOS"].force_absolute_position|lower == 'true' %}
	G90
	{% endif %}
	SAVE_GCODE_STATE NAME=start_print_state
	
	G21
	
	G90
	
	M82
	_USER_START_PRINT_BEFORE_HOMING
	{% if printer["gcode_macro RatOS"].z_probe|lower == 'stowable' %}
	STOWABLE_PROBE_BEGIN_BATCH
	{% endif %}
	
	MAYBE_HOME
	{% if params.CHAMBER_TEMP is defined %}
	_START_PRINT_HEAT_CHAMBER CHAMBER_TEMP={params.CHAMBER_TEMP} BED_TEMP={printer["gcode_macro RatOS"].start_print_heat_chamber_bed_temp}
	_USER_START_PRINT_HEAT_CHAMBER CHAMBER_TEMP={params.CHAMBER_TEMP} BED_TEMP={printer["gcode_macro RatOS"].start_print_heat_chamber_bed_temp}
	{% endif %}
	M117 Heating bed...
	RESPOND MSG="Heating bed..."
	
	M190 S{params.BED_TEMP|default(printer.heater_bed.target, true) }
	
	_USER_START_PRINT_AFTER_HEATING_BED
	
	_START_PRINT_AFTER_HEATING_BED
	
	_USER_START_PRINT_BED_MESH
	
	_START_PRINT_BED_MESH X0={params.X0} X1={params.X1} Y0={params.Y0} Y1={params.Y1}
	{% if printer["gcode_macro RatOS"].z_probe|lower == 'stowable' %}
	STOWABLE_PROBE_END_BATCH
	{% endif %}
	
	M104 S{params.EXTRUDER_TEMP|default(printer.extruder.target, true) }
	
	_USER_START_PRINT_PARK
	
	_START_PRINT_PARK
	
	M117 Heating Extruder...
	RESPOND MSG="Heating Extruder..."
	M109 S{params.EXTRUDER_TEMP|default(printer.extruder.target, true) }
	
	_USER_START_PRINT_AFTER_HEATING_EXTRUDER
	
	_START_PRINT_AFTER_HEATING_EXTRUDER
	M117 Printing...
	RESPOND MSG="Printing..."
	RESTORE_GCODE_STATE NAME=start_print_state
	
	{% if printer["gcode_macro RatOS"].relative_extrusion|lower == 'true' %}
	M83
	{% else %}
	M82
	{% endif %}
	G92 E0

[gcode_macro _USER_START_PRINT_BEFORE_HOMING]
gcode = 

[gcode_macro _START_PRINT_AFTER_HEATING_BED]
gcode = 
	{% if printer["gcode_macro RatOS"].preheat_extruder|lower == 'true' %}
	{% set min_temp = printer["gcode_macro RatOS"].preheat_extruder_temp|float %}
	{% set max_temp = printer["gcode_macro RatOS"].preheat_extruder_temp|float + 5 %}
	M117 Pre-heating extruder...
	RESPOND MSG="Pre-heating extruder..."
	
	
	M104 S{min_temp}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={min_temp} MAXIMUM={max_temp}
	{% endif %}
	M117 Adjusting Z tilt...
	RESPOND MSG="Adjusting Z tilt..."
	
	Z_TILT_ADJUST
	M117 Rehoming Z after Z tilt adjustment...
	RESPOND MSG="Rehoming Z after Z tilt adjustment..."
	
	G28 Z

[gcode_macro Z_TILT_ADJUST]
rename_existing = Z_TILT_ADJUST_ORIG
gcode = 
	{% if printer["gcode_macro RatOS"].z_probe == 'stowable' %}
	DEPLOY_PROBE
	{% endif %}
	Z_TILT_ADJUST_ORIG
	{% if printer["gcode_macro RatOS"].z_probe == 'stowable' %}
	STOW_PROBE
	{% endif %}

[gcode_macro _USER_START_PRINT_AFTER_HEATING_BED]
gcode = 
	{% if printer["gcode_macro RatOS"].bed_soak|lower == 'true' %}
	G4 P{printer["gcode_macro RatOS"].bed_soak_time}
	{% endif %}

[gcode_macro _START_PRINT_BED_MESH]
gcode = 
	{% set default_profile = printer["gcode_macro RatOS"].bed_mesh_profile|default('ratos') %}
	{% if printer["gcode_macro RatOS"].calibrate_bed_mesh|lower == 'true' %}
	BED_MESH_CLEAR
	{% if printer["gcode_macro RatOS"].adaptive_mesh|lower == 'true' %}
	CALIBRATE_ADAPTIVE_MESH PROFILE={default_profile} X0={params.X0} X1={params.X1} Y0={params.Y0} Y1={params.Y1}
	{% else %}
	BED_MESH_CALIBRATE PROFILE={default_profile}
	{% endif %}
	BED_MESH_PROFILE LOAD={default_profile}
	{% elif printer["gcode_macro RatOS"].bed_mesh_profile is defined %}
	BED_MESH_CLEAR
	BED_MESH_PROFILE LOAD={printer["gcode_macro RatOS"].bed_mesh_profile}
	{% endif %}

[gcode_macro _USER_START_PRINT_BED_MESH]
gcode = 

[gcode_macro _START_PRINT_PARK]
gcode = 
	{% set z = printer["gcode_macro RatOS"].start_print_park_z_height|float %}
	{% set zSpeed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	_PARK LOCATION={printer["gcode_macro RatOS"].start_print_park_in} X={printer["gcode_macro RatOS"].start_print_park_x}
	G0 Z{z} F{zSpeed}

[gcode_macro _USER_START_PRINT_PARK]
gcode = 

[gcode_macro _START_PRINT_AFTER_HEATING_EXTRUDER]
gcode = 
	{% set has_offset = printer["gcode_macro RatOS"].probe_for_priming_result|float(9999.9) != 9999.9 %}
	{% if has_offset %}
	ADD_PRIME_PROBE_TO_OFFSET
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_priming|lower == 'primeline' %}
	PRIME_LINE
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_priming|lower == 'primeblob' %}
	PRIME_BLOB
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_priming|lower == 'linepurge' %}
	LINE_PURGE
	{% endif %}
	{% if has_offset %}
	SUBTRACT_PRIME_PROBE_FROM_OFFSET
	{% endif %}
	{% if printer["gcode_macro RatOS"].skew_profile is defined %}
	SKEW_PROFILE LOAD={printer["gcode_macro RatOS"].skew_profile}
	{% endif %}

[gcode_macro _USER_START_PRINT_AFTER_HEATING_EXTRUDER]
gcode = 

[gcode_macro _START_PRINT_HEAT_CHAMBER]
description = Uses the extruder sensor to wait for chamber temp. Override the _START_PRINT_HEAT_CHAMBER macro to implement heated chamber handling.
gcode = 
	{% if params.CHAMBER_TEMP is defined and params.BED_TEMP is defined and params.CHAMBER_TEMP|int > 0 %}
	{% set z = printer["gcode_macro RatOS"].start_print_park_z_height|float %}
	{% set zSpeed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	G0 Z{z} F{zSpeed}
	M84
	M117 Heating chamber...
	RESPOND MSG="Heating chamber..."
	M140 S{params.BED_TEMP}
	TEMPERATURE_WAIT SENSOR=extruder MINIMUM={params.CHAMBER_TEMP}
	MAYBE_HOME
	{% endif %}

[gcode_macro _USER_START_PRINT_HEAT_CHAMBER]
description = Uses the extruder sensor to wait for chamber temp. Override the _START_PRINT_HEAT_CHAMBER macro to implement heated chamber handling.
gcode = 

[gcode_macro END_PRINT]
description = End print procedure, use this in your Slicer.
gcode = 
	FILDET_DISABLE
	SAVE_GCODE_STATE NAME=end_print_state
	_USER_END_PRINT_BEFORE_HEATERS_OFF
	_END_PRINT_BEFORE_HEATERS_OFF
	TURN_OFF_HEATERS
	_USER_END_PRINT_AFTER_HEATERS_OFF
	_END_PRINT_AFTER_HEATERS_OFF
	_USER_END_PRINT_PARK
	_END_PRINT_PARK
	
	{% if printer["gcode_macro RatOS"].skew_profile is defined %}
	SET_SKEW CLEAR=1
	{% endif %}
	
	M84
	
	M107
	
	BED_MESH_CLEAR
	BED_MESH_PROFILE REMOVE="ratos"
	M117 Done :)
	RESTORE_GCODE_STATE NAME=end_print_state
	RESPOND COLOR=success MSG="Print done"
	PRINT_DONE
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=30

[gcode_macro _END_PRINT_BEFORE_HEATERS_OFF]
gcode = 
	RESPOND MSG="Cleaning up..."

[gcode_macro _USER_END_PRINT_BEFORE_HEATERS_OFF]
gcode = 

[gcode_macro _END_PRINT_AFTER_HEATERS_OFF]
gcode = 
	
	{% set max_z = printer.toolhead.axis_maximum.z|float %}
	{% set act_z = printer.toolhead.position.z|float %}
	{% set z_hop = printer["gcode_macro RatOS"].end_print_park_z_hop|float %}
	{% if act_z < (max_z - z_hop) %}
	{% set z_safe = z_hop %}
	{% else %}
	{% set z_safe = max_z - act_z %}
	{% endif %}
	
	G91
	
	G1 E-2 F3600
	
	G0 Z{z_safe} F3600
	
	G1 E-2 F3600
	
	G90

[gcode_macro _USER_END_PRINT_AFTER_HEATERS_OFF]
gcode = 

[gcode_macro _END_PRINT_PARK]
gcode = 
	_PARK LOCATION={printer["gcode_macro RatOS"].end_print_park_in} X={printer["gcode_macro RatOS"].end_print_park_x}

[gcode_macro _USER_END_PRINT_PARK]
gcode = 

[gcode_macro SAVE_PROBE_RESULT]
gcode = 
	{% set last_z = printer.probe.last_z_result %}
	SET_GCODE_VARIABLE MACRO=RatOS VARIABLE={params.VARIABLE|default('last_z')} VALUE={last_z}

[gcode_macro PROBE_FOR_PRIMING]
gcode = 
	{% if printer["gcode_macro RatOS"].nozzle_priming|lower != 'false' %}
	SAVE_GCODE_STATE NAME=probe_for_priming_state
	RESPOND MSG="Probing the prime location.."
	{% set speed = printer["gcode_macro RatOS"].macro_travel_speed|float * 60 %}
	{% set z_speed = printer["gcode_macro RatOS"].macro_z_speed|float * 60 %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'min' %}
	{% set x_start = 5 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_x|lower == 'max' %}
	{% set x_start = printer.toolhead.axis_maximum.x - 5 %}
	{% else %}
	{% set x_start = printer["gcode_macro RatOS"].nozzle_prime_start_x|float %}
	{% endif %}
	{% if printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'min' %}
	{% set y_start = 5 %}
	{% elif printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == 'max' %}
	{% set y_start = printer.toolhead.axis_maximum.y - 5 %}
	{% else %}
	{% set y_start = printer["gcode_macro RatOS"].nozzle_prime_start_y|float %}
	{% endif %}
	{% set z = printer.configfile.settings.bed_mesh.horizontal_move_z|float %}
	
	{% set mesh_config = printer.configfile.config.bed_mesh %}
	
	
	{% if printer.configfile.settings.bltouch is defined %}
	{% set x_offset = printer.configfile.settings.bltouch.x_offset|float %}
	{% set y_offset = printer.configfile.settings.bltouch.y_offset|float %}
	{% elif printer.configfile.settings.probe is defined %}
	{% set x_offset = printer.configfile.settings.probe.x_offset|float %}
	{% set y_offset = printer.configfile.settings.probe.y_offset|float %}
	{% elif printer.configfile.settings.beacon is defined %}
	{% set x_offset = printer.configfile.settings.beacon.x_offset|float %}
	{% set y_offset = printer.configfile.settings.beacon.y_offset|float %}
	{% else %}
	{ action_raise_error("No probe or bltouch section found. Adaptive priming only works with [probe] or [bltouch].") }
	{% endif %}
	
	
	{% set min_x = mesh_config.mesh_min.split(",")[0]|float - x_offset %}
	{% set min_y = mesh_config.mesh_min.split(",")[1]|float - y_offset %}
	{% set max_x = mesh_config.mesh_max.split(",")[0]|float - x_offset %}
	{% set max_y = mesh_config.mesh_max.split(",")[1]|float - y_offset %}
	
	
	{% set x_start = [[x_start, max_x]|min, min_x]|max %}
	{% set y_start = [[y_start, max_y]|min, min_y]|max %}
	
	RESPOND MSG="PROBE_FOR_PRIMING: Probing the prime location at X: {x_start} Y: {y_start}"
	
	
	G90
	
	M83
	
	G0 Z{z} F{z_speed}
	
	G1 X{x_start} Y{y_start} F{speed}
	PROBE_CURRENT_POSITION
	SAVE_PROBE_RESULT VARIABLE=probe_for_priming_result
	
	RESTORE_GCODE_STATE NAME=probe_for_priming_state
	{% endif %}

[gcode_macro RESET_PRIME_PROBE_STATE]
gcode = 
	SET_GCODE_VARIABLE MACRO=RatOS VARIABLE=probe_for_priming_result VALUE=None

[gcode_macro PROBE_CURRENT_POSITION]
gcode = 
	SAVE_GCODE_STATE NAME=probe_current_position_state
	{% if printer["gcode_macro RatOS"].z_probe|lower == 'stowable' %}
	ASSERT_PROBE_DEPLOYED
	{% endif %}
	PROBE
	RESTORE_GCODE_STATE NAME=probe_current_position_state MOVE=1 MOVE_SPEED={printer["gcode_macro RatOS"].macro_z_speed|float}

[gcode_macro ADD_PRIME_PROBE_TO_OFFSET]
gcode = 
	{% set last_z = printer["gcode_macro RatOS"].probe_for_priming_result|float(9999.9) %}
	{% if printer.configfile.settings.bltouch is defined %}
	{% set z_offset = printer.configfile.settings.bltouch.z_offset|float %}
	{% elif printer.configfile.settings.probe is defined %}
	{% set z_offset = printer.configfile.settings.probe.z_offset|float %}
	{% else %}
	{ action_raise_error("No probe or bltouch section found. Adaptive priming only works with [probe] or [bltouch].") }
	{% endif %}
	{% if last_z == 9999.9 %}
	{ action_raise_error("No probe result found for prime area. This is likely a bug.") }
	{% endif %}
	{% set adjustment = last_z - z_offset %}
	{% set adjustment_threshold = printer["gcode_macro RatOS"].adaptive_prime_offset_threshold|float %}
	{% if adjustment < adjustment_threshold %}
	{ action_raise_error("Abnormal probe offset detected. Needed offset of {adjustment} is below the offset threshold of -1mm. Please verify the probe is over the bed when probing for priming. If it isn't, you should adjust you min/max bed_mesh settings so the probe is always over the print area.") }
	{% endif %}
	RESPOND MSG="ADD_PRIME_PROBE_TO_OFFSET: adjusting z offset by {adjustment}"
	SET_GCODE_OFFSET Z_ADJUST={adjustment} MOVE=1

[gcode_macro SUBTRACT_PRIME_PROBE_FROM_OFFSET]
gcode = 
	{% set last_z = printer["gcode_macro RatOS"].probe_for_priming_result|float(9999.9) %}
	{% if printer.configfile.settings.bltouch is defined %}
	{% set z_offset = printer.configfile.settings.bltouch.z_offset|float %}
	{% elif printer.configfile.settings.probe is defined %}
	{% set z_offset = printer.configfile.settings.probe.z_offset|float %}
	{% else %}
	{ action_raise_error("No probe or bltouch section found. Adaptive priming only works with [probe] or [bltouch].") }
	{% endif %}
	{% if last_z == 9999.9 %}
	{ action_raise_error("No probe result found for prime area. This is likely a bug.") }
	{% endif %}
	RESPOND MSG="SUBTRACT_PRIME_PROBE_FROM_OFFSET: adjusting z offset by {z_offset - last_z}"
	SET_GCODE_OFFSET Z_ADJUST={z_offset - last_z} MOVE=1

[gcode_macro CALIBRATE_ADAPTIVE_MESH]
gcode = 
	
	{% set default_profile = params.PROFILE %}
	
	
	{% set x0 = params.X0|default(-1)|float %}
	{% set y0 = params.Y0|default(-1)|float %}
	{% set x1 = params.X1|default(-1)|float %}
	{% set y1 = params.Y1|default(-1)|float %}
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: Recieved coordinates X0={x0} Y0={y0} X1={x1} Y1={y1}"
	
	{% if x0 >= x1 or y0 >= y1 %}
	
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: Invalid coordinates received. Please check your slicer settings. Falling back to full bed mesh."
	BED_MESH_CALIBRATE PROFILE={default_profile}
	{% else %}
	
	{% set mesh_config = printer.configfile.config.bed_mesh %}
	
	
	{% set min_x = mesh_config.mesh_min.split(",")[0]|float %}
	{% set min_y = mesh_config.mesh_min.split(",")[1]|float %}
	{% set max_x = mesh_config.mesh_max.split(",")[0]|float %}
	{% set max_y = mesh_config.mesh_max.split(",")[1]|float %}
	
	
	{% set mesh_x0 = [[x0, max_x]|min, min_x]|max %}
	{% set mesh_y0 = [[y0, max_y]|min, min_y]|max %}
	{% set mesh_x1 = [[x1, max_x]|min, min_x]|max %}
	{% set mesh_y1 = [[y1, max_y]|min, min_y]|max %}
	
	{% if mesh_x0 == min_x and mesh_y0 == min_y and mesh_x1 == max_x and mesh_y1 == max_y %}
	
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: Print is using the full bed, falling back to full bed mesh."
	BED_MESH_CALIBRATE PROFILE={default_profile}
	{% else %}
	{% if printer["gcode_macro RatOS"].z_probe|lower == 'stowable' %}
	DEPLOY_PROBE
	{% endif %}
	
	{% set probe_count_x = mesh_config.probe_count.split(",")[0]|int %}
	{% if mesh_config.probe_count.split(",")|length == 2 %}
	{% set probe_count_y = mesh_config.probe_count.split(",")[1]|int %}
	{% else %}
	{% set probe_count_y = mesh_config.probe_count.split(",")[0]|int %}
	{% endif %}
	
	
	{% set probe_x_step = (max_x - min_x) / probe_count_x %}
	{% set probe_y_step = (max_y - min_y) / probe_count_y %}
	
	
	{% set mesh_count_x = ([(mesh_x1 - mesh_x0) / probe_x_step, 3]|max)|int %}
	{% set mesh_count_y = ([(mesh_y1 - mesh_y0) / probe_y_step, 3]|max)|int %}
	{% set min_mesh_count = [mesh_count_x, mesh_count_y]|min %}
	{% set max_mesh_count = [mesh_count_x, mesh_count_y]|max %}
	
	
	{% set algorithm = mesh_config.algorithm %}
	{% if algorithm|lower == 'lagrange' and max_mesh_count > 6 %}
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: cannot exceed a probe_count of 6 when using lagrange interpolation. Falling back to bicubic interpolation."
	{% set algorithm = 'bicubic' %}
	{% endif %}
	{% if algorithm|lower == 'bicubic' and min_mesh_count < 4 %}
	{% if max_mesh_count > 6 %}
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: invalid probe_count option when using bicubic interpolation. Combination of 3 points on one axis with more than 6 on another is not permitted. Forcing minimum mesh count to be 4."
	{% set min_mesh_count = 4 %}
	{% else %}
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: bicubic interpolation with a probe_count of less than 4 points detected. Forcing lagrange interpolation."
	{% set algorithm = 'lagrange' %}
	{% endif %}
	{% endif %}
	
	{% set mesh_count_x = ([min_mesh_count, mesh_count_x]|max)|int %}
	{% set mesh_count_x = ([max_mesh_count, mesh_count_x]|min)|int %}
	{% set mesh_count_y = ([min_mesh_count, mesh_count_y]|max)|int %}
	{% set mesh_count_y = ([max_mesh_count, mesh_count_y]|min)|int %}
	
	{% set should_prime = printer["gcode_macro RatOS"].nozzle_priming == 'primeline' or printer["gcode_macro RatOS"].nozzle_priming == 'primeblob' %}
	{% if printer.configfile.settings.beacon is defined %}
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: adaptive priming is currently not supported for Beacon. Disabling priming.."
	SET_GCODE_VARIABLE MACRO=RatOS VARIABLE=nozzle_priming VALUE=False
	{% set should_prime = False %}
	{% endif %}
	
	{% set prime_first = printer["gcode_macro RatOS"].nozzle_prime_start_y|lower == "min" or printer["gcode_macro RatOS"].nozzle_prime_start_y|float(printer.toolhead.axis_maximum.y) < printer.toolhead.axis_maximum.y / 2 %}
	
	{% if should_prime and prime_first %}
	PROBE_FOR_PRIMING
	{% endif %}
	
	RESPOND MSG="CALIBRATE_ADAPTIVE_MESH: mesh coordinates X0={mesh_x0} Y0={mesh_y0} X1={mesh_x1} Y1={mesh_y1}"
	BED_MESH_CALIBRATE PROFILE={default_profile} algorithm={algorithm} mesh_min={mesh_x0},{mesh_y0} mesh_max={mesh_x1},{mesh_y1} probe_count={mesh_count_x},{mesh_count_y}
	
	{% if should_prime and not prime_first %}
	PROBE_FOR_PRIMING
	{% endif %}
	{% if printer["gcode_macro RatOS"].z_probe|lower == 'stowable' %}
	STOW_PROBE
	{% endif %}
	
	{% endif %}
	{% endif %}

[gcode_macro LINE_PURGE]
description = A purge macro that adapts to be near your actual printed objects
gcode = 
	
	{% set travel_speed = (printer.toolhead.max_velocity) * 60 | float %}
	{% set cross_section = printer.configfile.settings.extruder.max_extrude_cross_section | float %}
	
	
	{% if printer.firmware_retraction is defined %}
	{% set RETRACT = G10 | string %}
	{% set UNRETRACT = G11 | string %}
	{% else %}
	{% set RETRACT = 'G1 E-.5 F2100' | string %}
	{% set UNRETRACT = 'G1 E.5 F2100' | string %}
	{% endif %}
	
	{% set verbose_enable = printer["gcode_macro RatOS"].verbose_enable | abs %}
	{% set purge_height = printer["gcode_macro RatOS"].purge_height | float %}
	{% set tip_distance = printer["gcode_macro RatOS"].tip_distance | float %}
	{% set purge_margin = printer["gcode_macro RatOS"].purge_margin | float %}
	{% set purge_amount = printer["gcode_macro RatOS"].purge_amount | float %}
	{% set flow_rate = printer["gcode_macro RatOS"].flow_rate | float %}
	
	
	{% set all_points = printer.exclude_object.objects | map(attribute='polygon') | sum(start=[]) %}
	{% set purge_x_min = (all_points | map(attribute=0) | min | default(0)) %}
	{% set purge_x_max = (all_points | map(attribute=0) | max | default(0)) %}
	{% set purge_y_min = (all_points | map(attribute=1) | min | default(0)) %}
	{% set purge_y_max = (all_points | map(attribute=1) | max | default(0)) %}
	
	{% set purge_x_center = ([((purge_x_max + purge_x_min) / 2) - (purge_amount / 2), 0] | max) %}
	{% set purge_y_center = ([((purge_y_max + purge_y_min) / 2) - (purge_amount / 2), 0] | max) %}
	
	{% set purge_x_origin = ([purge_x_min - purge_margin, 0] | max) %}
	{% set purge_y_origin = ([purge_y_min - purge_margin, 0] | max) %}
	
	
	{% set purge_move_speed = (flow_rate / 5.0) * 60 | float %}
	{% if cross_section < 5 %}
	{action_respond_info("[Extruder] max_extrude_cross_section is insufficient for purge, please set it to 5 or greater. Purge skipped.")}
	{% else %}
	{% if verbose_enable == True %}
	{action_respond_info("Moving filament tip {}mms".format(
	(tip_distance),
	)) }
	{% endif %}
	{% if printer.firmware_retraction is defined %}
	{action_respond_info("KAMP purge is using firmware retraction.")}
	{% else %}
	{action_respond_info("KAMP purge is not using firmware retraction, it is recommended to configure it.")}
	{% endif %}
	{% if purge_y_origin > 0 %}
	{action_respond_info("KAMP purge starting at {}, {} and purging {}mm of filament, requested flow rate is {}mm3/s.".format(
	(purge_x_center),
	(purge_y_origin),
	(purge_amount),
	(flow_rate),
	)) }
	{% else %}
	{action_respond_info("KAMP purge starting at {}, {} and purging {}mm of filament, requested flow rate is {}mm3/s.".format(
	(purge_x_origin),
	(purge_y_center),
	(purge_amount),
	(flow_rate),
	)) }
	{% endif %}
	
	SAVE_GCODE_STATE NAME=Prepurge_State
	
	{% if purge_y_origin > 0 %}
	G92 E0
	G0 F{travel_speed}
	G90
	G0 X{purge_x_center} Y{purge_y_origin}
	G0 Z{purge_height}
	M83
	G1 E{tip_distance} F{purge_move_speed}
	G1 X{purge_x_center + purge_amount} E{purge_amount} F{purge_move_speed}
	{RETRACT}
	G0 X{purge_x_center + purge_amount + 10} F{travel_speed}
	G92 E0
	M82
	G0 Z{purge_height * 2} F{travel_speed}
	{% else %}
	G92 E0
	G0 F{travel_speed}
	G90
	G0 X{purge_x_origin} Y{purge_y_center}
	G0 Z{purge_height}
	M83
	G1 E{tip_distance} F{purge_move_speed}
	G1 Y{purge_y_center + purge_amount} E{purge_amount} F{purge_move_speed}
	{RETRACT}
	G0 Y{purge_y_center + purge_amount + 10} F{travel_speed}
	G92 E0
	M82
	G0 Z{purge_height * 2} F{travel_speed}
	{% endif %}
	RESTORE_GCODE_STATE NAME=Prepurge_State
	{% endif %}

[gcode_shell_command generate_shaper_graph_x]
command = /home/pi/printer_data/config/RatOS/scripts/generate-shaper-graph-x.sh
timeout = 60.
verbose = True

[gcode_shell_command generate_shaper_graph_y]
command = /home/pi/printer_data/config/RatOS/scripts/generate-shaper-graph-y.sh
timeout = 60.
verbose = True

[gcode_shell_command generate_belt_tension_graph]
command = /home/pi/printer_data/config/RatOS/scripts/generate-belt-tension-graph.sh
timeout = 90.
verbose = True

[gcode_shell_command compile_binaries]
command = /home/pi/printer_data/config/RatOS/scripts/compile-binaries.sh
timeout = 600.

[gcode_shell_command change_hostname]
command = /home/pi/printer_data/config/RatOS/scripts/change-hostname.sh
timeout = 10.

[gcode_macro GENERATE_SHAPER_GRAPHS]
description = Genarates input shaper resonances graphs for analysis. Uses the AXIS parameter for if you only want to do one axis at a time, (eg. GENERATE_SHAPER_GRAPHS AXIS=X)
gcode = 
	{% if params.AXIS is defined %}
	{% if params.AXIS|lower == 'x' %}
	MAYBE_HOME
	TEST_RESONANCES AXIS=X
	RUN_SHELL_COMMAND CMD=generate_shaper_graph_x
	RESPOND MSG="Input shaper graph generated for the X axis. You'll find it in the input_shaper folder in the machine tab!"
	{% elif params.AXIS|lower == 'y' %}
	MAYBE_HOME
	TEST_RESONANCES AXIS=Y
	RUN_SHELL_COMMAND CMD=generate_shaper_graph_y
	RESPOND MSG="Input shaper graph generated for the Y axis. You'll find it in the input_shaper folder in the machine tab!"
	{% else %}
	{action_raise_error("Unknown axis specified. Expected X or Y.")}
	{% endif %}
	{% else %}
	MAYBE_HOME
	TEST_RESONANCES AXIS=X
	TEST_RESONANCES AXIS=Y
	RUN_SHELL_COMMAND CMD=generate_shaper_graph_x
	RUN_SHELL_COMMAND CMD=generate_shaper_graph_y
	RESPOND MSG="Input shaper graphs generated for X and Y. You'll find them in the input_shaper folder in the machine tab!"
	{% endif %}

[gcode_macro MEASURE_COREXY_BELT_TENSION]
description = Generates resonance graph used to ensure belts are equally tensioned.
gcode = 
	TEST_RESONANCES AXIS=1,1  OUTPUT=raw_data NAME=belt-tension-upper
	TEST_RESONANCES AXIS=1,-1 OUTPUT=raw_data NAME=belt-tension-lower
	RUN_SHELL_COMMAND CMD=generate_belt_tension_graph
	RESPOND MSG="Belt tension graphs generated. You'll find them in the input_shaper folder in the machine tab!"

[gcode_macro COMPILE_FIRMWARE]
description = Compiles firmware with currently installed klipper version for all supported RatOS boards. Note: this may take up to 10 minutes.
gcode = 
	RESPOND MSG="Compiling binaries.. This can take up to 10 minutes. Please do not turn off your Raspberry Pi!"
	RUN_SHELL_COMMAND CMD=compile_binaries
	RESPOND MSG="Firmware binaries compiled successfully! You can find them in the firmware_binaries folder in the machine tab!"

[gcode_macro CHANGE_HOSTNAME]
description = Change the hostname of your Raspberry Pi.
gcode = 
	{% if params.HOSTNAME is not defined %}
	RESPOND MSG='You have to specify a new hostname with the HOSTNAME parameter. Ex: CHANGE_HOSTNAME HOSTNAME="MY_NEW_HOSTNAME"'
	RESPOND MSG="Please note: RFCs mandate that a hostname's labels may contain only the ASCII letters 'a' through 'z' (case-insensitive), the digits '0' through '9', and the hyphen. Hostname labels cannot begin or end with a hyphen. No other symbols, punctuation characters, or blank spaces are permitted."
	{% else %}
	RUN_SHELL_COMMAND CMD=change_hostname PARAMS={params.HOSTNAME}
	{% endif %}

[stepper_z]
endstop_pin = probe:z_virtual_endstop
step_pin = motor_1_step
dir_pin = motor_1_dir
enable_pin = !motor_1_enable
rotation_distance = 4
microsteps = 64
position_min = -5
homing_speed = 10
position_max = 200

[tmc2209 stepper_z]
uart_pin = motor_1_uart
run_current = 1.6
stealthchop_threshold = 0
interpolate = False
hold_current = 0.4

[stepper_z1]
step_pin = motor_2_step
dir_pin = motor_2_dir
enable_pin = !motor_2_enable
rotation_distance = 4
microsteps = 64

[tmc2209 stepper_z1]
uart_pin = motor_2_uart
run_current = 1.6
stealthchop_threshold = 0
interpolate = False
hold_current = 0.4

[stepper_z2]
step_pin = motor_3_step
dir_pin = motor_3_dir
enable_pin = !motor_3_enable
rotation_distance = 4
microsteps = 64

[tmc2209 stepper_z2]
uart_pin = motor_3_uart
run_current = 1.6
stealthchop_threshold = 0
interpolate = False
hold_current = 0.4

[stepper_x]
step_pin = motor_4_step
dir_pin = !motor_4_dir
enable_pin = !motor_4_enable
rotation_distance = 40
microsteps = 64
homing_speed = 30
homing_retract_dist = 5.0
full_steps_per_rotation = 200
position_max = 200
position_endstop = 0
endstop_pin = ^endstop_motor_1

[tmc5160 stepper_x]
cs_pin = motor_4_uart
spi_software_mosi_pin = stepper_spi_mosi
spi_software_miso_pin = stepper_spi_miso
spi_software_sclk_pin = stepper_spi_sclk
run_current = 1.768
stealthchop_threshold = 0
interpolate = False
hold_current = 0.442

[stepper_x1]
step_pin = motor_5_step
dir_pin = motor_5_dir
enable_pin = !motor_5_enable
rotation_distance = 40
microsteps = 64
full_steps_per_rotation = 200

[tmc5160 stepper_x1]
cs_pin = motor_5_uart
spi_software_mosi_pin = stepper_spi_mosi
spi_software_miso_pin = stepper_spi_miso
spi_software_sclk_pin = stepper_spi_sclk
run_current = 1.768
stealthchop_threshold = 0
interpolate = False
hold_current = 0.442

[stepper_y]
step_pin = motor_6_step
dir_pin = !motor_6_dir
enable_pin = !motor_6_enable
rotation_distance = 40
microsteps = 64
full_steps_per_rotation = 200
position_max = 200
position_endstop = 200
homing_speed = 30
homing_retract_dist = 5.0
endstop_pin = ^endstop_motor_2
homing_positive_dir = true
position_min = 19

[tmc5160 stepper_y]
cs_pin = motor_6_uart
spi_software_mosi_pin = stepper_spi_mosi
spi_software_miso_pin = stepper_spi_miso
spi_software_sclk_pin = stepper_spi_sclk
run_current = 1.768
stealthchop_threshold = 0
interpolate = False
hold_current = 0.442

[stepper_y1]
step_pin = motor_7_step
dir_pin = motor_7_dir
enable_pin = !motor_7_enable
rotation_distance = 40
microsteps = 64
full_steps_per_rotation = 200

[tmc5160 stepper_y1]
cs_pin = motor_7_uart
spi_software_mosi_pin = stepper_spi_mosi
spi_software_miso_pin = stepper_spi_miso
spi_software_sclk_pin = stepper_spi_sclk
run_current = 1.768
stealthchop_threshold = 0
interpolate = False
hold_current = 0.442

[bed_mesh]
speed = 10
horizontal_move_z = 5
mesh_min = 10, 8.45
mesh_max = 170, 185.45
probe_count = 10,10
fade_start = 1.0
fade_end = 10.0
mesh_pps = 2,2
algorithm = bicubic
bicubic_tension = .2

[z_tilt]
speed = 50
z_positions = 
	0,0
	100,200
	200,0
points = 
	60,22
	135,190
	190,22
horizontal_move_z = 20
retries = 20
retry_tolerance = 0.02

[gcode_macro enable_stepper]
gcode = 
	SET_STEPPER_ENABLE STEPPER=stepper_x ENABLE=1
	SET_STEPPER_ENABLE STEPPER=stepper_y ENABLE=1
	SET_STEPPER_ENABLE STEPPER=stepper_x1 ENABLE=1
	SET_STEPPER_ENABLE STEPPER=stepper_y1 ENABLE=1

[gcode_macro disable_steppers]
gcode = 
	m84

[gcode_macro STEPPER_BUZZ_X]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_x

[gcode_macro STEPPER_BUZZ_Y]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_y

[gcode_macro STEPPER_BUZZ_X1]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_x1

[gcode_macro STEPPER_BUZZ_Y1]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_y1

[gcode_macro STEPPER_BUZZ_Z]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_z

[gcode_macro STEPPER_BUZZ_Z1]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_z1

[gcode_macro STEPPER_BUZZ_Z2]
gcode = 
	STEPPER_BUZZ STEPPER=stepper_z2

[gcode_macro TEST_SPEED]
gcode = 
	
	{% set speed  = params.SPEED|default(printer.configfile.settings.printer.max_velocity)|int %}
	
	{% set iterations = params.ITERATIONS|default(5)|int %}
	
	{% set accel  = params.ACCEL|default(printer.configfile.settings.printer.max_accel)|int %}
	
	{% set bound = params.BOUND|default(20)|int %}
	
	{% set smallpatternsize = SMALLPATTERNSIZE|default(20)|int %}
	
	
	
	{% set x_min = printer.toolhead.axis_minimum.x + bound %}
	{% set x_max = printer.toolhead.axis_maximum.x - bound %}
	{% set y_min = printer.toolhead.axis_minimum.y + bound %}
	{% set y_max = printer.toolhead.axis_maximum.y - bound %}
	
	
	
	{% set x_center = (printer.toolhead.axis_minimum.x|float + printer.toolhead.axis_maximum.x|float ) / 2 %}
	{% set y_center = (printer.toolhead.axis_minimum.y|float + printer.toolhead.axis_maximum.y|float ) / 2 %}
	
	
	{% set x_center_min = x_center - (smallpatternsize/2) %}
	{% set x_center_max = x_center + (smallpatternsize/2) %}
	{% set y_center_min = y_center - (smallpatternsize/2) %}
	{% set y_center_max = y_center + (smallpatternsize/2) %}
	
	
	SAVE_GCODE_STATE NAME=TEST_SPEED
	
	
	{ action_respond_info("TEST_SPEED: starting %d iterations at speed %d, accel %d" % (iterations, speed, accel)) }
	
	
	SET_VELOCITY_LIMIT VELOCITY={speed} ACCEL={accel} ACCEL_TO_DECEL={accel / 2}
	
	
	
	
	
	G0 X{x_min+10} Y{y_min+10} Z{bound + 20} F{speed*60}
	
	{% for i in range(iterations) %}
	
	
	G0 X{x_min+10} Y{y_min+10} F{speed*60}
	G0 X{x_max-30} Y{y_max-30} F{speed*60}
	G0 X{x_min+10} Y{y_min+10} F{speed*60}
	G0 X{x_max-30} Y{y_max-30} F{speed*60}
	G0 X{x_min+10} Y{y_min+10} F{speed*60}
	G0 X{x_max-30} Y{y_max-30} F{speed*60}
	
	
	G0 X{x_min+10} Y{y_min+10} F{speed*60}
	G0 X{x_min+10} Y{y_max-30} F{speed*60}
	G0 X{x_max-30} Y{y_max-30} F{speed*60}
	G0 X{x_max-30} Y{y_min+10} F{speed*60}
	
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	
	
	G0 X{x_center_min} Y{y_center_min} F{speed*60}
	G0 X{x_center_min} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_max} F{speed*60}
	G0 X{x_center_max} Y{y_center_min} F{speed*60}
	{% endfor %}
	
	
	SET_VELOCITY_LIMIT VELOCITY={printer.configfile.settings.printer.max_velocity} ACCEL={printer.configfile.settings.printer.max_accel} MINIMUM_CRUISE_RATIO={printer.configfile.settings.printer.minimum_cruise_ratio}
	
	RESTORE_GCODE_STATE NAME=TEST_SPEED
	G0 X115 Y115 Z30

[bltouch]
sensor_pin = ^bltouch_probe
control_pin = bltouch_servo
speed = 7
pin_move_time = 0.675
sample_retract_dist = 10
pin_up_reports_not_triggered = True
pin_up_touch_mode_reports_triggered = True
x_offset = -30
y_offset = -14.550
z_offset = 3.825

[gcode_macro RatOS]
variable_z_probe = "static"
variable_homing_x = "endstop"
variable_homing_y = "endstop"
variable_homing = "endstops"
description = RatOS variable storage macro, will echo variables to the console when run.
variable_relative_extrusion = False
variable_force_absolute_position = False
variable_preheat_extruder = True
variable_preheat_extruder_temp = 150
variable_calibrate_bed_mesh = True
variable_bed_soak = False
variable_bed_soak_time = 60000
variable_nozzle_priming = "linepurge"
variable_verbose_enable = True
variable_purge_height = 0.8
variable_tip_distance = 0.4
variable_purge_margin = 20
variable_purge_amount = 30
variable_flow_rate = 10
variable_filament_unload_length = 130
variable_filament_unload_speed = 5
variable_filament_load_length = 100
variable_filament_load_speed = 10
variable_start_print_park_in = "back"
variable_start_print_park_z_height = 50
variable_end_print_park_in = "back"
variable_pause_print_park_in = "back"
variable_macro_travel_speed = 150
variable_macro_z_speed = 15
variable_end_print_park_z_hop = 20
variable_safe_home_x = "middle"
variable_safe_home_y = "middle"
variable_stowable_probe_stop_on_error = False
variable_adaptive_mesh = False
gcode = 
	ECHO_RATOS_VARS

[extruder]
rotation_distance = 5.57
full_steps_per_rotation = 200
filament_diameter = 1.750
max_extrude_only_velocity = 120
max_extrude_only_accel = 800
pressure_advance_smooth_time = 0.02
step_pin = motor_8_step
dir_pin = !motor_8_dir
enable_pin = !motor_8_enable
microsteps = 64
max_extrude_only_distance = 200
nozzle_diameter = 0.4
heater_pin = heater_e0
sensor_type = PT1000
pullup_resistor = 2200
sensor_pin = thermistor_e1
min_extrude_temp = 170
min_temp = 0
max_temp = 300
pressure_advance = 0.025
max_extrude_cross_section = 5
control = pid
pid_kp = 30.620
pid_ki = 1.926
pid_kd = 121.714

[tmc2209 extruder]
uart_pin = motor_8_uart
run_current = 0.5
stealthchop_threshold = 0
driver_tbl = 1
driver_toff = 3
driver_hend = 9
driver_hstrt = 7
interpolate = False
hold_current = 0.125

[firmware_retraction]
retract_speed = 120
unretract_extra_length = 0
unretract_speed = 120
retract_length = 0.5

[filament_switch_sensor filament_switch]
switch_pin = ^filament_sensor_adc2
pause_on_runout = false
runout_gcode = 
	PAUSE
	RESPOND COLOR=warning MSG="Filament ran out"
insert_gcode = 

[delayed_gcode DISABLEFILAMENTSENSOR]
initial_duration = 1
gcode = 
	SET_FILAMENT_SENSOR SENSOR=filament_switch ENABLE=0

[gcode_macro FILDET_ENABLE]
description = Enable smart filament sensor
gcode = 
	M117 ENABLING the Smart Filament Sensor
	RESPOND COLOR=info MSG="ENABLING the Smart Filament Sensor"
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_switch ENABLE=1

[gcode_macro FILDET_DISABLE]
description = Disable smart filament sensor
gcode = 
	M117 DISABLING the Smart Filament Sensor
	RESPOND COLOR=info MSG="DISABLING the Smart Filament Sensor"
	G92 E0
	SET_FILAMENT_SENSOR SENSOR=filament_switch ENABLE=0

[fan]
pin = fan_4_pwm
tachometer_pin = ^fan_4_tach
tachometer_poll_interval = 0.0005
cycle_time = 0.01

[heater_fan toolhead]
pin = fan_0
shutdown_speed = 1.0
kick_start_time = 5
heater = extruder
heater_temp = 49
fan_speed = 1.0

[temperature_fan Electronics_bay]
pin = fan_6_pwm
max_power = 1
off_below = 0
tachometer_pin = ^fan_6_tach
tachometer_poll_interval = 0.0005
sensor_type = temperature_combined
sensor_list = temperature_sensor 2209_M1, temperature_sensor 2209_M2, temperature_sensor 2209_M3, temperature_sensor 5160_M4, temperature_sensor 5160_M5, temperature_sensor 5160_M6, temperature_sensor 5160_M7, temperature_sensor 2209_M8
combination_method = max
maximum_deviation = 999.9
control = watermark
min_temp = 0
max_temp = 80
max_delta = 2
target_temp = 38.0
max_speed = 1.0
min_speed = 0.3
gcode_id = Electronics_bay

[temperature_sensor 2209_M1]
sensor_type = Generic 3950
sensor_pin = thermexp1:PA2
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc2209_M1

[temperature_sensor 2209_M2]
sensor_type = Generic 3950
sensor_pin = thermexp1:PA5
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc2209_M2

[temperature_sensor 2209_M3]
sensor_type = Generic 3950
sensor_pin = thermexp1:PA6
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc2209_M3

[temperature_sensor 5160_M4]
sensor_type = Generic 3950
sensor_pin = thermexp1:PB1
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc5160_M4

[temperature_sensor 5160_M5]
sensor_type = Generic 3950
sensor_pin = thermexp1:PA1
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc5160_M5

[temperature_sensor 5160_M6]
sensor_type = Generic 3950
sensor_pin = thermexp1:PA3
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc5160_M6

[temperature_sensor 5160_M7]
sensor_type = Generic 3950
sensor_pin = thermexp2:PA2
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc5160_M7

[temperature_sensor 2209_M8]
sensor_type = Generic 3950
sensor_pin = thermexp2:PA5
min_temp = 0
max_temp = 80
pullup_resistor = 4700
gcode_id = tmc2209_M8

[autotune_tmc stepper_x]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 48

[autotune_tmc stepper_x1]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 48

[autotune_tmc stepper_y]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 48

[autotune_tmc stepper_y1]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 48

[autotune_tmc stepper_z]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 24

[autotune_tmc stepper_z1]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 24

[autotune_tmc stepper_z2]
motor = ldo-42sth48-2804ah
tuning_goal = performance
voltage = 24

[output_pin status_led]
pin = heater_e3
value = 0
shutdown_value = 0

[gcode_button top]
pin = ^det_motor_6
press_gcode = 
release_gcode = 
	{% if printer.print_stats.state == "printing" %}
	PAUSE
	RESPOND COLOR=info MSG="Print paused"
	SET_PIN PIN=status_led VALUE=1
	{% elif printer.print_stats.state == "paused" %}
	RESUME
	RESPOND COLOR=info MSG="Print resumed"
	SET_PIN PIN=status_led VALUE=0
	{% else %}
	RESPOND COLOR=error MSG="Cannot pause or resume: no print in progress"
	{% endif %}

[gcode_button bottom]
pin = ^det_motor_5
press_gcode = 
release_gcode = 
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2

[gcode_macro _POWER_OFF_PRINTER]
gcode = 
	{action_call_remote_method(
	"set_device_power", device="printer", state="off"
	)}

[delayed_gcode POWER_OFF_PRINTER_CHECK]
gcode = 
	{% if printer.idle_timeout.state == "Idle" or printer.idle_timeout.state == "Ready" %}
	{% if printer.extruder.temperature < 50.0 and printer.heater_bed.temperature < 50.0 %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	RESPOND COLOR=info MSG="Powering printer off"
	G4 P3000
	_POWER_OFF_PRINTER
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% endif %}
	{% else %}
	{% if printer.idle_timeout.state == "Printing" %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% else %}
	{% if printer.extruder.target == 0.0 and printer.heater_bed.target == 0.0 %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=2
	{% else %}
	UPDATE_DELAYED_GCODE ID=POWER_OFF_PRINTER_CHECK DURATION=0
	{% endif %}
	{% endif %}
	{% endif %}
	{% endif %}

[gcode_macro RESPOND]
rename_existing = BASE_RESPOND
gcode = 
	{% set colors = ('primary', 'secondary', 'accent', 'info', 'success', 'error', 'warning') %}
	
	{% if params.MSG is defined %}
	{% set msg = 'MSG="'+ params.MSG + '"'|string %}
	{% endif %}
	
	{% if params.COLOR is defined %}
	{% set color = params.COLOR|lower %}
	
	{% if color in colors %}
	{% set msg = 'MSG="<span class=' + color + '--text>' + params.MSG + '</span>"'|string %}
	
	{% else %}
	BASE_RESPOND TYPE=error MSG="RESPOND COLOR '{color}' is invalid. Must be one of 'primary', 'secondary', 'accent', 'info', 'success', 'warning' or 'error'"
	{% endif %}
	
	{% endif %}
	BASE_RESPOND {msg}

[output_pin beeper]
pin = heater_e2
value = 0
shutdown_value = 0
pwm = True
cycle_time = 0.0005

[gcode_macro M300]
gcode = 
	
	{% set S = params.S|default(1000)|int %}
	
	{% set P = params.P|default(100)|int %}
	SET_PIN PIN=beeper VALUE=0.5 CYCLE_TIME={ 1.0/S if S > 0 else 1 }
	G4 P{P}
	SET_PIN PIN=beeper VALUE=0

[gcode_macro PRINT_DONE]
gcode = 
	M300 P110 S523
	M300 P110 S466
	M300 P221 S392
	M300 P221 S523
	M300 P221 S349
	M300 P221 S523
	M300 P221 S466
	M300 P221 S523
	M300 P882 S349
	M300 P441 S392
	M300 P221 S392
	M300 P221 S466
	M300 P221 S523
	M300 P110 S523
	M300 P110 S466
	M300 P221 S392
	M300 P221 S523
	M300 P221 S349
	M300 P221 S523
	M300 P221 S466
	M300 P221 S523
	M300 P882 S349
	M300 P441 S392
	M300 P221 S392
	M300 P221 S466
	M300 P882 S523

[temperature_sensor Stepper_back_left]
sensor_type = Generic 3950
sensor_pin = thermexp2:PA6
min_temp = 0
max_temp = 100
pullup_resistor = 4700
gcode_id = Stepper_back_left

[temperature_sensor Stepper_back_right]
sensor_type = Generic 3950
sensor_pin = thermexp2:PB1
min_temp = 0
max_temp = 100
pullup_resistor = 4700
gcode_id = Stepper_back_right

[temperature_sensor Stepper_front_left]
sensor_type = Generic 3950
sensor_pin = thermexp2:PA1
min_temp = 0
max_temp = 100
pullup_resistor = 4700
gcode_id = Stepper_front_left

[temperature_sensor Stepper_front_right]
sensor_type = Generic 3950
sensor_pin = thermexp2:PA3
min_temp = 0
max_temp = 100
pullup_resistor = 4700
gcode_id = Stepper_front_right

[gcode_macro TEST_STEPPER_TEMPS]
gcode = 
	G28
	TEST_SPEED SPEED=300 ACCEL=5000 ITERATIONS=50
=======================
Extruder max_extrude_ratio=2.078758
mcu 'mcu': Starting serial connect
webhooks client 4124032232: New connection
webhooks client 4124032232: Client info {'program': 'Moonraker', 'version': 'v0.8.0-327-g9447494'}
Loaded MCU 'mcu' 112 commands (v0.12.0-171-g2f6e94c9 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.34-4+rpi1+14) 2.34)
MCU 'mcu' config: ADC_MAX=4095 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c2_PB10_PB11=PB10,PB11 BUS_PINS_i2c3_PA8_PC9=PA8,PC9 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 BUS_PINS_spi3a=PC11,PC12,PC10 BUS_PINS_spi4=PE13,PE14,PE12 BUS_PINS_spi5=PF8,PF9,PF7 BUS_PINS_spi5a=PH7,PF11,PH6 BUS_PINS_spi6=PG12,PG14,PG13 CLOCK_FREQ=400000000 MCU=stm32h723xx PWM_MAX=255 RESERVE_PINS_USB=PA11,PA12 RESERVE_PINS_crystal=PH0,PH1 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'rpi': Starting connect
Loaded MCU 'rpi' 118 commands (v0.12.0-171-g2f6e94c9 / gcc: (Raspbian 10.2.1-6+rpi1) 10.2.1 20210110 binutils: (GNU Binutils for Raspbian) 2.35.2)
MCU 'rpi' config: ADC_MAX=4095 CLOCK_FREQ=50000000 MCU=linux PCA9685_MAX=4096 PWM_MAX=32768 STATS_SUMSQ_BASE=256
mcu 'thermexp1': Starting serial connect
Loaded MCU 'thermexp1' 92 commands (v0.12.0-171-g2f6e94c9 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.34-4+rpi1+14) 2.34)
MCU 'thermexp1' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c1_PF1_PF0=PF1,PF0 BUS_PINS_i2c1a=PF1,PF0 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 CLOCK_FREQ=48000000 MCU=stm32f042x6 RESERVE_PINS_USB=PA11,PA12 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu 'thermexp2': Starting serial connect
Loaded MCU 'thermexp2' 92 commands (v0.12.0-171-g2f6e94c9 / gcc: (15:8-2019-q3-1+b1) 8.3.1 20190703 (release) [gcc-8-branch revision 273027] binutils: (2.34-4+rpi1+14) 2.34)
MCU 'thermexp2' config: ADC_MAX=4095 BUS_PINS_i2c1=PB6,PB7 BUS_PINS_i2c1_PB6_PB7=PB6,PB7 BUS_PINS_i2c1_PB8_PB9=PB8,PB9 BUS_PINS_i2c1_PF1_PF0=PF1,PF0 BUS_PINS_i2c1a=PF1,PF0 BUS_PINS_spi1=PA6,PA7,PA5 BUS_PINS_spi1a=PB4,PB5,PB3 BUS_PINS_spi2=PB14,PB15,PB13 BUS_PINS_spi2a=PC2,PC3,PB10 CLOCK_FREQ=48000000 MCU=stm32f042x6 RESERVE_PINS_USB=PA11,PA12 STATS_SUMSQ_BASE=256 STEPPER_BOTH_EDGE=1
mcu_temperature 'mcu' nominal base=-273.952569 slope=1618.577075
Sending MCU 'mcu' printer configuration...
Configured MCU 'mcu' (1024 moves)
Sending MCU 'rpi' printer configuration...
Configured MCU 'rpi' (1024 moves)
Sending MCU 'thermexp1' printer configuration...
Configured MCU 'thermexp1' (1024 moves)
Sending MCU 'thermexp2' printer configuration...
Configured MCU 'thermexp2' (1024 moves)
Starting heater checks for heater_bed
bed_mesh: generated points
Index |  Tool Adjusted  |   Probe
  0   | (40.0, 23.0)    | (10.0, 8.4)
  1   | (57.8, 23.0)    | (27.8, 8.4)
  2   | (75.5, 23.0)    | (45.5, 8.4)
  3   | (93.3, 23.0)    | (63.3, 8.4)
  4   | (111.1, 23.0)   | (81.1, 8.4)
  5   | (128.8, 23.0)   | (98.8, 8.4)
  6   | (146.6, 23.0)   | (116.6, 8.4)
  7   | (164.4, 23.0)   | (134.4, 8.4)
  8   | (182.2, 23.0)   | (152.2, 8.4)
  9   | (199.9, 23.0)   | (169.9, 8.4)
  10  | (199.9, 42.7)   | (169.9, 28.1)
  11  | (182.2, 42.7)   | (152.2, 28.1)
  12  | (164.4, 42.7)   | (134.4, 28.1)
  13  | (146.6, 42.7)   | (116.6, 28.1)
  14  | (128.9, 42.7)   | (98.9, 28.1)
  15  | (111.1, 42.7)   | (81.1, 28.1)
  16  | (93.3, 42.7)    | (63.3, 28.1)
  17  | (75.5, 42.7)    | (45.5, 28.1)
  18  | (57.8, 42.7)    | (27.8, 28.1)
  19  | (40.0, 42.7)    | (10.0, 28.1)
  20  | (40.0, 62.3)    | (10.0, 47.8)
  21  | (57.8, 62.3)    | (27.8, 47.8)
  22  | (75.5, 62.3)    | (45.5, 47.8)
  23  | (93.3, 62.3)    | (63.3, 47.8)
  24  | (111.1, 62.3)   | (81.1, 47.8)
  25  | (128.8, 62.3)   | (98.8, 47.8)
  26  | (146.6, 62.3)   | (116.6, 47.8)
  27  | (164.4, 62.3)   | (134.4, 47.8)
  28  | (182.2, 62.3)   | (152.2, 47.8)
  29  | (199.9, 62.3)   | (169.9, 47.8)
  30  | (199.9, 82.0)   | (169.9, 67.4)
  31  | (182.2, 82.0)   | (152.2, 67.4)
  32  | (164.4, 82.0)   | (134.4, 67.4)
  33  | (146.6, 82.0)   | (116.6, 67.4)
  34  | (128.9, 82.0)   | (98.9, 67.4)
  35  | (111.1, 82.0)   | (81.1, 67.4)
  36  | (93.3, 82.0)    | (63.3, 67.4)
  37  | (75.5, 82.0)    | (45.5, 67.4)
  38  | (57.8, 82.0)    | (27.8, 67.4)
  39  | (40.0, 82.0)    | (10.0, 67.4)
  40  | (40.0, 101.6)   | (10.0, 87.1)
  41  | (57.8, 101.6)   | (27.8, 87.1)
  42  | (75.5, 101.6)   | (45.5, 87.1)
  43  | (93.3, 101.6)   | (63.3, 87.1)
  44  | (111.1, 101.6)  | (81.1, 87.1)
  45  | (128.8, 101.6)  | (98.8, 87.1)
  46  | (146.6, 101.6)  | (116.6, 87.1)
  47  | (164.4, 101.6)  | (134.4, 87.1)
  48  | (182.2, 101.6)  | (152.2, 87.1)
  49  | (199.9, 101.6)  | (169.9, 87.1)
  50  | (199.9, 121.3)  | (169.9, 106.7)
  51  | (182.2, 121.3)  | (152.2, 106.7)
  52  | (164.4, 121.3)  | (134.4, 106.7)
  53  | (146.6, 121.3)  | (116.6, 106.7)
  54  | (128.9, 121.3)  | (98.9, 106.7)
  55  | (111.1, 121.3)  | (81.1, 106.7)
  56  | (93.3, 121.3)   | (63.3, 106.7)
  57  | (75.5, 121.3)   | (45.5, 106.7)
  58  | (57.8, 121.3)   | (27.8, 106.7)
  59  | (40.0, 121.3)   | (10.0, 106.7)
  60  | (40.0, 141.0)   | (10.0, 126.4)
  61  | (57.8, 141.0)   | (27.8, 126.4)
  62  | (75.5, 141.0)   | (45.5, 126.4)
  63  | (93.3, 141.0)   | (63.3, 126.4)
  64  | (111.1, 141.0)  | (81.1, 126.4)
  65  | (128.8, 141.0)  | (98.8, 126.4)
  66  | (146.6, 141.0)  | (116.6, 126.4)
  67  | (164.4, 141.0)  | (134.4, 126.4)
  68  | (182.2, 141.0)  | (152.2, 126.4)
  69  | (199.9, 141.0)  | (169.9, 126.4)
  70  | (199.9, 160.6)  | (169.9, 146.1)
  71  | (182.2, 160.6)  | (152.2, 146.1)
  72  | (164.4, 160.6)  | (134.4, 146.1)
  73  | (146.6, 160.6)  | (116.6, 146.1)
  74  | (128.9, 160.6)  | (98.9, 146.1)
  75  | (111.1, 160.6)  | (81.1, 146.1)
  76  | (93.3, 160.6)   | (63.3, 146.1)
  77  | (75.5, 160.6)   | (45.5, 146.1)
  78  | (57.8, 160.6)   | (27.8, 146.1)
  79  | (40.0, 160.6)   | (10.0, 146.1)
  80  | (40.0, 180.3)   | (10.0, 165.7)
  81  | (57.8, 180.3)   | (27.8, 165.7)
  82  | (75.5, 180.3)   | (45.5, 165.7)
  83  | (93.3, 180.3)   | (63.3, 165.7)
  84  | (111.1, 180.3)  | (81.1, 165.7)
  85  | (128.8, 180.3)  | (98.8, 165.7)
  86  | (146.6, 180.3)  | (116.6, 165.7)
  87  | (164.4, 180.3)  | (134.4, 165.7)
  88  | (182.2, 180.3)  | (152.2, 165.7)
  89  | (199.9, 180.3)  | (169.9, 165.7)
  90  | (199.9, 199.9)  | (169.9, 185.4)
  91  | (182.2, 199.9)  | (152.2, 185.4)
  92  | (164.4, 199.9)  | (134.4, 185.4)
  93  | (146.6, 199.9)  | (116.6, 185.4)
  94  | (128.9, 199.9)  | (98.9, 185.4)
  95  | (111.1, 199.9)  | (81.1, 185.4)
  96  | (93.3, 199.9)   | (63.3, 185.4)
  97  | (75.5, 199.9)   | (45.5, 185.4)
  98  | (57.8, 199.9)   | (27.8, 185.4)
  99  | (40.0, 199.9)   | (10.0, 185.4)

Printer is not ready
The klippy host software is attempting to connect.  Please
retry in a few moments.

Script running error
Traceback (most recent call last):
  File "/home/pi/klipper/klippy/extras/gcode_button.py", line 41, in button_callback
    self.gcode.run_script(template.render())
  File "/home/pi/klipper/klippy/gcode.py", line 229, in run_script
    self._process_commands(script.split('\n'), need_ack=False)
  File "/home/pi/klipper/klippy/gcode.py", line 211, in _process_commands
    handler(gcmd)
  File "/home/pi/klipper/klippy/gcode.py", line 285, in cmd_default
    raise gcmd.error(self.printer.get_state_message()[0])
gcode.CommandError: 
Printer is not ready
The klippy host software is attempting to connect.  Please
retry in a few moments.


Printer is not ready
The klippy host software is attempting to connect.  Please
retry in a few moments.

Script running error
Traceback (most recent call last):
  File "/home/pi/klipper/klippy/extras/gcode_button.py", line 41, in button_callback
    self.gcode.run_script(template.render())
  File "/home/pi/klipper/klippy/gcode.py", line 229, in run_script
    self._process_commands(script.split('\n'), need_ack=False)
  File "/home/pi/klipper/klippy/gcode.py", line 211, in _process_commands
    handler(gcmd)
  File "/home/pi/klipper/klippy/gcode.py", line 285, in cmd_default
    raise gcmd.error(self.printer.get_state_message()[0])
gcode.CommandError: 
Printer is not ready
The klippy host software is attempting to connect.  Please
retry in a few moments.

Starting heater checks for extruder
autotune_tmc set stepper_x pwm_freq=2
autotune_tmc stepper_x ncycles=219 pfdcycles=73
autotune_tmc set stepper_x tpfd=1
autotune_tmc set stepper_x tbl=1
autotune_tmc set stepper_x toff=1
autotune_tmc seting hysteresis based on 48.0 V
dcoilblank = 0.160000, dcoilsd = 0.015156
hysteresis = 42, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set stepper_x hstrt=7
autotune_tmc set stepper_x hend=9
autotune_tmc using max PWM speed 445.633841
autotune_tmc set stepper_x pwm_autoscale=True
autotune_tmc set stepper_x pwm_autograd=True
autotune_tmc set stepper_x pwm_grad=4
autotune_tmc set stepper_x pwm_ofs=10
autotune_tmc set stepper_x pwm_reg=15
autotune_tmc set stepper_x pwm_lim=4
autotune_tmc set stepper_x tpwmthrs=1048575
autotune_tmc set stepper_x en_pwm_mode=False
autotune_tmc set stepper_x tcoolthrs=391(24.0)
autotune_tmc set stepper_x sgt=1
autotune_tmc set stepper_x small_hysteresis=False
autotune_tmc set stepper_x semin=2
autotune_tmc set stepper_x semax=2
autotune_tmc set stepper_x seup=3
autotune_tmc set stepper_x sedn=2
autotune_tmc set stepper_x seimin=0
autotune_tmc set stepper_x sfilt=0
autotune_tmc set stepper_x iholddelay=12
autotune_tmc set stepper_x vhighfs=False
autotune_tmc set stepper_x vhighchm=False
autotune_tmc set stepper_x multistep_filt=True
autotune_tmc set stepper_x1 pwm_freq=2
autotune_tmc stepper_x1 ncycles=219 pfdcycles=73
autotune_tmc set stepper_x1 tpfd=1
autotune_tmc set stepper_x1 tbl=1
autotune_tmc set stepper_x1 toff=1
autotune_tmc seting hysteresis based on 48.0 V
dcoilblank = 0.160000, dcoilsd = 0.015156
hysteresis = 42, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set stepper_x1 hstrt=7
autotune_tmc set stepper_x1 hend=9
autotune_tmc using max PWM speed 445.633841
autotune_tmc set stepper_x1 pwm_autoscale=True
autotune_tmc set stepper_x1 pwm_autograd=True
autotune_tmc set stepper_x1 pwm_grad=4
autotune_tmc set stepper_x1 pwm_ofs=10
autotune_tmc set stepper_x1 pwm_reg=15
autotune_tmc set stepper_x1 pwm_lim=4
autotune_tmc set stepper_x1 tpwmthrs=1048575
autotune_tmc set stepper_x1 en_pwm_mode=False
autotune_tmc set stepper_x1 tcoolthrs=391(24.0)
autotune_tmc set stepper_x1 sgt=1
autotune_tmc set stepper_x1 small_hysteresis=False
autotune_tmc set stepper_x1 semin=2
autotune_tmc set stepper_x1 semax=2
autotune_tmc set stepper_x1 seup=3
autotune_tmc set stepper_x1 sedn=2
autotune_tmc set stepper_x1 seimin=0
autotune_tmc set stepper_x1 sfilt=0
autotune_tmc set stepper_x1 iholddelay=12
autotune_tmc set stepper_x1 vhighfs=False
autotune_tmc set stepper_x1 vhighchm=False
autotune_tmc set stepper_x1 multistep_filt=True
autotune_tmc set stepper_y pwm_freq=2
autotune_tmc stepper_y ncycles=219 pfdcycles=73
autotune_tmc set stepper_y tpfd=1
autotune_tmc set stepper_y tbl=1
autotune_tmc set stepper_y toff=1
autotune_tmc seting hysteresis based on 48.0 V
dcoilblank = 0.160000, dcoilsd = 0.015156
hysteresis = 42, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set stepper_y hstrt=7
autotune_tmc set stepper_y hend=9
autotune_tmc using max PWM speed 445.633841
autotune_tmc set stepper_y pwm_autoscale=True
autotune_tmc set stepper_y pwm_autograd=True
autotune_tmc set stepper_y pwm_grad=4
autotune_tmc set stepper_y pwm_ofs=10
autotune_tmc set stepper_y pwm_reg=15
autotune_tmc set stepper_y pwm_lim=4
autotune_tmc set stepper_y tpwmthrs=1048575
autotune_tmc set stepper_y en_pwm_mode=False
autotune_tmc set stepper_y tcoolthrs=391(24.0)
autotune_tmc set stepper_y sgt=1
autotune_tmc set stepper_y small_hysteresis=False
autotune_tmc set stepper_y semin=2
autotune_tmc set stepper_y semax=2
autotune_tmc set stepper_y seup=3
autotune_tmc set stepper_y sedn=2
autotune_tmc set stepper_y seimin=0
autotune_tmc set stepper_y sfilt=0
autotune_tmc set stepper_y iholddelay=12
autotune_tmc set stepper_y vhighfs=False
autotune_tmc set stepper_y vhighchm=False
autotune_tmc set stepper_y multistep_filt=True
autotune_tmc set stepper_y1 pwm_freq=2
autotune_tmc stepper_y1 ncycles=219 pfdcycles=73
autotune_tmc set stepper_y1 tpfd=1
autotune_tmc set stepper_y1 tbl=1
autotune_tmc set stepper_y1 toff=1
autotune_tmc seting hysteresis based on 48.0 V
dcoilblank = 0.160000, dcoilsd = 0.015156
hysteresis = 42, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set stepper_y1 hstrt=7
autotune_tmc set stepper_y1 hend=9
autotune_tmc using max PWM speed 445.633841
autotune_tmc set stepper_y1 pwm_autoscale=True
autotune_tmc set stepper_y1 pwm_autograd=True
autotune_tmc set stepper_y1 pwm_grad=4
autotune_tmc set stepper_y1 pwm_ofs=10
autotune_tmc set stepper_y1 pwm_reg=15
autotune_tmc set stepper_y1 pwm_lim=4
autotune_tmc set stepper_y1 tpwmthrs=1048575
autotune_tmc set stepper_y1 en_pwm_mode=False
autotune_tmc set stepper_y1 tcoolthrs=391(24.0)
autotune_tmc set stepper_y1 sgt=1
autotune_tmc set stepper_y1 small_hysteresis=False
autotune_tmc set stepper_y1 semin=2
autotune_tmc set stepper_y1 semax=2
autotune_tmc set stepper_y1 seup=3
autotune_tmc set stepper_y1 sedn=2
autotune_tmc set stepper_y1 seimin=0
autotune_tmc set stepper_y1 sfilt=0
autotune_tmc set stepper_y1 iholddelay=12
autotune_tmc set stepper_y1 vhighfs=False
autotune_tmc set stepper_y1 vhighchm=False
autotune_tmc set stepper_y1 multistep_filt=True
autotune_tmc set stepper_z pwm_freq=2
autotune_tmc stepper_z ncycles=219 pfdcycles=73
autotune_tmc set stepper_z tbl=1
autotune_tmc set stepper_z toff=1
autotune_tmc seting hysteresis based on 24.0 V
dcoilblank = 0.080000, dcoilsd = 0.013495
hysteresis = 22, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set stepper_z hstrt=7
autotune_tmc set stepper_z hend=9
autotune_tmc set stepper_z sgthrs=40
autotune_tmc using max PWM speed 43.108253
autotune_tmc set stepper_z pwm_autoscale=True
autotune_tmc set stepper_z pwm_autograd=True
autotune_tmc set stepper_z pwm_grad=7
autotune_tmc set stepper_z pwm_ofs=18
autotune_tmc set stepper_z pwm_reg=15
autotune_tmc set stepper_z pwm_lim=4
autotune_tmc set stepper_z tpwmthrs=1048575
autotune_tmc set stepper_z en_spreadcycle=True
autotune_tmc set stepper_z tcoolthrs=391(2.4)
autotune_tmc set stepper_z semin=2
autotune_tmc set stepper_z semax=2
autotune_tmc set stepper_z seup=3
autotune_tmc set stepper_z sedn=2
autotune_tmc set stepper_z seimin=0
autotune_tmc set stepper_z iholddelay=12
autotune_tmc set stepper_z multistep_filt=True
autotune_tmc set stepper_z1 pwm_freq=2
autotune_tmc stepper_z1 ncycles=219 pfdcycles=73
autotune_tmc set stepper_z1 tbl=1
autotune_tmc set stepper_z1 toff=1
autotune_tmc seting hysteresis based on 24.0 V
dcoilblank = 0.080000, dcoilsd = 0.013495
hysteresis = 22, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set stepper_z1 hstrt=7
autotune_tmc set stepper_z1 hend=9
autotune_tmc set stepper_z1 sgthrs=40
autotune_tmc using max PWM speed 43.108253
autotune_tmc set stepper_z1 pwm_autoscale=True
autotune_tmc set stepper_z1 pwm_autograd=True
autotune_tmc set stepper_z1 pwm_grad=7
autotune_tmc set stepper_z1 pwm_ofs=18
autotune_tmc set stepper_z1 pwm_reg=15
autotune_tmc set stepper_z1 pwm_lim=4
autotune_tmc set stepper_z1 tpwmthrs=1048575
autotune_tmc set stepper_z1 en_spreadcycle=True
autotune_tmc set stepper_z1 tcoolthrs=391(2.4)
autotune_tmc set stepper_z1 semin=2
autotune_tmc set stepper_z1 semax=2
autotune_tmc set stepper_z1 seup=3
autotune_tmc set stepper_z1 sedn=2
autotune_tmc set stepper_z1 seimin=0
autotune_tmc set stepper_z1 iholddelay=12
autotune_tmc set stepper_z1 multistep_filt=True
autotune_tmc set stepper_z2 pwm_freq=2
autotune_tmc stepper_z2 ncycles=219 pfdcycles=73
autotune_tmc set stepper_z2 tbl=1
autotune_tmc set stepper_z2 toff=1
autotune_tmc seting hysteresis based on 24.0 V
dcoilblank = 0.080000, dcoilsd = 0.013495
hysteresis = 22, htotal = 14, hstrt = 8, hend = 6
autotune_tmc set stepper_z2 hstrt=7
autotune_tmc set stepper_z2 hend=9
autotune_tmc set stepper_z2 sgthrs=40
autotune_tmc using max PWM speed 43.108253
autotune_tmc set stepper_z2 pwm_autoscale=True
autotune_tmc set stepper_z2 pwm_autograd=True
autotune_tmc set stepper_z2 pwm_grad=7
autotune_tmc set stepper_z2 pwm_ofs=18
autotune_tmc set stepper_z2 pwm_reg=15
autotune_tmc set stepper_z2 pwm_lim=4
autotune_tmc set stepper_z2 tpwmthrs=1048575
autotune_tmc set stepper_z2 en_spreadcycle=True
autotune_tmc set stepper_z2 tcoolthrs=391(2.4)
autotune_tmc set stepper_z2 semin=2
autotune_tmc set stepper_z2 semax=2
autotune_tmc set stepper_z2 seup=3
autotune_tmc set stepper_z2 sedn=2
autotune_tmc set stepper_z2 seimin=0
autotune_tmc set stepper_z2 iholddelay=12
autotune_tmc set stepper_z2 multistep_filt=True
Stats 307.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9087 bytes_read=12248 bytes_retransmit=9 bytes_invalid=0 send_seq=591 receive_seq=591 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400028686 rpi: mcu_awake=0.003 mcu_task_avg=0.000019 mcu_task_stddev=0.000011 bytes_write=843 bytes_read=4641 bytes_retransmit=0 bytes_invalid=0 send_seq=115 receive_seq=115 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49998794 adj=49985402 thermexp1: mcu_awake=0.011 mcu_task_avg=0.000026 mcu_task_stddev=0.000038 bytes_write=893 bytes_read=4106 bytes_retransmit=9 bytes_invalid=0 send_seq=108 receive_seq=108 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47971469 adj=47967181 thermexp2: mcu_awake=0.010 mcu_task_avg=0.000027 mcu_task_stddev=0.000045 bytes_write=837 bytes_read=4047 bytes_retransmit=9 bytes_invalid=0 send_seq=97 receive_seq=97 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47998072 adj=47997755 Octopus_Max: temp=30.3 Pi: temp=32.6  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.7 bed_core: temp=25.9 2209_M1: temp=24.9 2209_M2: temp=25.1 2209_M3: temp=25.3 5160_M4: temp=26.4 5160_M5: temp=26.7 5160_M6: temp=26.1 5160_M7: temp=26.4 2209_M8: temp=25.0 Stepper_back_left: temp=24.6 Stepper_back_right: temp=24.7 Stepper_front_left: temp=24.4 Stepper_front_right: temp=24.6 sysload=0.20 cputime=11.295 memavail=7500820 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.5 pwm=0.000
webhooks: registering remote method 'shutdown_machine' for connection id: 4124032232
webhooks: registering remote method 'reboot_machine' for connection id: 4124032232
webhooks: registering remote method 'pause_job_queue' for connection id: 4124032232
webhooks: registering remote method 'start_job_queue' for connection id: 4124032232
webhooks: registering remote method 'set_device_power' for connection id: 4124032232
Stats 308.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9093 bytes_read=12485 bytes_retransmit=9 bytes_invalid=0 send_seq=592 receive_seq=592 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400029134 rpi: mcu_awake=0.003 mcu_task_avg=0.000019 mcu_task_stddev=0.000011 bytes_write=849 bytes_read=4657 bytes_retransmit=0 bytes_invalid=0 send_seq=116 receive_seq=116 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999044 adj=50003738 thermexp1: mcu_awake=0.011 mcu_task_avg=0.000026 mcu_task_stddev=0.000038 bytes_write=899 bytes_read=4437 bytes_retransmit=9 bytes_invalid=0 send_seq=109 receive_seq=109 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47971557 adj=47968535 thermexp2: mcu_awake=0.010 mcu_task_avg=0.000027 mcu_task_stddev=0.000045 bytes_write=843 bytes_read=4378 bytes_retransmit=9 bytes_invalid=0 send_seq=98 receive_seq=98 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47997726 adj=47992678 Octopus_Max: temp=30.3 Pi: temp=32.6  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.8 2209_M1: temp=25.0 2209_M2: temp=25.1 2209_M3: temp=25.5 5160_M4: temp=26.5 5160_M5: temp=26.7 5160_M6: temp=26.3 5160_M7: temp=26.7 2209_M8: temp=24.9 Stepper_back_left: temp=24.8 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.7 Stepper_front_right: temp=24.8 sysload=0.20 cputime=11.354 memavail=7500120 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.5 pwm=0.000
Stats 309.4: gcodein=0  mcu: mcu_awake=0.001 mcu_task_avg=0.000002 mcu_task_stddev=0.000001 bytes_write=9099 bytes_read=12708 bytes_retransmit=9 bytes_invalid=0 send_seq=593 receive_seq=593 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400028590 rpi: mcu_awake=0.003 mcu_task_avg=0.000019 mcu_task_stddev=0.000011 bytes_write=855 bytes_read=4673 bytes_retransmit=0 bytes_invalid=0 send_seq=117 receive_seq=117 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999191 adj=50002006 thermexp1: mcu_awake=0.011 mcu_task_avg=0.000026 mcu_task_stddev=0.000038 bytes_write=905 bytes_read=4723 bytes_retransmit=9 bytes_invalid=0 send_seq=110 receive_seq=110 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47971278 adj=47968461 thermexp2: mcu_awake=0.010 mcu_task_avg=0.000027 mcu_task_stddev=0.000045 bytes_write=849 bytes_read=4664 bytes_retransmit=9 bytes_invalid=0 send_seq=99 receive_seq=99 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47997769 adj=47992421 Octopus_Max: temp=30.4 Pi: temp=33.1  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.8 2209_M1: temp=25.1 2209_M2: temp=25.3 2209_M3: temp=25.5 5160_M4: temp=26.8 5160_M5: temp=26.7 5160_M6: temp=26.5 5160_M7: temp=26.5 2209_M8: temp=25.0 Stepper_back_left: temp=24.6 Stepper_back_right: temp=24.7 Stepper_front_left: temp=24.6 Stepper_front_right: temp=24.7 sysload=0.20 cputime=11.372 memavail=7500120 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 310.4: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000009 mcu_task_stddev=0.000065 bytes_write=9105 bytes_read=12987 bytes_retransmit=9 bytes_invalid=0 send_seq=594 receive_seq=594 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400028321 rpi: mcu_awake=0.003 mcu_task_avg=0.000019 mcu_task_stddev=0.000011 bytes_write=861 bytes_read=4689 bytes_retransmit=0 bytes_invalid=0 send_seq=118 receive_seq=118 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999294 adj=50000864 thermexp1: mcu_awake=0.011 mcu_task_avg=0.000026 mcu_task_stddev=0.000038 bytes_write=911 bytes_read=5054 bytes_retransmit=9 bytes_invalid=0 send_seq=111 receive_seq=111 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47971351 adj=47967910 thermexp2: mcu_awake=0.010 mcu_task_avg=0.000027 mcu_task_stddev=0.000045 bytes_write=855 bytes_read=4995 bytes_retransmit=9 bytes_invalid=0 send_seq=100 receive_seq=100 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47998375 adj=47993123 Octopus_Max: temp=30.3 Pi: temp=33.1  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.8 2209_M1: temp=25.1 2209_M2: temp=25.2 2209_M3: temp=25.6 5160_M4: temp=26.7 5160_M5: temp=26.8 5160_M6: temp=26.6 5160_M7: temp=27.1 2209_M8: temp=25.1 Stepper_back_left: temp=24.6 Stepper_back_right: temp=24.7 Stepper_front_left: temp=24.6 Stepper_front_right: temp=24.7 sysload=0.18 cputime=11.390 memavail=7500120 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 311.4: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000009 mcu_task_stddev=0.000065 bytes_write=9111 bytes_read=13212 bytes_retransmit=9 bytes_invalid=0 send_seq=595 receive_seq=595 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400028164 rpi: mcu_awake=0.000 mcu_task_avg=0.000008 mcu_task_stddev=0.000008 bytes_write=867 bytes_read=4718 bytes_retransmit=0 bytes_invalid=0 send_seq=119 receive_seq=119 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999397 adj=49999908 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=917 bytes_read=5400 bytes_retransmit=9 bytes_invalid=0 send_seq=112 receive_seq=112 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47971246 adj=47968158 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=861 bytes_read=5341 bytes_retransmit=9 bytes_invalid=0 send_seq=101 receive_seq=101 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47998619 adj=47994899 Octopus_Max: temp=30.3 Pi: temp=33.1  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.8 2209_M1: temp=25.2 2209_M2: temp=25.3 2209_M3: temp=25.6 5160_M4: temp=27.0 5160_M5: temp=27.0 5160_M6: temp=26.6 5160_M7: temp=27.0 2209_M8: temp=25.2 Stepper_back_left: temp=24.9 Stepper_back_right: temp=24.6 Stepper_front_left: temp=24.2 Stepper_front_right: temp=24.8 sysload=0.18 cputime=11.408 memavail=7500120 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.6 pwm=0.000
Stats 312.4: gcodein=0  mcu: mcu_awake=0.015 mcu_task_avg=0.000009 mcu_task_stddev=0.000065 bytes_write=9117 bytes_read=13435 bytes_retransmit=9 bytes_invalid=0 send_seq=596 receive_seq=596 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=400028079 rpi: mcu_awake=0.000 mcu_task_avg=0.000008 mcu_task_stddev=0.000008 bytes_write=873 bytes_read=4734 bytes_retransmit=0 bytes_invalid=0 send_seq=120 receive_seq=120 retransmit_seq=0 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=49999647 adj=49999216 thermexp1: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=923 bytes_read=5686 bytes_retransmit=9 bytes_invalid=0 send_seq=113 receive_seq=113 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47971226 adj=47967883 thermexp2: mcu_awake=0.007 mcu_task_avg=0.000019 mcu_task_stddev=0.000015 bytes_write=873 bytes_read=5643 bytes_retransmit=9 bytes_invalid=0 send_seq=103 receive_seq=103 retransmit_seq=2 srtt=0.000 rttvar=0.000 rto=0.025 ready_bytes=0 upcoming_bytes=0 freq=47999169 adj=47995590 Octopus_Max: temp=30.4 Pi: temp=32.1  heater_bed: target=0 temp=25.3 pwm=0.000 bed_mat: temp=24.8 bed_core: temp=25.8 2209_M1: temp=25.1 2209_M2: temp=25.3 2209_M3: temp=25.6 5160_M4: temp=26.9 5160_M5: temp=27.0 5160_M6: temp=26.7 5160_M7: temp=26.8 2209_M8: temp=25.1 Stepper_back_left: temp=24.7 Stepper_back_right: temp=24.8 Stepper_front_left: temp=24.5 Stepper_front_right: temp=24.6 sysload=0.18 cputime=11.439 memavail=7500380 print_time=0.000 buffer_time=0.000 print_stall=0 extruder: target=0 temp=25.4 pwm=0.000
